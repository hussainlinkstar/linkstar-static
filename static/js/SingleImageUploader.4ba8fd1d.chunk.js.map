{"version":3,"sources":["../static/js/SingleImageUploader.4ba8fd1d.chunk.js","Shared/components/SingleImageUploader/index.js","Shared/components/SingleImageUploader/EditorModal.js","../node_modules/react-cropper/dist/react-cropper.js","../node_modules/cropperjs/dist/cropper.esm.js","webpack:///./src/Shared/components/SingleImageUploader/EditorModal.scss?ac05","Shared/components/SingleImageUploader/EditorModal.scss","Shared/components/SingleImageUploader/UploadButton.js","webpack:///./src/Shared/components/SingleImageUploader/UploadButton.scss?5ab4","Shared/components/SingleImageUploader/UploadButton.scss","Shared/components/SingleImageUploader/Uploader.js","webpack:///./src/Shared/components/SingleImageUploader/Uploader.scss?a48e","Shared/components/SingleImageUploader/Uploader.scss","Shared/components/SingleImageUploader/UploadedSingleFileWrapper.js","webpack:///./src/Shared/components/SingleImageUploader/UploadedSingleFileWrapper.scss?7624","Shared/components/SingleImageUploader/UploadedSingleFileWrapper.scss","webpack:///./src/Shared/components/SingleImageUploader/SingleImageUploader.scss?aaaa","Shared/components/SingleImageUploader/SingleImageUploader.scss"],"names":["webpackJsonp","2007","module","__webpack_exports__","__webpack_require__","Object","defineProperty","value","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default","n","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_asyncToGenerator__","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_asyncToGenerator___default","__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_get_prototype_of__","__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_get_prototype_of___default","__WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_classCallCheck__","__WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_classCallCheck___default","__WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_createClass__","__WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_createClass___default","__WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_possibleConstructorReturn__","__WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_possibleConstructorReturn___default","__WEBPACK_IMPORTED_MODULE_6_babel_runtime_helpers_inherits__","__WEBPACK_IMPORTED_MODULE_6_babel_runtime_helpers_inherits___default","__WEBPACK_IMPORTED_MODULE_7_react__","__WEBPACK_IMPORTED_MODULE_7_react___default","__WEBPACK_IMPORTED_MODULE_8_prop_types__","__WEBPACK_IMPORTED_MODULE_8_prop_types___default","__WEBPACK_IMPORTED_MODULE_9_Shared_services_NotificationService__","__WEBPACK_IMPORTED_MODULE_10_Shared_constants_Files__","__WEBPACK_IMPORTED_MODULE_11_Shared_constants_S3__","__WEBPACK_IMPORTED_MODULE_12_Shared_helpers_files__","__WEBPACK_IMPORTED_MODULE_13_Shared_helpers_string__","__WEBPACK_IMPORTED_MODULE_14_Shared_hoc_withTranslations__","__WEBPACK_IMPORTED_MODULE_15_classnames__","__WEBPACK_IMPORTED_MODULE_15_classnames___default","__WEBPACK_IMPORTED_MODULE_16__Uploader__","__WEBPACK_IMPORTED_MODULE_17__EditorModal__","__WEBPACK_IMPORTED_MODULE_18__UploadedSingleFileWrapper__","__WEBPACK_IMPORTED_MODULE_19_Shared_components_FormElements_Label__","__WEBPACK_IMPORTED_MODULE_20__SingleImageUploader_scss__","AvatarUploader","_Component","props","_this2","this","_this","__proto__","call","_showEditorModal","setState","showEditor","_hideEditorModal","handleEditorModalClose","resetCroppedImage","onDrop","acceptedFiles","rejectedFiles","requirement","handleException","multiple","length","some","file","size","includes","type","error","t","limit","Math","pow","onDropAccepted","reader","window","FileReader","onload","originalImage","result","readAsDataURL","uploadImage","_ref","a","mark","_callee","croppedImage","wrap","_context","prev","next","uploadFile","state","name","changedImage","stop","_x","apply","arguments","key","_props","imageUrl","deleteFile","textConfig","hasError","label","_state","uploaderClass","single-file-uploader__wrapper","single-file-uploader__wrapper--error","inputLabel","createElement","className","options","layout","sizeConstraints","uploadButtonText","deleteModalTitle","deleteModalContent","img","filename","onDelete","i18nContentKey","uploaderContent","maxFileSize","acceptedFormats","title","editorModalTitle","cropAspectRatio","hideModal","handleSubmit","isModalVisible","propTypes","func","isRequired","shape","string","editorModalHeading","number","oneOf","arrayOf","bool","defaultProps","AVATAR","SQUARE","2620","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_slicedToArray__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_slicedToArray___default","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_prototype_of__","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_prototype_of___default","__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_classCallCheck__","__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_classCallCheck___default","__WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_createClass__","__WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_createClass___default","__WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_possibleConstructorReturn__","__WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_possibleConstructorReturn___default","__WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_inherits__","__WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_inherits___default","__WEBPACK_IMPORTED_MODULE_6_react__","__WEBPACK_IMPORTED_MODULE_6_react___default","__WEBPACK_IMPORTED_MODULE_7_react_cropper__","__WEBPACK_IMPORTED_MODULE_7_react_cropper___default","__WEBPACK_IMPORTED_MODULE_9_Shared_helpers_image__","__WEBPACK_IMPORTED_MODULE_10_Shared_components_Modal_index__","__WEBPACK_IMPORTED_MODULE_11_Shared_hoc_withTranslations_index__","__WEBPACK_IMPORTED_MODULE_12_Shared_constants_Files__","__WEBPACK_IMPORTED_MODULE_13_Shared_hoc_withDeviceWidthDetector_withDeviceWidthDetector__","__WEBPACK_IMPORTED_MODULE_14__EditorModal_scss__","__WEBPACK_IMPORTED_MODULE_15_Shared_components_Button__","EditorModal","cropImage","_this$props$sizeConst","width","height","croppedCanvas","cropper","getCroppedCanvas","imageToUpload","getCropper","style","aspectRatio","guides","src","ref","cropResult","isMobile","handleClose","show","onClick","handleCancel","cancelText","submitText","showContact","showCancel","2621","exports","_interopRequireDefault","obj","__esModule","default","_defineProperty","enumerable","configurable","writable","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","prototype","create","constructor","setPrototypeOf","_extends","assign","target","i","source","hasOwnProperty","_createClass","defineProperties","descriptor","protoProps","staticProps","_react","_react2","_propTypes","_propTypes2","_cropperjs","_cropperjs2","optionProps","unchangeableProps","slice","ReactCropper","getPrototypeOf","keys","filter","propKey","indexOf","reduce","prevOptions","nextProps","_this3","reset","clear","replace","setAspectRatio","data","setData","dragMode","setDragMode","cropBoxData","setCropBoxData","canvasData","setCanvasData","moveTo","zoomTo","rotateTo","scaleX","scaleY","enable","disable","forEach","isDifferentVal","isUnchangeableProps","toString","Error","destroy","mode","getCropBoxData","getCanvasData","getImageData","getContainerData","rounded","getData","crop","offsetX","offsetY","move","x","y","ratio","zoom","degree","rotate","url","onlyColorChanged","scale","_scaleX","_scaleY","_this4","alt","crossOrigin","undefined","opacity","Component","object","left","top","viewMode","preview","responsive","restore","checkCrossOrigin","checkOrientation","modal","center","highlight","background","autoCrop","autoCropArea","movable","rotatable","scalable","zoomable","zoomOnTouch","zoomOnWheel","wheelZoomRation","cropBoxMovable","cropBoxResizable","toggleDragModeOnDblclick","minContainerWidth","minContainerHeight","minCanvasWidth","minCanvasHeight","minCropBoxWidth","minCropBoxHeight","ready","cropstart","cropmove","cropend","2622","isNumber","isNaN","isUndefined","isObject","_typeof","isPlainObject","_constructor","e","isFunction","callback","Array","isArray","normalizeDecimalNumber","times","REGEXP_DECIMALS","test","round","setStyle","element","styles","property","REGEXP_SUFFIX","hasClass","classList","contains","addClass","elem","add","trim","removeClass","remove","toggleClass","added","hyphenate","REGEXP_HYPHENATE","toLowerCase","dataset","getAttribute","setAttribute","removeData","removeAttribute","removeListener","listener","handler","split","REGEXP_SPACES","event","onceSupported","listeners","removeEventListener","addListener","_handler","once","_element$listeners","_len2","args","_key2","addEventListener","dispatchEvent","Event","CustomEvent","detail","bubbles","cancelable","document","createEvent","initCustomEvent","getOffset","box","getBoundingClientRect","pageXOffset","documentElement","clientLeft","pageYOffset","clientTop","isCrossOriginURL","parts","match","REGEXP_ORIGINS","location","protocol","hostname","port","addTimestamp","timestamp","Date","getTime","getTransforms","translateX","translateY","values","push","transform","join","WebkitTransform","msTransform","getMaxZoomRatio","pointers","pointers2","ratios","pointer","pointerId","pointer2","x1","abs","startX","y1","startY","x2","endX","y2","endY","z1","sqrt","z2","sort","b","getPointer","_ref2","endOnly","pageX","pageY","end","getPointersCenter","count","_ref3","getAdjustedSizes","_ref4","isValidNumber","isFinite","adjustedWidth","getRotatedSizes","_ref5","arc","PI","sinArc","sin","cosArc","cos","newWidth","newHeight","getSourceCanvas","image","_ref6","_ref7","_ref8","imageAspectRatio","imageNaturalWidth","naturalWidth","imageNaturalHeight","naturalHeight","_ref6$rotate","_ref6$scaleX","_ref6$scaleY","_ref8$fillColor","fillColor","_ref8$imageSmoothingE","imageSmoothingEnabled","_ref8$imageSmoothingQ","imageSmoothingQuality","_ref8$maxWidth","maxWidth","Infinity","_ref8$maxHeight","maxHeight","_ref8$minWidth","minWidth","_ref8$minHeight","minHeight","canvas","context","getContext","maxSizes","minSizes","min","max","destMaxSizes","destMinSizes","destWidth","destHeight","params","fillStyle","fillRect","save","translate","drawImage","concat","toConsumableArray","map","param","floor","getStringFromCharCode","dataView","start","str","fromCharCode","getUint8","dataURLToArrayBuffer","dataURL","base64","REGEXP_DATA_URL_HEAD","binary","atob","arrayBuffer","ArrayBuffer","uint8","Uint8Array","charCodeAt","arrayBufferToDataURL","mimeType","btoa","getOrientation","DataView","orientation","littleEndian","app1Start","ifdStart","byteLength","offset","exifIDCode","tiffOffset","endianness","getUint16","firstIFDOffset","getUint32","_length","_offset","setUint16","parseOrientation","IN_BROWSER","WINDOW","CLASS_HIDDEN","NAMESPACE","EVENT_POINTER_DOWN","PointerEvent","EVENT_POINTER_MOVE","EVENT_POINTER_UP","REGEXP_ACTIONS","REGEXP_DATA_URL","REGEXP_DATA_URL_JPEG","REGEXP_TAG_NAME","DEFAULTS","initialAspectRatio","NaN","wheelZoomRatio","Symbol","iterator","classCallCheck","createClass","arr","arr2","from","Number","_len","_key","arg","supported","get","set","String","render","initContainer","initCanvas","initCropBox","renderCanvas","cropped","renderCropBox","container","containerData","offsetWidth","offsetHeight","imageData","rotated","canvasWidth","canvasHeight","oldLeft","oldTop","limited","limitCanvas","initialImageData","initialCanvasData","sizeLimited","positionLimited","_getAdjustedSizes","newCanvasLeft","newCanvasTop","minLeft","minTop","maxLeft","maxTop","changed","transformed","_getRotatedSizes","renderImage","limitCropBox","output","initialCropBoxData","maxCropBoxWidth","maxCropBoxHeight","face","cropBox","disabled","initPreview","crossOriginUrl","viewBox","appendChild","viewBoxImage","previews","ownerDocument","querySelectorAll","querySelector","el","html","innerHTML","cssText","resetPreview","cropBoxWidth","cropBoxHeight","originalWidth","originalHeight","getElementsByTagName","events","bind","onCropStart","cropStart","onWheel","wheel","onDblclick","dblclick","onCropMove","cropMove","onCropEnd","cropEnd","onResize","resize","unbind","handlers","dragBox","delta","preventDefault","wheeling","setTimeout","deltaY","wheelDelta","action","changedTouches","touch","identifier","originalEvent","cropping","change","right","bottom","renderable","shiftKey","range","check","side","p","methods","hasSameSize","isImg","replaced","uncreate","load","originalUrl","_canvasData","_originalEvent","pivot","oldRatio","sized","widthChanged","heightChanged","HTMLCanvasElement","_getData","initialX","initialY","initialWidth","initialHeight","_options$imageSmoothi","sourceWidth","sourceHeight","srcX","srcY","srcWidth","srcHeight","dstX","dstY","dstWidth","dstHeight","croppable","AnotherCropper","Cropper","tagName","reloading","sizing","init","toDataURL","clone","read","xhr","XMLHttpRequest","done","ontimeout","onabort","onerror","response","open","responseType","withCredentials","send","_parseOrientation","parentNode","insertBefore","nextSibling","IS_SAFARI","navigator","userAgent","build","sizingImage","body","removeChild","template","getElementsByClassName","unbuild","abort","2623","content","hmr","locals","2624","version","sources","names","mappings","sourcesContent","sourceRoot","2625","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_get_prototype_of__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_get_prototype_of___default","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck__","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck___default","__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_createClass__","__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_createClass___default","__WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_possibleConstructorReturn__","__WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_possibleConstructorReturn___default","__WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_inherits__","__WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_inherits___default","__WEBPACK_IMPORTED_MODULE_5_react__","__WEBPACK_IMPORTED_MODULE_5_react___default","__WEBPACK_IMPORTED_MODULE_6_prop_types__","__WEBPACK_IMPORTED_MODULE_6_prop_types___default","__WEBPACK_IMPORTED_MODULE_7_react_dropzone__","__WEBPACK_IMPORTED_MODULE_8_Shared_components_Button__","__WEBPACK_IMPORTED_MODULE_9_Shared_hoc_withTranslations_index__","__WEBPACK_IMPORTED_MODULE_10__UploadButton_scss__","Uploader","customButton","customButtonChildren","CustomButton","maxSize","accept","activeClassName","disableClick","node","dropzoneRef","children","2626","2627","3259","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default","__WEBPACK_IMPORTED_MODULE_7_prop_types__","__WEBPACK_IMPORTED_MODULE_7_prop_types___default","__WEBPACK_IMPORTED_MODULE_8_react_dropzone__","__WEBPACK_IMPORTED_MODULE_9_react_i18next__","__WEBPACK_IMPORTED_MODULE_10_Shared_hoc_withTranslations_index__","__WEBPACK_IMPORTED_MODULE_11__Uploader_scss__","_temp","_ret","uploadButton","input","parent","i18nKey","3260","3261","3262","__WEBPACK_IMPORTED_MODULE_7_classnames__","__WEBPACK_IMPORTED_MODULE_7_classnames___default","__WEBPACK_IMPORTED_MODULE_9_Shared_hoc_withTranslations__","__WEBPACK_IMPORTED_MODULE_10_Shared_components_FormElements_Label__","__WEBPACK_IMPORTED_MODULE_11_Shared_components_Button__","__WEBPACK_IMPORTED_MODULE_12_Shared_constants_S3__","__WEBPACK_IMPORTED_MODULE_13__UploadButton__","__WEBPACK_IMPORTED_MODULE_14_Shared_components_DeleteModal__","__WEBPACK_IMPORTED_MODULE_15_Shared_constants_Files__","__WEBPACK_IMPORTED_MODULE_16__UploadedSingleFileWrapper_scss__","UploadedSingleFileWrapper","_openDeleteModal","showDeleteModal","_hideDeleteModal","renderUploadedFileByLayout","_this$props","singleFileUploaderClass","single-file-uploader__file-container","single-file-uploader__file-container--horizontal","single-file-uploader__file-container--vertical","verticalImageStyles","backgroundImage","paddingBottom","justIcon","borderRadius","handleDelete","hideDeleteModal","3263","3264","3265","3266"],"mappings":"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","file":"static/js/SingleImageUploader.4ba8fd1d.chunk.js","sourcesContent":["webpackJsonp([18],{\n\n/***/ 2007:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator__ = __webpack_require__(9);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_asyncToGenerator__ = __webpack_require__(10);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_asyncToGenerator___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_asyncToGenerator__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_get_prototype_of__ = __webpack_require__(12);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_get_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_get_prototype_of__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_classCallCheck__ = __webpack_require__(4);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_classCallCheck___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_classCallCheck__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_createClass__ = __webpack_require__(5);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_createClass___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_createClass__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_possibleConstructorReturn__ = __webpack_require__(13);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_possibleConstructorReturn___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_possibleConstructorReturn__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_babel_runtime_helpers_inherits__ = __webpack_require__(14);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_babel_runtime_helpers_inherits___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_babel_runtime_helpers_inherits__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_7_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_prop_types__ = __webpack_require__(3);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_prop_types___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_8_prop_types__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9_Shared_services_NotificationService__ = __webpack_require__(67);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10_Shared_constants_Files__ = __webpack_require__(453);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11_Shared_constants_S3__ = __webpack_require__(786);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12_Shared_helpers_files__ = __webpack_require__(777);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13_Shared_helpers_string__ = __webpack_require__(66);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14_Shared_hoc_withTranslations__ = __webpack_require__(21);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_15_classnames__ = __webpack_require__(11);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_15_classnames___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_15_classnames__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_16__Uploader__ = __webpack_require__(3259);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_17__EditorModal__ = __webpack_require__(2620);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_18__UploadedSingleFileWrapper__ = __webpack_require__(3262);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_19_Shared_components_FormElements_Label__ = __webpack_require__(40);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_20__SingleImageUploader_scss__ = __webpack_require__(3265);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_20__SingleImageUploader_scss___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_20__SingleImageUploader_scss__);\nvar AvatarUploader=function(_Component){__WEBPACK_IMPORTED_MODULE_6_babel_runtime_helpers_inherits___default()(AvatarUploader,_Component);function AvatarUploader(props){var _this2=this;__WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_classCallCheck___default()(this,AvatarUploader);var _this=__WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_possibleConstructorReturn___default()(this,(AvatarUploader.__proto__||__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_get_prototype_of___default()(AvatarUploader)).call(this,props));_this._showEditorModal=function(){return _this.setState({showEditor:true});};_this._hideEditorModal=function(){return _this.setState({showEditor:false});};_this.handleEditorModalClose=function(){_this._hideEditorModal();_this.resetCroppedImage();};_this.onDrop=function(acceptedFiles,rejectedFiles){if(!_this.props.requirement){return _this.props.handleException();}var multiple=_this.props.multiple;if(!multiple&&!acceptedFiles.length&&rejectedFiles.some(function(file){return file.size>__WEBPACK_IMPORTED_MODULE_11_Shared_constants_S3__[\"g\" /* MAX_UPLOAD_FILE_SIZE */];})){return __WEBPACK_IMPORTED_MODULE_9_Shared_services_NotificationService__[\"a\" /* default */].error(_this.props.t('errors.imageTooLarge',{limit:__WEBPACK_IMPORTED_MODULE_11_Shared_constants_S3__[\"g\" /* MAX_UPLOAD_FILE_SIZE */]/Math.pow(1024,2)}));}if(!multiple&&!acceptedFiles.length&&rejectedFiles.some(function(file){return!__WEBPACK_IMPORTED_MODULE_11_Shared_constants_S3__[\"a\" /* ACCEPTED_AVATAR_FORMATS */].includes(file.type);})){return __WEBPACK_IMPORTED_MODULE_9_Shared_services_NotificationService__[\"a\" /* default */].error(_this.props.t('errors.fileUnsupported'));}};_this.onDropAccepted=function(acceptedFiles){if(!_this.props.requirement){return _this.props.handleException();}var reader=new window.FileReader();reader.onload=function(){_this.setState({originalImage:reader.result,file:acceptedFiles[0]});};reader.readAsDataURL(acceptedFiles[0]);return _this._showEditorModal();};_this.resetCroppedImage=function(){return _this.setState({originalImage:null});};_this.uploadImage=function(){var _ref=__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_asyncToGenerator___default()(/*#__PURE__*/__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default.a.mark(function _callee(croppedImage){return __WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return _this.props.uploadFile(Object(__WEBPACK_IMPORTED_MODULE_12_Shared_helpers_files__[\"b\" /* dataURItoBlob */])(croppedImage),Object(__WEBPACK_IMPORTED_MODULE_13_Shared_helpers_string__[\"v\" /* parseFileName */])(_this.state.file.name));case 2:_this.setState({changedImage:croppedImage});case 3:case'end':return _context.stop();}}},_callee,_this2);}));return function(_x){return _ref.apply(this,arguments);};}();_this.state={file:null,showEditor:false,originalImage:null,changedImage:null};return _this;}__WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_createClass___default()(AvatarUploader,[{key:'render',value:function render(){var _props=this.props,t=_props.t,imageUrl=_props.imageUrl,deleteFile=_props.deleteFile,textConfig=_props.textConfig,multiple=_props.multiple,hasError=_props.hasError,error=_props.error,label=_props.label;var _state=this.state,originalImage=_state.originalImage,showEditor=_state.showEditor,changedImage=_state.changedImage;var uploaderClass=__WEBPACK_IMPORTED_MODULE_15_classnames___default()({'single-file-uploader__wrapper':true,'single-file-uploader__wrapper--error':hasError});var inputLabel=label||'';return __WEBPACK_IMPORTED_MODULE_7_react___default.a.createElement('div',{className:uploaderClass},(hasError||inputLabel)&&__WEBPACK_IMPORTED_MODULE_7_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_19_Shared_components_FormElements_Label__[\"a\" /* default */],{className:'single-file-uploader__label'},hasError?t(error.key,error.options):inputLabel),imageUrl?__WEBPACK_IMPORTED_MODULE_7_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_18__UploadedSingleFileWrapper__[\"a\" /* default */],{layout:this.props.layout,sizeConstraints:this.props.sizeConstraints,uploadButtonText:t(textConfig.uploadButtonText),deleteModalTitle:t(textConfig.deleteModalTitle),deleteModalContent:t(textConfig.deleteModalContent),img:changedImage||imageUrl,filename:Object(__WEBPACK_IMPORTED_MODULE_12_Shared_helpers_files__[\"a\" /* avatarFileName */])(imageUrl),onDropAccepted:this.onDropAccepted,onDrop:this.onDrop,onDelete:deleteFile}):__WEBPACK_IMPORTED_MODULE_7_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_16__Uploader__[\"a\" /* default */],{i18nContentKey:textConfig.uploaderContent,uploadButtonText:t(textConfig.uploadButtonText),maxFileSize:__WEBPACK_IMPORTED_MODULE_11_Shared_constants_S3__[\"g\" /* MAX_UPLOAD_FILE_SIZE */],multiple:multiple,onDrop:this.onDrop,onDropAccepted:this.onDropAccepted,acceptedFormats:Object(__WEBPACK_IMPORTED_MODULE_11_Shared_constants_S3__[\"h\" /* getAcceptedAvatarFormats */])()}),__WEBPACK_IMPORTED_MODULE_7_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_17__EditorModal__[\"a\" /* default */],{title:t(textConfig.editorModalTitle),sizeConstraints:this.props.sizeConstraints,cropAspectRatio:this.props.cropAspectRatio,hideModal:this.handleEditorModalClose,handleSubmit:this.uploadImage,isModalVisible:showEditor,file:originalImage}));}}]);return AvatarUploader;}(__WEBPACK_IMPORTED_MODULE_7_react__[\"Component\"]);AvatarUploader.propTypes={uploadFile:__WEBPACK_IMPORTED_MODULE_8_prop_types___default.a.func.isRequired,deleteFile:__WEBPACK_IMPORTED_MODULE_8_prop_types___default.a.func.isRequired,textConfig:__WEBPACK_IMPORTED_MODULE_8_prop_types___default.a.shape({uploadButtonText:__WEBPACK_IMPORTED_MODULE_8_prop_types___default.a.string,editorModalHeading:__WEBPACK_IMPORTED_MODULE_8_prop_types___default.a.string,uploaderContent:__WEBPACK_IMPORTED_MODULE_8_prop_types___default.a.string,deleteModalTitle:__WEBPACK_IMPORTED_MODULE_8_prop_types___default.a.string,deleteModalContent:__WEBPACK_IMPORTED_MODULE_8_prop_types___default.a.string}).isRequired,cropAspectRatio:__WEBPACK_IMPORTED_MODULE_8_prop_types___default.a.number,layout:__WEBPACK_IMPORTED_MODULE_8_prop_types___default.a.oneOf(['horizontal','vertical','profile']),sizeConstraints:__WEBPACK_IMPORTED_MODULE_8_prop_types___default.a.arrayOf(__WEBPACK_IMPORTED_MODULE_8_prop_types___default.a.number),requirement:__WEBPACK_IMPORTED_MODULE_8_prop_types___default.a.bool,handleException:__WEBPACK_IMPORTED_MODULE_8_prop_types___default.a.func};AvatarUploader.defaultProps={handleException:function handleException(){},requirement:true,sizeConstraints:__WEBPACK_IMPORTED_MODULE_10_Shared_constants_Files__[\"b\" /* CROP_SIZES */].AVATAR,cropAspectRatio:__WEBPACK_IMPORTED_MODULE_10_Shared_constants_Files__[\"a\" /* ASPECT_RATIOS */].SQUARE,layout:'horizontal',textConfig:{uploadButtonText:'common.changeFile',uploaderContent:'common.uploadFileInfo',editorModalTitle:'common.cropImage',deleteModalTitle:'remove.fileGeneric.title',deleteModalContent:'remove.fileGeneric.description'}};/* harmony default export */ __webpack_exports__[\"default\"] = (Object(__WEBPACK_IMPORTED_MODULE_14_Shared_hoc_withTranslations__[\"a\" /* default */])(AvatarUploader));\n\n/***/ }),\n\n/***/ 2620:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_slicedToArray__ = __webpack_require__(119);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_slicedToArray___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_slicedToArray__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_prototype_of__ = __webpack_require__(12);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_prototype_of__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_classCallCheck__ = __webpack_require__(4);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_classCallCheck___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_classCallCheck__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_createClass__ = __webpack_require__(5);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_createClass___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_createClass__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_possibleConstructorReturn__ = __webpack_require__(13);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_possibleConstructorReturn___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_possibleConstructorReturn__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_inherits__ = __webpack_require__(14);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_inherits___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_inherits__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_react_cropper__ = __webpack_require__(2621);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_react_cropper___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_7_react_cropper__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_prop_types__ = __webpack_require__(3);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_prop_types___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_8_prop_types__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9_Shared_helpers_image__ = __webpack_require__(2288);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10_Shared_components_Modal_index__ = __webpack_require__(765);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11_Shared_hoc_withTranslations_index__ = __webpack_require__(21);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12_Shared_constants_Files__ = __webpack_require__(453);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13_Shared_hoc_withDeviceWidthDetector_withDeviceWidthDetector__ = __webpack_require__(58);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14__EditorModal_scss__ = __webpack_require__(2623);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14__EditorModal_scss___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_14__EditorModal_scss__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_15_Shared_components_Button__ = __webpack_require__(91);\nvar EditorModal=function(_Component){__WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_inherits___default()(EditorModal,_Component);function EditorModal(props){__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_classCallCheck___default()(this,EditorModal);var _this=__WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_possibleConstructorReturn___default()(this,(EditorModal.__proto__||__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_prototype_of___default()(EditorModal)).call(this,props));_this.cropImage=function(){var _this$props$sizeConst=__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_slicedToArray___default()(_this.props.sizeConstraints,2),width=_this$props$sizeConst[0],height=_this$props$sizeConst[1];var croppedCanvas=_this.cropper.getCroppedCanvas();var imageToUpload=Object(__WEBPACK_IMPORTED_MODULE_9_Shared_helpers_image__[\"a\" /* canvasToDataURL */])(Object(__WEBPACK_IMPORTED_MODULE_9_Shared_helpers_image__[\"c\" /* resize */])(croppedCanvas,{width:width,height:height}));_this.props.handleSubmit(imageToUpload);_this.props.hideModal();};_this.getCropper=function(){var file=_this.props.file;return __WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_7_react_cropper___default.a,{style:{height:400,width:'100%'},aspectRatio:_this.props.cropAspectRatio,guides:false,src:file,ref:function ref(cropper){_this.cropper=cropper;}});};_this.state={cropResult:false};return _this;}__WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_createClass___default()(EditorModal,[{key:'render',value:function render(){var _props=this.props,t=_props.t,hideModal=_props.hideModal,isModalVisible=_props.isModalVisible,title=_props.title,isMobile=_props.isMobile;return isMobile?__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_10_Shared_components_Modal_index__[\"c\" /* PreviewModalMobile */],{title:title,handleClose:hideModal,show:isModalVisible},this.getCropper(),__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('div',{className:'editor-modal-mobile__modal-buttons'},__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_15_Shared_components_Button__[\"l\" /* default */],{onClick:hideModal},t('common.cancel')),__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_15_Shared_components_Button__[\"d\" /* PrimaryButton */],{onClick:this.cropImage},t('common.submit')))):__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_10_Shared_components_Modal_index__[\"d\" /* default */],{title:title,handleSubmit:this.cropImage,handleClose:hideModal,show:isModalVisible,handleCancel:hideModal,cancelText:t('common.cancel'),submitText:t('common.save'),showContact:false,showCancel:true},this.getCropper());}}]);return EditorModal;}(__WEBPACK_IMPORTED_MODULE_6_react__[\"Component\"]);EditorModal.propTypes={handleSubmit:__WEBPACK_IMPORTED_MODULE_8_prop_types___default.a.func.isRequired,isModalVisible:__WEBPACK_IMPORTED_MODULE_8_prop_types___default.a.bool.isRequired,hideModal:__WEBPACK_IMPORTED_MODULE_8_prop_types___default.a.func.isRequired,cropAspectRatio:__WEBPACK_IMPORTED_MODULE_8_prop_types___default.a.number.isRequired,sizeConstraints:__WEBPACK_IMPORTED_MODULE_8_prop_types___default.a.arrayOf(__WEBPACK_IMPORTED_MODULE_8_prop_types___default.a.number)};EditorModal.defaultProps={cropAspectRatio:__WEBPACK_IMPORTED_MODULE_12_Shared_constants_Files__[\"a\" /* ASPECT_RATIOS */].SQUARE,sizeConstraints:__WEBPACK_IMPORTED_MODULE_12_Shared_constants_Files__[\"b\" /* CROP_SIZES */].AVATAR};/* harmony default export */ __webpack_exports__[\"a\"] = (Object(__WEBPACK_IMPORTED_MODULE_13_Shared_hoc_withDeviceWidthDetector_withDeviceWidthDetector__[\"a\" /* default */])(Object(__WEBPACK_IMPORTED_MODULE_11_Shared_hoc_withTranslations_index__[\"a\" /* default */])(EditorModal)));\n\n/***/ }),\n\n/***/ 2621:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = __webpack_require__(0);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = __webpack_require__(3);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _cropperjs = __webpack_require__(2622);\n\nvar _cropperjs2 = _interopRequireDefault(_cropperjs);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar optionProps = ['dragMode', 'aspectRatio', 'data', 'crop',\n// unchangeable props start from here\n'viewMode', 'preview', 'responsive', 'restore', 'checkCrossOrigin', 'checkOrientation', 'modal', 'guides', 'center', 'highlight', 'background', 'autoCrop', 'autoCropArea', 'movable', 'rotatable', 'scalable', 'zoomable', 'zoomOnTouch', 'zoomOnWheel', 'wheelZoomRation', 'cropBoxMovable', 'cropBoxResizable', 'toggleDragModeOnDblclick', 'minContainerWidth', 'minContainerHeight', 'minCanvasWidth', 'minCanvasHeight', 'minCropBoxWidth', 'minCropBoxHeight', 'ready', 'cropstart', 'cropmove', 'cropend', 'zoom'];\n\nvar unchangeableProps = optionProps.slice(4);\n\nvar ReactCropper = function (_Component) {\n  _inherits(ReactCropper, _Component);\n\n  function ReactCropper() {\n    _classCallCheck(this, ReactCropper);\n\n    return _possibleConstructorReturn(this, (ReactCropper.__proto__ || Object.getPrototypeOf(ReactCropper)).apply(this, arguments));\n  }\n\n  _createClass(ReactCropper, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      var options = Object.keys(this.props).filter(function (propKey) {\n        return optionProps.indexOf(propKey) !== -1;\n      }).reduce(function (prevOptions, propKey) {\n        return _extends({}, prevOptions, _defineProperty({}, propKey, _this2.props[propKey]));\n      }, {});\n      this.cropper = new _cropperjs2.default(this.img, options);\n    }\n  }, {\n    key: 'componentWillReceiveProps',\n    value: function componentWillReceiveProps(nextProps) {\n      var _this3 = this;\n\n      if (nextProps.src !== this.props.src) {\n        this.cropper.reset().clear().replace(nextProps.src);\n      }\n      if (nextProps.aspectRatio !== this.props.aspectRatio) {\n        this.setAspectRatio(nextProps.aspectRatio);\n      }\n      if (nextProps.data !== this.props.data) {\n        this.setData(nextProps.data);\n      }\n      if (nextProps.dragMode !== this.props.dragMode) {\n        this.setDragMode(nextProps.dragMode);\n      }\n      if (nextProps.cropBoxData !== this.props.cropBoxData) {\n        this.setCropBoxData(nextProps.cropBoxData);\n      }\n      if (nextProps.canvasData !== this.props.canvasData) {\n        this.setCanvasData(nextProps.canvasData);\n      }\n      if (nextProps.moveTo !== this.props.moveTo) {\n        if (nextProps.moveTo.length > 1) {\n          this.moveTo(nextProps.moveTo[0], nextProps.moveTo[1]);\n        } else {\n          this.moveTo(nextProps.moveTo[0]);\n        }\n      }\n      if (nextProps.zoomTo !== this.props.zoomTo) {\n        this.zoomTo(nextProps.zoomTo);\n      }\n      if (nextProps.rotateTo !== this.props.rotateTo) {\n        this.rotateTo(nextProps.rotateTo);\n      }\n      if (nextProps.scaleX !== this.props.scaleX) {\n        this.scaleX(nextProps.scaleX);\n      }\n      if (nextProps.scaleY !== this.props.scaleY) {\n        this.scaleY(nextProps.scaleY);\n      }\n      if (nextProps.enable !== this.props.enable) {\n        if (nextProps.enable) {\n          this.enable();\n        } else {\n          this.disable();\n        }\n      }\n\n      Object.keys(nextProps).forEach(function (propKey) {\n        var isDifferentVal = nextProps[propKey] !== _this3.props[propKey];\n        var isUnchangeableProps = unchangeableProps.indexOf(propKey) !== -1;\n\n        if (typeof nextProps[propKey] === 'function' && typeof _this3.props[propKey] === 'function') {\n          isDifferentVal = nextProps[propKey].toString() !== _this3.props[propKey].toString();\n        }\n\n        if (isDifferentVal && isUnchangeableProps) {\n          throw new Error('prop: ' + propKey + ' can\\'t be change after componentDidMount');\n        }\n      });\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      if (this.img) {\n        // Destroy the cropper, this makes sure events such as resize are cleaned up and do not leak\n        this.cropper.destroy();\n        delete this.img;\n        delete this.cropper;\n      }\n    }\n  }, {\n    key: 'setDragMode',\n    value: function setDragMode(mode) {\n      return this.cropper.setDragMode(mode);\n    }\n  }, {\n    key: 'setAspectRatio',\n    value: function setAspectRatio(aspectRatio) {\n      return this.cropper.setAspectRatio(aspectRatio);\n    }\n  }, {\n    key: 'getCroppedCanvas',\n    value: function getCroppedCanvas(options) {\n      return this.cropper.getCroppedCanvas(options);\n    }\n  }, {\n    key: 'setCropBoxData',\n    value: function setCropBoxData(data) {\n      return this.cropper.setCropBoxData(data);\n    }\n  }, {\n    key: 'getCropBoxData',\n    value: function getCropBoxData() {\n      return this.cropper.getCropBoxData();\n    }\n  }, {\n    key: 'setCanvasData',\n    value: function setCanvasData(data) {\n      return this.cropper.setCanvasData(data);\n    }\n  }, {\n    key: 'getCanvasData',\n    value: function getCanvasData() {\n      return this.cropper.getCanvasData();\n    }\n  }, {\n    key: 'getImageData',\n    value: function getImageData() {\n      return this.cropper.getImageData();\n    }\n  }, {\n    key: 'getContainerData',\n    value: function getContainerData() {\n      return this.cropper.getContainerData();\n    }\n  }, {\n    key: 'setData',\n    value: function setData(data) {\n      return this.cropper.setData(data);\n    }\n  }, {\n    key: 'getData',\n    value: function getData(rounded) {\n      return this.cropper.getData(rounded);\n    }\n  }, {\n    key: 'crop',\n    value: function crop() {\n      return this.cropper.crop();\n    }\n  }, {\n    key: 'move',\n    value: function move(offsetX, offsetY) {\n      return this.cropper.move(offsetX, offsetY);\n    }\n  }, {\n    key: 'moveTo',\n    value: function moveTo(x, y) {\n      return this.cropper.moveTo(x, y);\n    }\n  }, {\n    key: 'zoom',\n    value: function zoom(ratio) {\n      return this.cropper.zoom(ratio);\n    }\n  }, {\n    key: 'zoomTo',\n    value: function zoomTo(ratio) {\n      return this.cropper.zoomTo(ratio);\n    }\n  }, {\n    key: 'rotate',\n    value: function rotate(degree) {\n      return this.cropper.rotate(degree);\n    }\n  }, {\n    key: 'rotateTo',\n    value: function rotateTo(degree) {\n      return this.cropper.rotateTo(degree);\n    }\n  }, {\n    key: 'enable',\n    value: function enable() {\n      return this.cropper.enable();\n    }\n  }, {\n    key: 'disable',\n    value: function disable() {\n      return this.cropper.disable();\n    }\n  }, {\n    key: 'reset',\n    value: function reset() {\n      return this.cropper.reset();\n    }\n  }, {\n    key: 'clear',\n    value: function clear() {\n      return this.cropper.clear();\n    }\n  }, {\n    key: 'replace',\n    value: function replace(url, onlyColorChanged) {\n      return this.cropper.replace(url, onlyColorChanged);\n    }\n  }, {\n    key: 'scale',\n    value: function scale(scaleX, scaleY) {\n      return this.cropper.scale(scaleX, scaleY);\n    }\n  }, {\n    key: 'scaleX',\n    value: function scaleX(_scaleX) {\n      return this.cropper.scaleX(_scaleX);\n    }\n  }, {\n    key: 'scaleY',\n    value: function scaleY(_scaleY) {\n      return this.cropper.scaleY(_scaleY);\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this4 = this;\n\n      var _props = this.props,\n          src = _props.src,\n          alt = _props.alt,\n          crossOrigin = _props.crossOrigin;\n\n\n      return _react2.default.createElement(\n        'div',\n        {\n          src: null,\n          crossOrigin: null,\n          alt: null,\n          style: this.props.style,\n          className: this.props.className\n        },\n        _react2.default.createElement('img', {\n          crossOrigin: crossOrigin,\n          ref: function ref(img) {\n            _this4.img = img;\n          },\n          src: src,\n          alt: alt === undefined ? 'picture' : alt,\n          style: { opacity: 0 }\n        })\n      );\n    }\n  }]);\n\n  return ReactCropper;\n}(_react.Component);\n\nReactCropper.propTypes = {\n  style: _propTypes2.default.object, // eslint-disable-line react/forbid-prop-types\n  className: _propTypes2.default.string,\n\n  // react cropper options\n  crossOrigin: _propTypes2.default.string,\n  src: _propTypes2.default.string,\n  alt: _propTypes2.default.string,\n\n  // props of option can be changed after componentDidmount\n  aspectRatio: _propTypes2.default.number,\n  dragMode: _propTypes2.default.oneOf(['crop', 'move', 'none']),\n  data: _propTypes2.default.shape({\n    x: _propTypes2.default.number,\n    y: _propTypes2.default.number,\n    width: _propTypes2.default.number,\n    height: _propTypes2.default.number,\n    rotate: _propTypes2.default.number,\n    scaleX: _propTypes2.default.number,\n    scaleY: _propTypes2.default.number\n  }),\n  scaleX: _propTypes2.default.number,\n  scaleY: _propTypes2.default.number,\n  enable: _propTypes2.default.bool,\n  cropBoxData: _propTypes2.default.shape({\n    left: _propTypes2.default.number,\n    top: _propTypes2.default.number,\n    width: _propTypes2.default.number,\n    height: _propTypes2.default.number\n  }),\n  canvasData: _propTypes2.default.shape({\n    left: _propTypes2.default.number,\n    top: _propTypes2.default.number,\n    width: _propTypes2.default.number,\n    height: _propTypes2.default.number\n  }),\n  zoomTo: _propTypes2.default.number,\n  moveTo: _propTypes2.default.arrayOf(_propTypes2.default.number),\n  rotateTo: _propTypes2.default.number,\n\n  // cropperjs options\n  // https://github.com/fengyuanchen/cropperjs#options\n  // aspectRatio, dragMode, data\n  viewMode: _propTypes2.default.oneOf([0, 1, 2, 3]),\n  preview: _propTypes2.default.string,\n  responsive: _propTypes2.default.bool,\n  restore: _propTypes2.default.bool,\n  checkCrossOrigin: _propTypes2.default.bool,\n  checkOrientation: _propTypes2.default.bool,\n  modal: _propTypes2.default.bool,\n  guides: _propTypes2.default.bool,\n  center: _propTypes2.default.bool,\n  highlight: _propTypes2.default.bool,\n  background: _propTypes2.default.bool,\n  autoCrop: _propTypes2.default.bool,\n  autoCropArea: _propTypes2.default.number,\n  movable: _propTypes2.default.bool,\n  rotatable: _propTypes2.default.bool,\n  scalable: _propTypes2.default.bool,\n  zoomable: _propTypes2.default.bool,\n  zoomOnTouch: _propTypes2.default.bool,\n  zoomOnWheel: _propTypes2.default.bool,\n  wheelZoomRation: _propTypes2.default.number,\n  cropBoxMovable: _propTypes2.default.bool,\n  cropBoxResizable: _propTypes2.default.bool,\n  toggleDragModeOnDblclick: _propTypes2.default.bool,\n  minContainerWidth: _propTypes2.default.number,\n  minContainerHeight: _propTypes2.default.number,\n  minCanvasWidth: _propTypes2.default.number,\n  minCanvasHeight: _propTypes2.default.number,\n  minCropBoxWidth: _propTypes2.default.number,\n  minCropBoxHeight: _propTypes2.default.number,\n  ready: _propTypes2.default.func,\n  cropstart: _propTypes2.default.func,\n  cropmove: _propTypes2.default.func,\n  cropend: _propTypes2.default.func,\n  crop: _propTypes2.default.func,\n  zoom: _propTypes2.default.func\n};\n\nReactCropper.defaultProps = {\n  src: null,\n  dragMode: 'crop',\n  data: null,\n  scaleX: 1,\n  scaleY: 1,\n  enable: true,\n  zoomTo: 1,\n  rotateTo: 0\n};\n\nexports.default = ReactCropper;\n\n\n/***/ }),\n\n/***/ 2622:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/*!\n * Cropper.js v1.4.0\n * https://fengyuanchen.github.io/cropperjs\n *\n * Copyright 2015-present Chen Fengyuan\n * Released under the MIT license\n *\n * Date: 2018-06-01T15:18:18.692Z\n */\n\nvar IN_BROWSER = typeof window !== 'undefined';\nvar WINDOW = IN_BROWSER ? window : {};\nvar NAMESPACE = 'cropper';\n\n// Actions\nvar ACTION_ALL = 'all';\nvar ACTION_CROP = 'crop';\nvar ACTION_MOVE = 'move';\nvar ACTION_ZOOM = 'zoom';\nvar ACTION_EAST = 'e';\nvar ACTION_WEST = 'w';\nvar ACTION_SOUTH = 's';\nvar ACTION_NORTH = 'n';\nvar ACTION_NORTH_EAST = 'ne';\nvar ACTION_NORTH_WEST = 'nw';\nvar ACTION_SOUTH_EAST = 'se';\nvar ACTION_SOUTH_WEST = 'sw';\n\n// Classes\nvar CLASS_CROP = NAMESPACE + '-crop';\nvar CLASS_DISABLED = NAMESPACE + '-disabled';\nvar CLASS_HIDDEN = NAMESPACE + '-hidden';\nvar CLASS_HIDE = NAMESPACE + '-hide';\nvar CLASS_INVISIBLE = NAMESPACE + '-invisible';\nvar CLASS_MODAL = NAMESPACE + '-modal';\nvar CLASS_MOVE = NAMESPACE + '-move';\n\n// Data keys\nvar DATA_ACTION = NAMESPACE + 'Action';\nvar DATA_PREVIEW = NAMESPACE + 'Preview';\n\n// Drag modes\nvar DRAG_MODE_CROP = 'crop';\nvar DRAG_MODE_MOVE = 'move';\nvar DRAG_MODE_NONE = 'none';\n\n// Events\nvar EVENT_CROP = 'crop';\nvar EVENT_CROP_END = 'cropend';\nvar EVENT_CROP_MOVE = 'cropmove';\nvar EVENT_CROP_START = 'cropstart';\nvar EVENT_DBLCLICK = 'dblclick';\nvar EVENT_POINTER_DOWN = WINDOW.PointerEvent ? 'pointerdown' : 'touchstart mousedown';\nvar EVENT_POINTER_MOVE = WINDOW.PointerEvent ? 'pointermove' : 'touchmove mousemove';\nvar EVENT_POINTER_UP = WINDOW.PointerEvent ? 'pointerup pointercancel' : 'touchend touchcancel mouseup';\nvar EVENT_READY = 'ready';\nvar EVENT_RESIZE = 'resize';\nvar EVENT_WHEEL = 'wheel mousewheel DOMMouseScroll';\nvar EVENT_ZOOM = 'zoom';\n\n// RegExps\nvar REGEXP_ACTIONS = /^(?:e|w|s|n|se|sw|ne|nw|all|crop|move|zoom)$/;\nvar REGEXP_DATA_URL = /^data:/;\nvar REGEXP_DATA_URL_JPEG = /^data:image\\/jpeg;base64,/;\nvar REGEXP_TAG_NAME = /^(?:img|canvas)$/i;\n\nvar DEFAULTS = {\n  // Define the view mode of the cropper\n  viewMode: 0, // 0, 1, 2, 3\n\n  // Define the dragging mode of the cropper\n  dragMode: DRAG_MODE_CROP, // 'crop', 'move' or 'none'\n\n  // Define the initial aspect ratio of the crop box\n  initialAspectRatio: NaN,\n\n  // Define the aspect ratio of the crop box\n  aspectRatio: NaN,\n\n  // An object with the previous cropping result data\n  data: null,\n\n  // A selector for adding extra containers to preview\n  preview: '',\n\n  // Re-render the cropper when resize the window\n  responsive: true,\n\n  // Restore the cropped area after resize the window\n  restore: true,\n\n  // Check if the current image is a cross-origin image\n  checkCrossOrigin: true,\n\n  // Check the current image's Exif Orientation information\n  checkOrientation: true,\n\n  // Show the black modal\n  modal: true,\n\n  // Show the dashed lines for guiding\n  guides: true,\n\n  // Show the center indicator for guiding\n  center: true,\n\n  // Show the white modal to highlight the crop box\n  highlight: true,\n\n  // Show the grid background\n  background: true,\n\n  // Enable to crop the image automatically when initialize\n  autoCrop: true,\n\n  // Define the percentage of automatic cropping area when initializes\n  autoCropArea: 0.8,\n\n  // Enable to move the image\n  movable: true,\n\n  // Enable to rotate the image\n  rotatable: true,\n\n  // Enable to scale the image\n  scalable: true,\n\n  // Enable to zoom the image\n  zoomable: true,\n\n  // Enable to zoom the image by dragging touch\n  zoomOnTouch: true,\n\n  // Enable to zoom the image by wheeling mouse\n  zoomOnWheel: true,\n\n  // Define zoom ratio when zoom the image by wheeling mouse\n  wheelZoomRatio: 0.1,\n\n  // Enable to move the crop box\n  cropBoxMovable: true,\n\n  // Enable to resize the crop box\n  cropBoxResizable: true,\n\n  // Toggle drag mode between \"crop\" and \"move\" when click twice on the cropper\n  toggleDragModeOnDblclick: true,\n\n  // Size limitation\n  minCanvasWidth: 0,\n  minCanvasHeight: 0,\n  minCropBoxWidth: 0,\n  minCropBoxHeight: 0,\n  minContainerWidth: 200,\n  minContainerHeight: 100,\n\n  // Shortcuts of events\n  ready: null,\n  cropstart: null,\n  cropmove: null,\n  cropend: null,\n  crop: null,\n  zoom: null\n};\n\nvar TEMPLATE = '<div class=\"cropper-container\" touch-action=\"none\">' + '<div class=\"cropper-wrap-box\">' + '<div class=\"cropper-canvas\"></div>' + '</div>' + '<div class=\"cropper-drag-box\"></div>' + '<div class=\"cropper-crop-box\">' + '<span class=\"cropper-view-box\"></span>' + '<span class=\"cropper-dashed dashed-h\"></span>' + '<span class=\"cropper-dashed dashed-v\"></span>' + '<span class=\"cropper-center\"></span>' + '<span class=\"cropper-face\"></span>' + '<span class=\"cropper-line line-e\" data-cropper-action=\"e\"></span>' + '<span class=\"cropper-line line-n\" data-cropper-action=\"n\"></span>' + '<span class=\"cropper-line line-w\" data-cropper-action=\"w\"></span>' + '<span class=\"cropper-line line-s\" data-cropper-action=\"s\"></span>' + '<span class=\"cropper-point point-e\" data-cropper-action=\"e\"></span>' + '<span class=\"cropper-point point-n\" data-cropper-action=\"n\"></span>' + '<span class=\"cropper-point point-w\" data-cropper-action=\"w\"></span>' + '<span class=\"cropper-point point-s\" data-cropper-action=\"s\"></span>' + '<span class=\"cropper-point point-ne\" data-cropper-action=\"ne\"></span>' + '<span class=\"cropper-point point-nw\" data-cropper-action=\"nw\"></span>' + '<span class=\"cropper-point point-sw\" data-cropper-action=\"sw\"></span>' + '<span class=\"cropper-point point-se\" data-cropper-action=\"se\"></span>' + '</div>' + '</div>';\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n  return typeof obj;\n} : function (obj) {\n  return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n};\n\nvar classCallCheck = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\nvar createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar toConsumableArray = function (arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) arr2[i] = arr[i];\n\n    return arr2;\n  } else {\n    return Array.from(arr);\n  }\n};\n\n/**\n * Check if the given value is not a number.\n */\nvar isNaN = Number.isNaN || WINDOW.isNaN;\n\n/**\n * Check if the given value is a number.\n * @param {*} value - The value to check.\n * @returns {boolean} Returns `true` if the given value is a number, else `false`.\n */\nfunction isNumber(value) {\n  return typeof value === 'number' && !isNaN(value);\n}\n\n/**\n * Check if the given value is undefined.\n * @param {*} value - The value to check.\n * @returns {boolean} Returns `true` if the given value is undefined, else `false`.\n */\nfunction isUndefined(value) {\n  return typeof value === 'undefined';\n}\n\n/**\n * Check if the given value is an object.\n * @param {*} value - The value to check.\n * @returns {boolean} Returns `true` if the given value is an object, else `false`.\n */\nfunction isObject(value) {\n  return (typeof value === 'undefined' ? 'undefined' : _typeof(value)) === 'object' && value !== null;\n}\n\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\n/**\n * Check if the given value is a plain object.\n * @param {*} value - The value to check.\n * @returns {boolean} Returns `true` if the given value is a plain object, else `false`.\n */\n\nfunction isPlainObject(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n\n  try {\n    var _constructor = value.constructor;\n    var prototype = _constructor.prototype;\n\n\n    return _constructor && prototype && hasOwnProperty.call(prototype, 'isPrototypeOf');\n  } catch (e) {\n    return false;\n  }\n}\n\n/**\n * Check if the given value is a function.\n * @param {*} value - The value to check.\n * @returns {boolean} Returns `true` if the given value is a function, else `false`.\n */\nfunction isFunction(value) {\n  return typeof value === 'function';\n}\n\n/**\n * Iterate the given data.\n * @param {*} data - The data to iterate.\n * @param {Function} callback - The process function for each element.\n * @returns {*} The original data.\n */\nfunction forEach(data, callback) {\n  if (data && isFunction(callback)) {\n    if (Array.isArray(data) || isNumber(data.length) /* array-like */) {\n        var length = data.length;\n\n        var i = void 0;\n\n        for (i = 0; i < length; i += 1) {\n          if (callback.call(data, data[i], i, data) === false) {\n            break;\n          }\n        }\n      } else if (isObject(data)) {\n      Object.keys(data).forEach(function (key) {\n        callback.call(data, data[key], key, data);\n      });\n    }\n  }\n\n  return data;\n}\n\n/**\n * Extend the given object.\n * @param {*} obj - The object to be extended.\n * @param {*} args - The rest objects which will be merged to the first object.\n * @returns {Object} The extended object.\n */\nvar assign = Object.assign || function assign(obj) {\n  for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    args[_key - 1] = arguments[_key];\n  }\n\n  if (isObject(obj) && args.length > 0) {\n    args.forEach(function (arg) {\n      if (isObject(arg)) {\n        Object.keys(arg).forEach(function (key) {\n          obj[key] = arg[key];\n        });\n      }\n    });\n  }\n\n  return obj;\n};\n\nvar REGEXP_DECIMALS = /\\.\\d*(?:0|9){12}\\d*$/i;\n\n/**\n * Normalize decimal number.\n * Check out {@link http://0.30000000000000004.com/}\n * @param {number} value - The value to normalize.\n * @param {number} [times=100000000000] - The times for normalizing.\n * @returns {number} Returns the normalized number.\n */\nfunction normalizeDecimalNumber(value) {\n  var times = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 100000000000;\n\n  return REGEXP_DECIMALS.test(value) ? Math.round(value * times) / times : value;\n}\n\nvar REGEXP_SUFFIX = /^(?:width|height|left|top|marginLeft|marginTop)$/;\n\n/**\n * Apply styles to the given element.\n * @param {Element} element - The target element.\n * @param {Object} styles - The styles for applying.\n */\nfunction setStyle(element, styles) {\n  var style = element.style;\n\n\n  forEach(styles, function (value, property) {\n    if (REGEXP_SUFFIX.test(property) && isNumber(value)) {\n      value += 'px';\n    }\n\n    style[property] = value;\n  });\n}\n\n/**\n * Check if the given element has a special class.\n * @param {Element} element - The element to check.\n * @param {string} value - The class to search.\n * @returns {boolean} Returns `true` if the special class was found.\n */\nfunction hasClass(element, value) {\n  return element.classList ? element.classList.contains(value) : element.className.indexOf(value) > -1;\n}\n\n/**\n * Add classes to the given element.\n * @param {Element} element - The target element.\n * @param {string} value - The classes to be added.\n */\nfunction addClass(element, value) {\n  if (!value) {\n    return;\n  }\n\n  if (isNumber(element.length)) {\n    forEach(element, function (elem) {\n      addClass(elem, value);\n    });\n    return;\n  }\n\n  if (element.classList) {\n    element.classList.add(value);\n    return;\n  }\n\n  var className = element.className.trim();\n\n  if (!className) {\n    element.className = value;\n  } else if (className.indexOf(value) < 0) {\n    element.className = className + ' ' + value;\n  }\n}\n\n/**\n * Remove classes from the given element.\n * @param {Element} element - The target element.\n * @param {string} value - The classes to be removed.\n */\nfunction removeClass(element, value) {\n  if (!value) {\n    return;\n  }\n\n  if (isNumber(element.length)) {\n    forEach(element, function (elem) {\n      removeClass(elem, value);\n    });\n    return;\n  }\n\n  if (element.classList) {\n    element.classList.remove(value);\n    return;\n  }\n\n  if (element.className.indexOf(value) >= 0) {\n    element.className = element.className.replace(value, '');\n  }\n}\n\n/**\n * Add or remove classes from the given element.\n * @param {Element} element - The target element.\n * @param {string} value - The classes to be toggled.\n * @param {boolean} added - Add only.\n */\nfunction toggleClass(element, value, added) {\n  if (!value) {\n    return;\n  }\n\n  if (isNumber(element.length)) {\n    forEach(element, function (elem) {\n      toggleClass(elem, value, added);\n    });\n    return;\n  }\n\n  // IE10-11 doesn't support the second parameter of `classList.toggle`\n  if (added) {\n    addClass(element, value);\n  } else {\n    removeClass(element, value);\n  }\n}\n\nvar REGEXP_HYPHENATE = /([a-z\\d])([A-Z])/g;\n\n/**\n * Transform the given string from camelCase to kebab-case\n * @param {string} value - The value to transform.\n * @returns {string} The transformed value.\n */\nfunction hyphenate(value) {\n  return value.replace(REGEXP_HYPHENATE, '$1-$2').toLowerCase();\n}\n\n/**\n * Get data from the given element.\n * @param {Element} element - The target element.\n * @param {string} name - The data key to get.\n * @returns {string} The data value.\n */\nfunction getData(element, name) {\n  if (isObject(element[name])) {\n    return element[name];\n  } else if (element.dataset) {\n    return element.dataset[name];\n  }\n\n  return element.getAttribute('data-' + hyphenate(name));\n}\n\n/**\n * Set data to the given element.\n * @param {Element} element - The target element.\n * @param {string} name - The data key to set.\n * @param {string} data - The data value.\n */\nfunction setData(element, name, data) {\n  if (isObject(data)) {\n    element[name] = data;\n  } else if (element.dataset) {\n    element.dataset[name] = data;\n  } else {\n    element.setAttribute('data-' + hyphenate(name), data);\n  }\n}\n\n/**\n * Remove data from the given element.\n * @param {Element} element - The target element.\n * @param {string} name - The data key to remove.\n */\nfunction removeData(element, name) {\n  if (isObject(element[name])) {\n    try {\n      delete element[name];\n    } catch (e) {\n      element[name] = undefined;\n    }\n  } else if (element.dataset) {\n    // #128 Safari not allows to delete dataset property\n    try {\n      delete element.dataset[name];\n    } catch (e) {\n      element.dataset[name] = undefined;\n    }\n  } else {\n    element.removeAttribute('data-' + hyphenate(name));\n  }\n}\n\nvar REGEXP_SPACES = /\\s\\s*/;\nvar onceSupported = function () {\n  var supported = false;\n\n  if (IN_BROWSER) {\n    var once = false;\n    var listener = function listener() {};\n    var options = Object.defineProperty({}, 'once', {\n      get: function get$$1() {\n        supported = true;\n        return once;\n      },\n\n\n      /**\n       * This setter can fix a `TypeError` in strict mode\n       * {@link https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Errors/Getter_only}\n       * @param {boolean} value - The value to set\n       */\n      set: function set$$1(value) {\n        once = value;\n      }\n    });\n\n    WINDOW.addEventListener('test', listener, options);\n    WINDOW.removeEventListener('test', listener, options);\n  }\n\n  return supported;\n}();\n\n/**\n * Remove event listener from the target element.\n * @param {Element} element - The event target.\n * @param {string} type - The event type(s).\n * @param {Function} listener - The event listener.\n * @param {Object} options - The event options.\n */\nfunction removeListener(element, type, listener) {\n  var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n\n  var handler = listener;\n\n  type.trim().split(REGEXP_SPACES).forEach(function (event) {\n    if (!onceSupported) {\n      var listeners = element.listeners;\n\n\n      if (listeners && listeners[event] && listeners[event][listener]) {\n        handler = listeners[event][listener];\n        delete listeners[event][listener];\n\n        if (Object.keys(listeners[event]).length === 0) {\n          delete listeners[event];\n        }\n\n        if (Object.keys(listeners).length === 0) {\n          delete element.listeners;\n        }\n      }\n    }\n\n    element.removeEventListener(event, handler, options);\n  });\n}\n\n/**\n * Add event listener to the target element.\n * @param {Element} element - The event target.\n * @param {string} type - The event type(s).\n * @param {Function} listener - The event listener.\n * @param {Object} options - The event options.\n */\nfunction addListener(element, type, listener) {\n  var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n\n  var _handler = listener;\n\n  type.trim().split(REGEXP_SPACES).forEach(function (event) {\n    if (options.once && !onceSupported) {\n      var _element$listeners = element.listeners,\n          listeners = _element$listeners === undefined ? {} : _element$listeners;\n\n\n      _handler = function handler() {\n        for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n          args[_key2] = arguments[_key2];\n        }\n\n        delete listeners[event][listener];\n        element.removeEventListener(event, _handler, options);\n        listener.apply(element, args);\n      };\n\n      if (!listeners[event]) {\n        listeners[event] = {};\n      }\n\n      if (listeners[event][listener]) {\n        element.removeEventListener(event, listeners[event][listener], options);\n      }\n\n      listeners[event][listener] = _handler;\n      element.listeners = listeners;\n    }\n\n    element.addEventListener(event, _handler, options);\n  });\n}\n\n/**\n * Dispatch event on the target element.\n * @param {Element} element - The event target.\n * @param {string} type - The event type(s).\n * @param {Object} data - The additional event data.\n * @returns {boolean} Indicate if the event is default prevented or not.\n */\nfunction dispatchEvent(element, type, data) {\n  var event = void 0;\n\n  // Event and CustomEvent on IE9-11 are global objects, not constructors\n  if (isFunction(Event) && isFunction(CustomEvent)) {\n    event = new CustomEvent(type, {\n      detail: data,\n      bubbles: true,\n      cancelable: true\n    });\n  } else {\n    event = document.createEvent('CustomEvent');\n    event.initCustomEvent(type, true, true, data);\n  }\n\n  return element.dispatchEvent(event);\n}\n\n/**\n * Get the offset base on the document.\n * @param {Element} element - The target element.\n * @returns {Object} The offset data.\n */\nfunction getOffset(element) {\n  var box = element.getBoundingClientRect();\n\n  return {\n    left: box.left + (window.pageXOffset - document.documentElement.clientLeft),\n    top: box.top + (window.pageYOffset - document.documentElement.clientTop)\n  };\n}\n\nvar location = WINDOW.location;\n\nvar REGEXP_ORIGINS = /^(https?:)\\/\\/([^:/?#]+):?(\\d*)/i;\n\n/**\n * Check if the given URL is a cross origin URL.\n * @param {string} url - The target URL.\n * @returns {boolean} Returns `true` if the given URL is a cross origin URL, else `false`.\n */\nfunction isCrossOriginURL(url) {\n  var parts = url.match(REGEXP_ORIGINS);\n\n  return parts && (parts[1] !== location.protocol || parts[2] !== location.hostname || parts[3] !== location.port);\n}\n\n/**\n * Add timestamp to the given URL.\n * @param {string} url - The target URL.\n * @returns {string} The result URL.\n */\nfunction addTimestamp(url) {\n  var timestamp = 'timestamp=' + new Date().getTime();\n\n  return url + (url.indexOf('?') === -1 ? '?' : '&') + timestamp;\n}\n\n/**\n * Get transforms base on the given object.\n * @param {Object} obj - The target object.\n * @returns {string} A string contains transform values.\n */\nfunction getTransforms(_ref) {\n  var rotate = _ref.rotate,\n      scaleX = _ref.scaleX,\n      scaleY = _ref.scaleY,\n      translateX = _ref.translateX,\n      translateY = _ref.translateY;\n\n  var values = [];\n\n  if (isNumber(translateX) && translateX !== 0) {\n    values.push('translateX(' + translateX + 'px)');\n  }\n\n  if (isNumber(translateY) && translateY !== 0) {\n    values.push('translateY(' + translateY + 'px)');\n  }\n\n  // Rotate should come first before scale to match orientation transform\n  if (isNumber(rotate) && rotate !== 0) {\n    values.push('rotate(' + rotate + 'deg)');\n  }\n\n  if (isNumber(scaleX) && scaleX !== 1) {\n    values.push('scaleX(' + scaleX + ')');\n  }\n\n  if (isNumber(scaleY) && scaleY !== 1) {\n    values.push('scaleY(' + scaleY + ')');\n  }\n\n  var transform = values.length ? values.join(' ') : 'none';\n\n  return {\n    WebkitTransform: transform,\n    msTransform: transform,\n    transform: transform\n  };\n}\n\n/**\n * Get the max ratio of a group of pointers.\n * @param {string} pointers - The target pointers.\n * @returns {number} The result ratio.\n */\nfunction getMaxZoomRatio(pointers) {\n  var pointers2 = assign({}, pointers);\n  var ratios = [];\n\n  forEach(pointers, function (pointer, pointerId) {\n    delete pointers2[pointerId];\n\n    forEach(pointers2, function (pointer2) {\n      var x1 = Math.abs(pointer.startX - pointer2.startX);\n      var y1 = Math.abs(pointer.startY - pointer2.startY);\n      var x2 = Math.abs(pointer.endX - pointer2.endX);\n      var y2 = Math.abs(pointer.endY - pointer2.endY);\n      var z1 = Math.sqrt(x1 * x1 + y1 * y1);\n      var z2 = Math.sqrt(x2 * x2 + y2 * y2);\n      var ratio = (z2 - z1) / z1;\n\n      ratios.push(ratio);\n    });\n  });\n\n  ratios.sort(function (a, b) {\n    return Math.abs(a) < Math.abs(b);\n  });\n\n  return ratios[0];\n}\n\n/**\n * Get a pointer from an event object.\n * @param {Object} event - The target event object.\n * @param {boolean} endOnly - Indicates if only returns the end point coordinate or not.\n * @returns {Object} The result pointer contains start and/or end point coordinates.\n */\nfunction getPointer(_ref2, endOnly) {\n  var pageX = _ref2.pageX,\n      pageY = _ref2.pageY;\n\n  var end = {\n    endX: pageX,\n    endY: pageY\n  };\n\n  return endOnly ? end : assign({\n    startX: pageX,\n    startY: pageY\n  }, end);\n}\n\n/**\n * Get the center point coordinate of a group of pointers.\n * @param {Object} pointers - The target pointers.\n * @returns {Object} The center point coordinate.\n */\nfunction getPointersCenter(pointers) {\n  var pageX = 0;\n  var pageY = 0;\n  var count = 0;\n\n  forEach(pointers, function (_ref3) {\n    var startX = _ref3.startX,\n        startY = _ref3.startY;\n\n    pageX += startX;\n    pageY += startY;\n    count += 1;\n  });\n\n  pageX /= count;\n  pageY /= count;\n\n  return {\n    pageX: pageX,\n    pageY: pageY\n  };\n}\n\n/**\n * Check if the given value is a finite number.\n */\nvar isFinite = Number.isFinite || WINDOW.isFinite;\n\n/**\n * Get the max sizes in a rectangle under the given aspect ratio.\n * @param {Object} data - The original sizes.\n * @param {string} [type='contain'] - The adjust type.\n * @returns {Object} The result sizes.\n */\nfunction getAdjustedSizes(_ref4) // or 'cover'\n{\n  var aspectRatio = _ref4.aspectRatio,\n      height = _ref4.height,\n      width = _ref4.width;\n  var type = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'contain';\n\n  var isValidNumber = function isValidNumber(value) {\n    return isFinite(value) && value > 0;\n  };\n\n  if (isValidNumber(width) && isValidNumber(height)) {\n    var adjustedWidth = height * aspectRatio;\n\n    if (type === 'contain' && adjustedWidth > width || type === 'cover' && adjustedWidth < width) {\n      height = width / aspectRatio;\n    } else {\n      width = height * aspectRatio;\n    }\n  } else if (isValidNumber(width)) {\n    height = width / aspectRatio;\n  } else if (isValidNumber(height)) {\n    width = height * aspectRatio;\n  }\n\n  return {\n    width: width,\n    height: height\n  };\n}\n\n/**\n * Get the new sizes of a rectangle after rotated.\n * @param {Object} data - The original sizes.\n * @returns {Object} The result sizes.\n */\nfunction getRotatedSizes(_ref5) {\n  var width = _ref5.width,\n      height = _ref5.height,\n      degree = _ref5.degree;\n\n  degree = Math.abs(degree) % 180;\n\n  if (degree === 90) {\n    return {\n      width: height,\n      height: width\n    };\n  }\n\n  var arc = degree % 90 * Math.PI / 180;\n  var sinArc = Math.sin(arc);\n  var cosArc = Math.cos(arc);\n  var newWidth = width * cosArc + height * sinArc;\n  var newHeight = width * sinArc + height * cosArc;\n\n  return degree > 90 ? {\n    width: newHeight,\n    height: newWidth\n  } : {\n    width: newWidth,\n    height: newHeight\n  };\n}\n\n/**\n * Get a canvas which drew the given image.\n * @param {HTMLImageElement} image - The image for drawing.\n * @param {Object} imageData - The image data.\n * @param {Object} canvasData - The canvas data.\n * @param {Object} options - The options.\n * @returns {HTMLCanvasElement} The result canvas.\n */\nfunction getSourceCanvas(image, _ref6, _ref7, _ref8) {\n  var imageAspectRatio = _ref6.aspectRatio,\n      imageNaturalWidth = _ref6.naturalWidth,\n      imageNaturalHeight = _ref6.naturalHeight,\n      _ref6$rotate = _ref6.rotate,\n      rotate = _ref6$rotate === undefined ? 0 : _ref6$rotate,\n      _ref6$scaleX = _ref6.scaleX,\n      scaleX = _ref6$scaleX === undefined ? 1 : _ref6$scaleX,\n      _ref6$scaleY = _ref6.scaleY,\n      scaleY = _ref6$scaleY === undefined ? 1 : _ref6$scaleY;\n  var aspectRatio = _ref7.aspectRatio,\n      naturalWidth = _ref7.naturalWidth,\n      naturalHeight = _ref7.naturalHeight;\n  var _ref8$fillColor = _ref8.fillColor,\n      fillColor = _ref8$fillColor === undefined ? 'transparent' : _ref8$fillColor,\n      _ref8$imageSmoothingE = _ref8.imageSmoothingEnabled,\n      imageSmoothingEnabled = _ref8$imageSmoothingE === undefined ? true : _ref8$imageSmoothingE,\n      _ref8$imageSmoothingQ = _ref8.imageSmoothingQuality,\n      imageSmoothingQuality = _ref8$imageSmoothingQ === undefined ? 'low' : _ref8$imageSmoothingQ,\n      _ref8$maxWidth = _ref8.maxWidth,\n      maxWidth = _ref8$maxWidth === undefined ? Infinity : _ref8$maxWidth,\n      _ref8$maxHeight = _ref8.maxHeight,\n      maxHeight = _ref8$maxHeight === undefined ? Infinity : _ref8$maxHeight,\n      _ref8$minWidth = _ref8.minWidth,\n      minWidth = _ref8$minWidth === undefined ? 0 : _ref8$minWidth,\n      _ref8$minHeight = _ref8.minHeight,\n      minHeight = _ref8$minHeight === undefined ? 0 : _ref8$minHeight;\n\n  var canvas = document.createElement('canvas');\n  var context = canvas.getContext('2d');\n  var maxSizes = getAdjustedSizes({\n    aspectRatio: aspectRatio,\n    width: maxWidth,\n    height: maxHeight\n  });\n  var minSizes = getAdjustedSizes({\n    aspectRatio: aspectRatio,\n    width: minWidth,\n    height: minHeight\n  }, 'cover');\n  var width = Math.min(maxSizes.width, Math.max(minSizes.width, naturalWidth));\n  var height = Math.min(maxSizes.height, Math.max(minSizes.height, naturalHeight));\n\n  // Note: should always use image's natural sizes for drawing as\n  // imageData.naturalWidth === canvasData.naturalHeight when rotate % 180 === 90\n  var destMaxSizes = getAdjustedSizes({\n    aspectRatio: imageAspectRatio,\n    width: maxWidth,\n    height: maxHeight\n  });\n  var destMinSizes = getAdjustedSizes({\n    aspectRatio: imageAspectRatio,\n    width: minWidth,\n    height: minHeight\n  }, 'cover');\n  var destWidth = Math.min(destMaxSizes.width, Math.max(destMinSizes.width, imageNaturalWidth));\n  var destHeight = Math.min(destMaxSizes.height, Math.max(destMinSizes.height, imageNaturalHeight));\n  var params = [-destWidth / 2, -destHeight / 2, destWidth, destHeight];\n\n  canvas.width = normalizeDecimalNumber(width);\n  canvas.height = normalizeDecimalNumber(height);\n  context.fillStyle = fillColor;\n  context.fillRect(0, 0, width, height);\n  context.save();\n  context.translate(width / 2, height / 2);\n  context.rotate(rotate * Math.PI / 180);\n  context.scale(scaleX, scaleY);\n  context.imageSmoothingEnabled = imageSmoothingEnabled;\n  context.imageSmoothingQuality = imageSmoothingQuality;\n  context.drawImage.apply(context, [image].concat(toConsumableArray(params.map(function (param) {\n    return Math.floor(normalizeDecimalNumber(param));\n  }))));\n  context.restore();\n  return canvas;\n}\n\nvar fromCharCode = String.fromCharCode;\n\n/**\n * Get string from char code in data view.\n * @param {DataView} dataView - The data view for read.\n * @param {number} start - The start index.\n * @param {number} length - The read length.\n * @returns {string} The read result.\n */\n\nfunction getStringFromCharCode(dataView, start, length) {\n  var str = '';\n  var i = void 0;\n\n  length += start;\n\n  for (i = start; i < length; i += 1) {\n    str += fromCharCode(dataView.getUint8(i));\n  }\n\n  return str;\n}\n\nvar REGEXP_DATA_URL_HEAD = /^data:.*,/;\n\n/**\n * Transform Data URL to array buffer.\n * @param {string} dataURL - The Data URL to transform.\n * @returns {ArrayBuffer} The result array buffer.\n */\nfunction dataURLToArrayBuffer(dataURL) {\n  var base64 = dataURL.replace(REGEXP_DATA_URL_HEAD, '');\n  var binary = atob(base64);\n  var arrayBuffer = new ArrayBuffer(binary.length);\n  var uint8 = new Uint8Array(arrayBuffer);\n\n  forEach(uint8, function (value, i) {\n    uint8[i] = binary.charCodeAt(i);\n  });\n\n  return arrayBuffer;\n}\n\n/**\n * Transform array buffer to Data URL.\n * @param {ArrayBuffer} arrayBuffer - The array buffer to transform.\n * @param {string} mimeType - The mime type of the Data URL.\n * @returns {string} The result Data URL.\n */\nfunction arrayBufferToDataURL(arrayBuffer, mimeType) {\n  var uint8 = new Uint8Array(arrayBuffer);\n  var data = '';\n\n  // TypedArray.prototype.forEach is not supported in some browsers.\n  forEach(uint8, function (value) {\n    data += fromCharCode(value);\n  });\n\n  return 'data:' + mimeType + ';base64,' + btoa(data);\n}\n\n/**\n * Get orientation value from given array buffer.\n * @param {ArrayBuffer} arrayBuffer - The array buffer to read.\n * @returns {number} The read orientation value.\n */\nfunction getOrientation(arrayBuffer) {\n  var dataView = new DataView(arrayBuffer);\n  var orientation = void 0;\n  var littleEndian = void 0;\n  var app1Start = void 0;\n  var ifdStart = void 0;\n\n  // Only handle JPEG image (start by 0xFFD8)\n  if (dataView.getUint8(0) === 0xFF && dataView.getUint8(1) === 0xD8) {\n    var length = dataView.byteLength;\n    var offset = 2;\n\n    while (offset < length) {\n      if (dataView.getUint8(offset) === 0xFF && dataView.getUint8(offset + 1) === 0xE1) {\n        app1Start = offset;\n        break;\n      }\n\n      offset += 1;\n    }\n  }\n\n  if (app1Start) {\n    var exifIDCode = app1Start + 4;\n    var tiffOffset = app1Start + 10;\n\n    if (getStringFromCharCode(dataView, exifIDCode, 4) === 'Exif') {\n      var endianness = dataView.getUint16(tiffOffset);\n\n      littleEndian = endianness === 0x4949;\n\n      if (littleEndian || endianness === 0x4D4D /* bigEndian */) {\n          if (dataView.getUint16(tiffOffset + 2, littleEndian) === 0x002A) {\n            var firstIFDOffset = dataView.getUint32(tiffOffset + 4, littleEndian);\n\n            if (firstIFDOffset >= 0x00000008) {\n              ifdStart = tiffOffset + firstIFDOffset;\n            }\n          }\n        }\n    }\n  }\n\n  if (ifdStart) {\n    var _length = dataView.getUint16(ifdStart, littleEndian);\n    var _offset = void 0;\n    var i = void 0;\n\n    for (i = 0; i < _length; i += 1) {\n      _offset = ifdStart + i * 12 + 2;\n\n      if (dataView.getUint16(_offset, littleEndian) === 0x0112 /* Orientation */) {\n          // 8 is the offset of the current tag's value\n          _offset += 8;\n\n          // Get the original orientation value\n          orientation = dataView.getUint16(_offset, littleEndian);\n\n          // Override the orientation with its default value\n          dataView.setUint16(_offset, 1, littleEndian);\n          break;\n        }\n    }\n  }\n\n  return orientation;\n}\n\n/**\n * Parse Exif Orientation value.\n * @param {number} orientation - The orientation to parse.\n * @returns {Object} The parsed result.\n */\nfunction parseOrientation(orientation) {\n  var rotate = 0;\n  var scaleX = 1;\n  var scaleY = 1;\n\n  switch (orientation) {\n    // Flip horizontal\n    case 2:\n      scaleX = -1;\n      break;\n\n    // Rotate left 180\n    case 3:\n      rotate = -180;\n      break;\n\n    // Flip vertical\n    case 4:\n      scaleY = -1;\n      break;\n\n    // Flip vertical and rotate right 90\n    case 5:\n      rotate = 90;\n      scaleY = -1;\n      break;\n\n    // Rotate right 90\n    case 6:\n      rotate = 90;\n      break;\n\n    // Flip horizontal and rotate right 90\n    case 7:\n      rotate = 90;\n      scaleX = -1;\n      break;\n\n    // Rotate left 90\n    case 8:\n      rotate = -90;\n      break;\n\n    default:\n  }\n\n  return {\n    rotate: rotate,\n    scaleX: scaleX,\n    scaleY: scaleY\n  };\n}\n\nvar render = {\n  render: function render() {\n    this.initContainer();\n    this.initCanvas();\n    this.initCropBox();\n    this.renderCanvas();\n\n    if (this.cropped) {\n      this.renderCropBox();\n    }\n  },\n  initContainer: function initContainer() {\n    var element = this.element,\n        options = this.options,\n        container = this.container,\n        cropper = this.cropper;\n\n\n    addClass(cropper, CLASS_HIDDEN);\n    removeClass(element, CLASS_HIDDEN);\n\n    var containerData = {\n      width: Math.max(container.offsetWidth, Number(options.minContainerWidth) || 200),\n      height: Math.max(container.offsetHeight, Number(options.minContainerHeight) || 100)\n    };\n\n    this.containerData = containerData;\n\n    setStyle(cropper, {\n      width: containerData.width,\n      height: containerData.height\n    });\n\n    addClass(element, CLASS_HIDDEN);\n    removeClass(cropper, CLASS_HIDDEN);\n  },\n\n\n  // Canvas (image wrapper)\n  initCanvas: function initCanvas() {\n    var containerData = this.containerData,\n        imageData = this.imageData;\n    var viewMode = this.options.viewMode;\n\n    var rotated = Math.abs(imageData.rotate) % 180 === 90;\n    var naturalWidth = rotated ? imageData.naturalHeight : imageData.naturalWidth;\n    var naturalHeight = rotated ? imageData.naturalWidth : imageData.naturalHeight;\n    var aspectRatio = naturalWidth / naturalHeight;\n    var canvasWidth = containerData.width;\n    var canvasHeight = containerData.height;\n\n    if (containerData.height * aspectRatio > containerData.width) {\n      if (viewMode === 3) {\n        canvasWidth = containerData.height * aspectRatio;\n      } else {\n        canvasHeight = containerData.width / aspectRatio;\n      }\n    } else if (viewMode === 3) {\n      canvasHeight = containerData.width / aspectRatio;\n    } else {\n      canvasWidth = containerData.height * aspectRatio;\n    }\n\n    var canvasData = {\n      aspectRatio: aspectRatio,\n      naturalWidth: naturalWidth,\n      naturalHeight: naturalHeight,\n      width: canvasWidth,\n      height: canvasHeight\n    };\n\n    canvasData.left = (containerData.width - canvasWidth) / 2;\n    canvasData.top = (containerData.height - canvasHeight) / 2;\n    canvasData.oldLeft = canvasData.left;\n    canvasData.oldTop = canvasData.top;\n\n    this.canvasData = canvasData;\n    this.limited = viewMode === 1 || viewMode === 2;\n    this.limitCanvas(true, true);\n    this.initialImageData = assign({}, imageData);\n    this.initialCanvasData = assign({}, canvasData);\n  },\n  limitCanvas: function limitCanvas(sizeLimited, positionLimited) {\n    var options = this.options,\n        containerData = this.containerData,\n        canvasData = this.canvasData,\n        cropBoxData = this.cropBoxData;\n    var viewMode = options.viewMode;\n    var aspectRatio = canvasData.aspectRatio;\n\n    var cropped = this.cropped && cropBoxData;\n\n    if (sizeLimited) {\n      var minCanvasWidth = Number(options.minCanvasWidth) || 0;\n      var minCanvasHeight = Number(options.minCanvasHeight) || 0;\n\n      if (viewMode > 1) {\n        minCanvasWidth = Math.max(minCanvasWidth, containerData.width);\n        minCanvasHeight = Math.max(minCanvasHeight, containerData.height);\n\n        if (viewMode === 3) {\n          if (minCanvasHeight * aspectRatio > minCanvasWidth) {\n            minCanvasWidth = minCanvasHeight * aspectRatio;\n          } else {\n            minCanvasHeight = minCanvasWidth / aspectRatio;\n          }\n        }\n      } else if (viewMode > 0) {\n        if (minCanvasWidth) {\n          minCanvasWidth = Math.max(minCanvasWidth, cropped ? cropBoxData.width : 0);\n        } else if (minCanvasHeight) {\n          minCanvasHeight = Math.max(minCanvasHeight, cropped ? cropBoxData.height : 0);\n        } else if (cropped) {\n          minCanvasWidth = cropBoxData.width;\n          minCanvasHeight = cropBoxData.height;\n\n          if (minCanvasHeight * aspectRatio > minCanvasWidth) {\n            minCanvasWidth = minCanvasHeight * aspectRatio;\n          } else {\n            minCanvasHeight = minCanvasWidth / aspectRatio;\n          }\n        }\n      }\n\n      var _getAdjustedSizes = getAdjustedSizes({\n        aspectRatio: aspectRatio,\n        width: minCanvasWidth,\n        height: minCanvasHeight\n      });\n\n      minCanvasWidth = _getAdjustedSizes.width;\n      minCanvasHeight = _getAdjustedSizes.height;\n\n\n      canvasData.minWidth = minCanvasWidth;\n      canvasData.minHeight = minCanvasHeight;\n      canvasData.maxWidth = Infinity;\n      canvasData.maxHeight = Infinity;\n    }\n\n    if (positionLimited) {\n      if (viewMode) {\n        var newCanvasLeft = containerData.width - canvasData.width;\n        var newCanvasTop = containerData.height - canvasData.height;\n\n        canvasData.minLeft = Math.min(0, newCanvasLeft);\n        canvasData.minTop = Math.min(0, newCanvasTop);\n        canvasData.maxLeft = Math.max(0, newCanvasLeft);\n        canvasData.maxTop = Math.max(0, newCanvasTop);\n\n        if (cropped && this.limited) {\n          canvasData.minLeft = Math.min(cropBoxData.left, cropBoxData.left + (cropBoxData.width - canvasData.width));\n          canvasData.minTop = Math.min(cropBoxData.top, cropBoxData.top + (cropBoxData.height - canvasData.height));\n          canvasData.maxLeft = cropBoxData.left;\n          canvasData.maxTop = cropBoxData.top;\n\n          if (viewMode === 2) {\n            if (canvasData.width >= containerData.width) {\n              canvasData.minLeft = Math.min(0, newCanvasLeft);\n              canvasData.maxLeft = Math.max(0, newCanvasLeft);\n            }\n\n            if (canvasData.height >= containerData.height) {\n              canvasData.minTop = Math.min(0, newCanvasTop);\n              canvasData.maxTop = Math.max(0, newCanvasTop);\n            }\n          }\n        }\n      } else {\n        canvasData.minLeft = -canvasData.width;\n        canvasData.minTop = -canvasData.height;\n        canvasData.maxLeft = containerData.width;\n        canvasData.maxTop = containerData.height;\n      }\n    }\n  },\n  renderCanvas: function renderCanvas(changed, transformed) {\n    var canvasData = this.canvasData,\n        imageData = this.imageData;\n\n\n    if (transformed) {\n      var _getRotatedSizes = getRotatedSizes({\n        width: imageData.naturalWidth * Math.abs(imageData.scaleX || 1),\n        height: imageData.naturalHeight * Math.abs(imageData.scaleY || 1),\n        degree: imageData.rotate || 0\n      }),\n          naturalWidth = _getRotatedSizes.width,\n          naturalHeight = _getRotatedSizes.height;\n\n      var width = canvasData.width * (naturalWidth / canvasData.naturalWidth);\n      var height = canvasData.height * (naturalHeight / canvasData.naturalHeight);\n\n      canvasData.left -= (width - canvasData.width) / 2;\n      canvasData.top -= (height - canvasData.height) / 2;\n      canvasData.width = width;\n      canvasData.height = height;\n      canvasData.aspectRatio = naturalWidth / naturalHeight;\n      canvasData.naturalWidth = naturalWidth;\n      canvasData.naturalHeight = naturalHeight;\n      this.limitCanvas(true, false);\n    }\n\n    if (canvasData.width > canvasData.maxWidth || canvasData.width < canvasData.minWidth) {\n      canvasData.left = canvasData.oldLeft;\n    }\n\n    if (canvasData.height > canvasData.maxHeight || canvasData.height < canvasData.minHeight) {\n      canvasData.top = canvasData.oldTop;\n    }\n\n    canvasData.width = Math.min(Math.max(canvasData.width, canvasData.minWidth), canvasData.maxWidth);\n    canvasData.height = Math.min(Math.max(canvasData.height, canvasData.minHeight), canvasData.maxHeight);\n\n    this.limitCanvas(false, true);\n\n    canvasData.left = Math.min(Math.max(canvasData.left, canvasData.minLeft), canvasData.maxLeft);\n    canvasData.top = Math.min(Math.max(canvasData.top, canvasData.minTop), canvasData.maxTop);\n    canvasData.oldLeft = canvasData.left;\n    canvasData.oldTop = canvasData.top;\n\n    setStyle(this.canvas, assign({\n      width: canvasData.width,\n      height: canvasData.height\n    }, getTransforms({\n      translateX: canvasData.left,\n      translateY: canvasData.top\n    })));\n\n    this.renderImage(changed);\n\n    if (this.cropped && this.limited) {\n      this.limitCropBox(true, true);\n    }\n  },\n  renderImage: function renderImage(changed) {\n    var canvasData = this.canvasData,\n        imageData = this.imageData;\n\n    var width = imageData.naturalWidth * (canvasData.width / canvasData.naturalWidth);\n    var height = imageData.naturalHeight * (canvasData.height / canvasData.naturalHeight);\n\n    assign(imageData, {\n      width: width,\n      height: height,\n      left: (canvasData.width - width) / 2,\n      top: (canvasData.height - height) / 2\n    });\n    setStyle(this.image, assign({\n      width: imageData.width,\n      height: imageData.height\n    }, getTransforms(assign({\n      translateX: imageData.left,\n      translateY: imageData.top\n    }, imageData))));\n\n    if (changed) {\n      this.output();\n    }\n  },\n  initCropBox: function initCropBox() {\n    var options = this.options,\n        canvasData = this.canvasData;\n\n    var aspectRatio = options.aspectRatio || options.initialAspectRatio;\n    var autoCropArea = Number(options.autoCropArea) || 0.8;\n    var cropBoxData = {\n      width: canvasData.width,\n      height: canvasData.height\n    };\n\n    if (aspectRatio) {\n      if (canvasData.height * aspectRatio > canvasData.width) {\n        cropBoxData.height = cropBoxData.width / aspectRatio;\n      } else {\n        cropBoxData.width = cropBoxData.height * aspectRatio;\n      }\n    }\n\n    this.cropBoxData = cropBoxData;\n    this.limitCropBox(true, true);\n\n    // Initialize auto crop area\n    cropBoxData.width = Math.min(Math.max(cropBoxData.width, cropBoxData.minWidth), cropBoxData.maxWidth);\n    cropBoxData.height = Math.min(Math.max(cropBoxData.height, cropBoxData.minHeight), cropBoxData.maxHeight);\n\n    // The width/height of auto crop area must large than \"minWidth/Height\"\n    cropBoxData.width = Math.max(cropBoxData.minWidth, cropBoxData.width * autoCropArea);\n    cropBoxData.height = Math.max(cropBoxData.minHeight, cropBoxData.height * autoCropArea);\n    cropBoxData.left = canvasData.left + (canvasData.width - cropBoxData.width) / 2;\n    cropBoxData.top = canvasData.top + (canvasData.height - cropBoxData.height) / 2;\n    cropBoxData.oldLeft = cropBoxData.left;\n    cropBoxData.oldTop = cropBoxData.top;\n\n    this.initialCropBoxData = assign({}, cropBoxData);\n  },\n  limitCropBox: function limitCropBox(sizeLimited, positionLimited) {\n    var options = this.options,\n        containerData = this.containerData,\n        canvasData = this.canvasData,\n        cropBoxData = this.cropBoxData,\n        limited = this.limited;\n    var aspectRatio = options.aspectRatio;\n\n\n    if (sizeLimited) {\n      var minCropBoxWidth = Number(options.minCropBoxWidth) || 0;\n      var minCropBoxHeight = Number(options.minCropBoxHeight) || 0;\n      var maxCropBoxWidth = Math.min(containerData.width, limited ? canvasData.width : containerData.width);\n      var maxCropBoxHeight = Math.min(containerData.height, limited ? canvasData.height : containerData.height);\n\n      // The min/maxCropBoxWidth/Height must be less than container's width/height\n      minCropBoxWidth = Math.min(minCropBoxWidth, containerData.width);\n      minCropBoxHeight = Math.min(minCropBoxHeight, containerData.height);\n\n      if (aspectRatio) {\n        if (minCropBoxWidth && minCropBoxHeight) {\n          if (minCropBoxHeight * aspectRatio > minCropBoxWidth) {\n            minCropBoxHeight = minCropBoxWidth / aspectRatio;\n          } else {\n            minCropBoxWidth = minCropBoxHeight * aspectRatio;\n          }\n        } else if (minCropBoxWidth) {\n          minCropBoxHeight = minCropBoxWidth / aspectRatio;\n        } else if (minCropBoxHeight) {\n          minCropBoxWidth = minCropBoxHeight * aspectRatio;\n        }\n\n        if (maxCropBoxHeight * aspectRatio > maxCropBoxWidth) {\n          maxCropBoxHeight = maxCropBoxWidth / aspectRatio;\n        } else {\n          maxCropBoxWidth = maxCropBoxHeight * aspectRatio;\n        }\n      }\n\n      // The minWidth/Height must be less than maxWidth/Height\n      cropBoxData.minWidth = Math.min(minCropBoxWidth, maxCropBoxWidth);\n      cropBoxData.minHeight = Math.min(minCropBoxHeight, maxCropBoxHeight);\n      cropBoxData.maxWidth = maxCropBoxWidth;\n      cropBoxData.maxHeight = maxCropBoxHeight;\n    }\n\n    if (positionLimited) {\n      if (limited) {\n        cropBoxData.minLeft = Math.max(0, canvasData.left);\n        cropBoxData.minTop = Math.max(0, canvasData.top);\n        cropBoxData.maxLeft = Math.min(containerData.width, canvasData.left + canvasData.width) - cropBoxData.width;\n        cropBoxData.maxTop = Math.min(containerData.height, canvasData.top + canvasData.height) - cropBoxData.height;\n      } else {\n        cropBoxData.minLeft = 0;\n        cropBoxData.minTop = 0;\n        cropBoxData.maxLeft = containerData.width - cropBoxData.width;\n        cropBoxData.maxTop = containerData.height - cropBoxData.height;\n      }\n    }\n  },\n  renderCropBox: function renderCropBox() {\n    var options = this.options,\n        containerData = this.containerData,\n        cropBoxData = this.cropBoxData;\n\n\n    if (cropBoxData.width > cropBoxData.maxWidth || cropBoxData.width < cropBoxData.minWidth) {\n      cropBoxData.left = cropBoxData.oldLeft;\n    }\n\n    if (cropBoxData.height > cropBoxData.maxHeight || cropBoxData.height < cropBoxData.minHeight) {\n      cropBoxData.top = cropBoxData.oldTop;\n    }\n\n    cropBoxData.width = Math.min(Math.max(cropBoxData.width, cropBoxData.minWidth), cropBoxData.maxWidth);\n    cropBoxData.height = Math.min(Math.max(cropBoxData.height, cropBoxData.minHeight), cropBoxData.maxHeight);\n\n    this.limitCropBox(false, true);\n\n    cropBoxData.left = Math.min(Math.max(cropBoxData.left, cropBoxData.minLeft), cropBoxData.maxLeft);\n    cropBoxData.top = Math.min(Math.max(cropBoxData.top, cropBoxData.minTop), cropBoxData.maxTop);\n    cropBoxData.oldLeft = cropBoxData.left;\n    cropBoxData.oldTop = cropBoxData.top;\n\n    if (options.movable && options.cropBoxMovable) {\n      // Turn to move the canvas when the crop box is equal to the container\n      setData(this.face, DATA_ACTION, cropBoxData.width >= containerData.width && cropBoxData.height >= containerData.height ? ACTION_MOVE : ACTION_ALL);\n    }\n\n    setStyle(this.cropBox, assign({\n      width: cropBoxData.width,\n      height: cropBoxData.height\n    }, getTransforms({\n      translateX: cropBoxData.left,\n      translateY: cropBoxData.top\n    })));\n\n    if (this.cropped && this.limited) {\n      this.limitCanvas(true, true);\n    }\n\n    if (!this.disabled) {\n      this.output();\n    }\n  },\n  output: function output() {\n    this.preview();\n    dispatchEvent(this.element, EVENT_CROP, this.getData());\n  }\n};\n\nvar preview = {\n  initPreview: function initPreview() {\n    var crossOrigin = this.crossOrigin;\n    var preview = this.options.preview;\n\n    var url = crossOrigin ? this.crossOriginUrl : this.url;\n    var image = document.createElement('img');\n\n    if (crossOrigin) {\n      image.crossOrigin = crossOrigin;\n    }\n\n    image.src = url;\n    this.viewBox.appendChild(image);\n    this.viewBoxImage = image;\n\n    if (!preview) {\n      return;\n    }\n\n    var previews = preview;\n\n    if (typeof preview === 'string') {\n      previews = this.element.ownerDocument.querySelectorAll(preview);\n    } else if (preview.querySelector) {\n      previews = [preview];\n    }\n\n    this.previews = previews;\n\n    forEach(previews, function (el) {\n      var img = document.createElement('img');\n\n      // Save the original size for recover\n      setData(el, DATA_PREVIEW, {\n        width: el.offsetWidth,\n        height: el.offsetHeight,\n        html: el.innerHTML\n      });\n\n      if (crossOrigin) {\n        img.crossOrigin = crossOrigin;\n      }\n\n      img.src = url;\n\n      /**\n       * Override img element styles\n       * Add `display:block` to avoid margin top issue\n       * Add `height:auto` to override `height` attribute on IE8\n       * (Occur only when margin-top <= -height)\n       */\n      img.style.cssText = 'display:block;' + 'width:100%;' + 'height:auto;' + 'min-width:0!important;' + 'min-height:0!important;' + 'max-width:none!important;' + 'max-height:none!important;' + 'image-orientation:0deg!important;\"';\n\n      el.innerHTML = '';\n      el.appendChild(img);\n    });\n  },\n  resetPreview: function resetPreview() {\n    forEach(this.previews, function (element) {\n      var data = getData(element, DATA_PREVIEW);\n\n      setStyle(element, {\n        width: data.width,\n        height: data.height\n      });\n\n      element.innerHTML = data.html;\n      removeData(element, DATA_PREVIEW);\n    });\n  },\n  preview: function preview() {\n    var imageData = this.imageData,\n        canvasData = this.canvasData,\n        cropBoxData = this.cropBoxData;\n    var cropBoxWidth = cropBoxData.width,\n        cropBoxHeight = cropBoxData.height;\n    var width = imageData.width,\n        height = imageData.height;\n\n    var left = cropBoxData.left - canvasData.left - imageData.left;\n    var top = cropBoxData.top - canvasData.top - imageData.top;\n\n    if (!this.cropped || this.disabled) {\n      return;\n    }\n\n    setStyle(this.viewBoxImage, assign({\n      width: width,\n      height: height\n    }, getTransforms(assign({\n      translateX: -left,\n      translateY: -top\n    }, imageData))));\n\n    forEach(this.previews, function (element) {\n      var data = getData(element, DATA_PREVIEW);\n      var originalWidth = data.width;\n      var originalHeight = data.height;\n      var newWidth = originalWidth;\n      var newHeight = originalHeight;\n      var ratio = 1;\n\n      if (cropBoxWidth) {\n        ratio = originalWidth / cropBoxWidth;\n        newHeight = cropBoxHeight * ratio;\n      }\n\n      if (cropBoxHeight && newHeight > originalHeight) {\n        ratio = originalHeight / cropBoxHeight;\n        newWidth = cropBoxWidth * ratio;\n        newHeight = originalHeight;\n      }\n\n      setStyle(element, {\n        width: newWidth,\n        height: newHeight\n      });\n\n      setStyle(element.getElementsByTagName('img')[0], assign({\n        width: width * ratio,\n        height: height * ratio\n      }, getTransforms(assign({\n        translateX: -left * ratio,\n        translateY: -top * ratio\n      }, imageData))));\n    });\n  }\n};\n\nvar events = {\n  bind: function bind() {\n    var element = this.element,\n        options = this.options,\n        cropper = this.cropper;\n\n\n    if (isFunction(options.cropstart)) {\n      addListener(element, EVENT_CROP_START, options.cropstart);\n    }\n\n    if (isFunction(options.cropmove)) {\n      addListener(element, EVENT_CROP_MOVE, options.cropmove);\n    }\n\n    if (isFunction(options.cropend)) {\n      addListener(element, EVENT_CROP_END, options.cropend);\n    }\n\n    if (isFunction(options.crop)) {\n      addListener(element, EVENT_CROP, options.crop);\n    }\n\n    if (isFunction(options.zoom)) {\n      addListener(element, EVENT_ZOOM, options.zoom);\n    }\n\n    addListener(cropper, EVENT_POINTER_DOWN, this.onCropStart = this.cropStart.bind(this));\n\n    if (options.zoomable && options.zoomOnWheel) {\n      addListener(cropper, EVENT_WHEEL, this.onWheel = this.wheel.bind(this));\n    }\n\n    if (options.toggleDragModeOnDblclick) {\n      addListener(cropper, EVENT_DBLCLICK, this.onDblclick = this.dblclick.bind(this));\n    }\n\n    addListener(element.ownerDocument, EVENT_POINTER_MOVE, this.onCropMove = this.cropMove.bind(this));\n    addListener(element.ownerDocument, EVENT_POINTER_UP, this.onCropEnd = this.cropEnd.bind(this));\n\n    if (options.responsive) {\n      addListener(window, EVENT_RESIZE, this.onResize = this.resize.bind(this));\n    }\n  },\n  unbind: function unbind() {\n    var element = this.element,\n        options = this.options,\n        cropper = this.cropper;\n\n\n    if (isFunction(options.cropstart)) {\n      removeListener(element, EVENT_CROP_START, options.cropstart);\n    }\n\n    if (isFunction(options.cropmove)) {\n      removeListener(element, EVENT_CROP_MOVE, options.cropmove);\n    }\n\n    if (isFunction(options.cropend)) {\n      removeListener(element, EVENT_CROP_END, options.cropend);\n    }\n\n    if (isFunction(options.crop)) {\n      removeListener(element, EVENT_CROP, options.crop);\n    }\n\n    if (isFunction(options.zoom)) {\n      removeListener(element, EVENT_ZOOM, options.zoom);\n    }\n\n    removeListener(cropper, EVENT_POINTER_DOWN, this.onCropStart);\n\n    if (options.zoomable && options.zoomOnWheel) {\n      removeListener(cropper, EVENT_WHEEL, this.onWheel);\n    }\n\n    if (options.toggleDragModeOnDblclick) {\n      removeListener(cropper, EVENT_DBLCLICK, this.onDblclick);\n    }\n\n    removeListener(element.ownerDocument, EVENT_POINTER_MOVE, this.onCropMove);\n    removeListener(element.ownerDocument, EVENT_POINTER_UP, this.onCropEnd);\n\n    if (options.responsive) {\n      removeListener(window, EVENT_RESIZE, this.onResize);\n    }\n  }\n};\n\nvar handlers = {\n  resize: function resize() {\n    var options = this.options,\n        container = this.container,\n        containerData = this.containerData;\n\n    var minContainerWidth = Number(options.minContainerWidth) || 200;\n    var minContainerHeight = Number(options.minContainerHeight) || 100;\n\n    if (this.disabled || containerData.width <= minContainerWidth || containerData.height <= minContainerHeight) {\n      return;\n    }\n\n    var ratio = container.offsetWidth / containerData.width;\n\n    // Resize when width changed or height changed\n    if (ratio !== 1 || container.offsetHeight !== containerData.height) {\n      var canvasData = void 0;\n      var cropBoxData = void 0;\n\n      if (options.restore) {\n        canvasData = this.getCanvasData();\n        cropBoxData = this.getCropBoxData();\n      }\n\n      this.render();\n\n      if (options.restore) {\n        this.setCanvasData(forEach(canvasData, function (n, i) {\n          canvasData[i] = n * ratio;\n        }));\n        this.setCropBoxData(forEach(cropBoxData, function (n, i) {\n          cropBoxData[i] = n * ratio;\n        }));\n      }\n    }\n  },\n  dblclick: function dblclick() {\n    if (this.disabled || this.options.dragMode === DRAG_MODE_NONE) {\n      return;\n    }\n\n    this.setDragMode(hasClass(this.dragBox, CLASS_CROP) ? DRAG_MODE_MOVE : DRAG_MODE_CROP);\n  },\n  wheel: function wheel(e) {\n    var _this = this;\n\n    var ratio = Number(this.options.wheelZoomRatio) || 0.1;\n    var delta = 1;\n\n    if (this.disabled) {\n      return;\n    }\n\n    e.preventDefault();\n\n    // Limit wheel speed to prevent zoom too fast (#21)\n    if (this.wheeling) {\n      return;\n    }\n\n    this.wheeling = true;\n\n    setTimeout(function () {\n      _this.wheeling = false;\n    }, 50);\n\n    if (e.deltaY) {\n      delta = e.deltaY > 0 ? 1 : -1;\n    } else if (e.wheelDelta) {\n      delta = -e.wheelDelta / 120;\n    } else if (e.detail) {\n      delta = e.detail > 0 ? 1 : -1;\n    }\n\n    this.zoom(-delta * ratio, e);\n  },\n  cropStart: function cropStart(e) {\n    if (this.disabled) {\n      return;\n    }\n\n    var options = this.options,\n        pointers = this.pointers;\n\n    var action = void 0;\n\n    if (e.changedTouches) {\n      // Handle touch event\n      forEach(e.changedTouches, function (touch) {\n        pointers[touch.identifier] = getPointer(touch);\n      });\n    } else {\n      // Handle mouse event and pointer event\n      pointers[e.pointerId || 0] = getPointer(e);\n    }\n\n    if (Object.keys(pointers).length > 1 && options.zoomable && options.zoomOnTouch) {\n      action = ACTION_ZOOM;\n    } else {\n      action = getData(e.target, DATA_ACTION);\n    }\n\n    if (!REGEXP_ACTIONS.test(action)) {\n      return;\n    }\n\n    if (dispatchEvent(this.element, EVENT_CROP_START, {\n      originalEvent: e,\n      action: action\n    }) === false) {\n      return;\n    }\n\n    // This line is required for preventing page zooming in iOS browsers\n    e.preventDefault();\n\n    this.action = action;\n    this.cropping = false;\n\n    if (action === ACTION_CROP) {\n      this.cropping = true;\n      addClass(this.dragBox, CLASS_MODAL);\n    }\n  },\n  cropMove: function cropMove(e) {\n    var action = this.action;\n\n\n    if (this.disabled || !action) {\n      return;\n    }\n\n    var pointers = this.pointers;\n\n\n    e.preventDefault();\n\n    if (dispatchEvent(this.element, EVENT_CROP_MOVE, {\n      originalEvent: e,\n      action: action\n    }) === false) {\n      return;\n    }\n\n    if (e.changedTouches) {\n      forEach(e.changedTouches, function (touch) {\n        assign(pointers[touch.identifier], getPointer(touch, true));\n      });\n    } else {\n      assign(pointers[e.pointerId || 0], getPointer(e, true));\n    }\n\n    this.change(e);\n  },\n  cropEnd: function cropEnd(e) {\n    if (this.disabled) {\n      return;\n    }\n\n    var action = this.action,\n        pointers = this.pointers;\n\n\n    if (e.changedTouches) {\n      forEach(e.changedTouches, function (touch) {\n        delete pointers[touch.identifier];\n      });\n    } else {\n      delete pointers[e.pointerId || 0];\n    }\n\n    if (!action) {\n      return;\n    }\n\n    e.preventDefault();\n\n    if (!Object.keys(pointers).length) {\n      this.action = '';\n    }\n\n    if (this.cropping) {\n      this.cropping = false;\n      toggleClass(this.dragBox, CLASS_MODAL, this.cropped && this.options.modal);\n    }\n\n    dispatchEvent(this.element, EVENT_CROP_END, {\n      originalEvent: e,\n      action: action\n    });\n  }\n};\n\nvar change = {\n  change: function change(e) {\n    var options = this.options,\n        canvasData = this.canvasData,\n        containerData = this.containerData,\n        cropBoxData = this.cropBoxData,\n        pointers = this.pointers;\n    var action = this.action;\n    var aspectRatio = options.aspectRatio;\n    var left = cropBoxData.left,\n        top = cropBoxData.top,\n        width = cropBoxData.width,\n        height = cropBoxData.height;\n\n    var right = left + width;\n    var bottom = top + height;\n    var minLeft = 0;\n    var minTop = 0;\n    var maxWidth = containerData.width;\n    var maxHeight = containerData.height;\n    var renderable = true;\n    var offset = void 0;\n\n    // Locking aspect ratio in \"free mode\" by holding shift key\n    if (!aspectRatio && e.shiftKey) {\n      aspectRatio = width && height ? width / height : 1;\n    }\n\n    if (this.limited) {\n      minLeft = cropBoxData.minLeft;\n      minTop = cropBoxData.minTop;\n\n      maxWidth = minLeft + Math.min(containerData.width, canvasData.width, canvasData.left + canvasData.width);\n      maxHeight = minTop + Math.min(containerData.height, canvasData.height, canvasData.top + canvasData.height);\n    }\n\n    var pointer = pointers[Object.keys(pointers)[0]];\n    var range = {\n      x: pointer.endX - pointer.startX,\n      y: pointer.endY - pointer.startY\n    };\n    var check = function check(side) {\n      switch (side) {\n        case ACTION_EAST:\n          if (right + range.x > maxWidth) {\n            range.x = maxWidth - right;\n          }\n\n          break;\n\n        case ACTION_WEST:\n          if (left + range.x < minLeft) {\n            range.x = minLeft - left;\n          }\n\n          break;\n\n        case ACTION_NORTH:\n          if (top + range.y < minTop) {\n            range.y = minTop - top;\n          }\n\n          break;\n\n        case ACTION_SOUTH:\n          if (bottom + range.y > maxHeight) {\n            range.y = maxHeight - bottom;\n          }\n\n          break;\n\n        default:\n      }\n    };\n\n    switch (action) {\n      // Move crop box\n      case ACTION_ALL:\n        left += range.x;\n        top += range.y;\n        break;\n\n      // Resize crop box\n      case ACTION_EAST:\n        if (range.x >= 0 && (right >= maxWidth || aspectRatio && (top <= minTop || bottom >= maxHeight))) {\n          renderable = false;\n          break;\n        }\n\n        check(ACTION_EAST);\n        width += range.x;\n\n        if (width < 0) {\n          action = ACTION_WEST;\n          width = -width;\n          left -= width;\n        }\n\n        if (aspectRatio) {\n          height = width / aspectRatio;\n          top += (cropBoxData.height - height) / 2;\n        }\n\n        break;\n\n      case ACTION_NORTH:\n        if (range.y <= 0 && (top <= minTop || aspectRatio && (left <= minLeft || right >= maxWidth))) {\n          renderable = false;\n          break;\n        }\n\n        check(ACTION_NORTH);\n        height -= range.y;\n        top += range.y;\n\n        if (height < 0) {\n          action = ACTION_SOUTH;\n          height = -height;\n          top -= height;\n        }\n\n        if (aspectRatio) {\n          width = height * aspectRatio;\n          left += (cropBoxData.width - width) / 2;\n        }\n\n        break;\n\n      case ACTION_WEST:\n        if (range.x <= 0 && (left <= minLeft || aspectRatio && (top <= minTop || bottom >= maxHeight))) {\n          renderable = false;\n          break;\n        }\n\n        check(ACTION_WEST);\n        width -= range.x;\n        left += range.x;\n\n        if (width < 0) {\n          action = ACTION_EAST;\n          width = -width;\n          left -= width;\n        }\n\n        if (aspectRatio) {\n          height = width / aspectRatio;\n          top += (cropBoxData.height - height) / 2;\n        }\n\n        break;\n\n      case ACTION_SOUTH:\n        if (range.y >= 0 && (bottom >= maxHeight || aspectRatio && (left <= minLeft || right >= maxWidth))) {\n          renderable = false;\n          break;\n        }\n\n        check(ACTION_SOUTH);\n        height += range.y;\n\n        if (height < 0) {\n          action = ACTION_NORTH;\n          height = -height;\n          top -= height;\n        }\n\n        if (aspectRatio) {\n          width = height * aspectRatio;\n          left += (cropBoxData.width - width) / 2;\n        }\n\n        break;\n\n      case ACTION_NORTH_EAST:\n        if (aspectRatio) {\n          if (range.y <= 0 && (top <= minTop || right >= maxWidth)) {\n            renderable = false;\n            break;\n          }\n\n          check(ACTION_NORTH);\n          height -= range.y;\n          top += range.y;\n          width = height * aspectRatio;\n        } else {\n          check(ACTION_NORTH);\n          check(ACTION_EAST);\n\n          if (range.x >= 0) {\n            if (right < maxWidth) {\n              width += range.x;\n            } else if (range.y <= 0 && top <= minTop) {\n              renderable = false;\n            }\n          } else {\n            width += range.x;\n          }\n\n          if (range.y <= 0) {\n            if (top > minTop) {\n              height -= range.y;\n              top += range.y;\n            }\n          } else {\n            height -= range.y;\n            top += range.y;\n          }\n        }\n\n        if (width < 0 && height < 0) {\n          action = ACTION_SOUTH_WEST;\n          height = -height;\n          width = -width;\n          top -= height;\n          left -= width;\n        } else if (width < 0) {\n          action = ACTION_NORTH_WEST;\n          width = -width;\n          left -= width;\n        } else if (height < 0) {\n          action = ACTION_SOUTH_EAST;\n          height = -height;\n          top -= height;\n        }\n\n        break;\n\n      case ACTION_NORTH_WEST:\n        if (aspectRatio) {\n          if (range.y <= 0 && (top <= minTop || left <= minLeft)) {\n            renderable = false;\n            break;\n          }\n\n          check(ACTION_NORTH);\n          height -= range.y;\n          top += range.y;\n          width = height * aspectRatio;\n          left += cropBoxData.width - width;\n        } else {\n          check(ACTION_NORTH);\n          check(ACTION_WEST);\n\n          if (range.x <= 0) {\n            if (left > minLeft) {\n              width -= range.x;\n              left += range.x;\n            } else if (range.y <= 0 && top <= minTop) {\n              renderable = false;\n            }\n          } else {\n            width -= range.x;\n            left += range.x;\n          }\n\n          if (range.y <= 0) {\n            if (top > minTop) {\n              height -= range.y;\n              top += range.y;\n            }\n          } else {\n            height -= range.y;\n            top += range.y;\n          }\n        }\n\n        if (width < 0 && height < 0) {\n          action = ACTION_SOUTH_EAST;\n          height = -height;\n          width = -width;\n          top -= height;\n          left -= width;\n        } else if (width < 0) {\n          action = ACTION_NORTH_EAST;\n          width = -width;\n          left -= width;\n        } else if (height < 0) {\n          action = ACTION_SOUTH_WEST;\n          height = -height;\n          top -= height;\n        }\n\n        break;\n\n      case ACTION_SOUTH_WEST:\n        if (aspectRatio) {\n          if (range.x <= 0 && (left <= minLeft || bottom >= maxHeight)) {\n            renderable = false;\n            break;\n          }\n\n          check(ACTION_WEST);\n          width -= range.x;\n          left += range.x;\n          height = width / aspectRatio;\n        } else {\n          check(ACTION_SOUTH);\n          check(ACTION_WEST);\n\n          if (range.x <= 0) {\n            if (left > minLeft) {\n              width -= range.x;\n              left += range.x;\n            } else if (range.y >= 0 && bottom >= maxHeight) {\n              renderable = false;\n            }\n          } else {\n            width -= range.x;\n            left += range.x;\n          }\n\n          if (range.y >= 0) {\n            if (bottom < maxHeight) {\n              height += range.y;\n            }\n          } else {\n            height += range.y;\n          }\n        }\n\n        if (width < 0 && height < 0) {\n          action = ACTION_NORTH_EAST;\n          height = -height;\n          width = -width;\n          top -= height;\n          left -= width;\n        } else if (width < 0) {\n          action = ACTION_SOUTH_EAST;\n          width = -width;\n          left -= width;\n        } else if (height < 0) {\n          action = ACTION_NORTH_WEST;\n          height = -height;\n          top -= height;\n        }\n\n        break;\n\n      case ACTION_SOUTH_EAST:\n        if (aspectRatio) {\n          if (range.x >= 0 && (right >= maxWidth || bottom >= maxHeight)) {\n            renderable = false;\n            break;\n          }\n\n          check(ACTION_EAST);\n          width += range.x;\n          height = width / aspectRatio;\n        } else {\n          check(ACTION_SOUTH);\n          check(ACTION_EAST);\n\n          if (range.x >= 0) {\n            if (right < maxWidth) {\n              width += range.x;\n            } else if (range.y >= 0 && bottom >= maxHeight) {\n              renderable = false;\n            }\n          } else {\n            width += range.x;\n          }\n\n          if (range.y >= 0) {\n            if (bottom < maxHeight) {\n              height += range.y;\n            }\n          } else {\n            height += range.y;\n          }\n        }\n\n        if (width < 0 && height < 0) {\n          action = ACTION_NORTH_WEST;\n          height = -height;\n          width = -width;\n          top -= height;\n          left -= width;\n        } else if (width < 0) {\n          action = ACTION_SOUTH_WEST;\n          width = -width;\n          left -= width;\n        } else if (height < 0) {\n          action = ACTION_NORTH_EAST;\n          height = -height;\n          top -= height;\n        }\n\n        break;\n\n      // Move canvas\n      case ACTION_MOVE:\n        this.move(range.x, range.y);\n        renderable = false;\n        break;\n\n      // Zoom canvas\n      case ACTION_ZOOM:\n        this.zoom(getMaxZoomRatio(pointers), e);\n        renderable = false;\n        break;\n\n      // Create crop box\n      case ACTION_CROP:\n        if (!range.x || !range.y) {\n          renderable = false;\n          break;\n        }\n\n        offset = getOffset(this.cropper);\n        left = pointer.startX - offset.left;\n        top = pointer.startY - offset.top;\n        width = cropBoxData.minWidth;\n        height = cropBoxData.minHeight;\n\n        if (range.x > 0) {\n          action = range.y > 0 ? ACTION_SOUTH_EAST : ACTION_NORTH_EAST;\n        } else if (range.x < 0) {\n          left -= width;\n          action = range.y > 0 ? ACTION_SOUTH_WEST : ACTION_NORTH_WEST;\n        }\n\n        if (range.y < 0) {\n          top -= height;\n        }\n\n        // Show the crop box if is hidden\n        if (!this.cropped) {\n          removeClass(this.cropBox, CLASS_HIDDEN);\n          this.cropped = true;\n\n          if (this.limited) {\n            this.limitCropBox(true, true);\n          }\n        }\n\n        break;\n\n      default:\n    }\n\n    if (renderable) {\n      cropBoxData.width = width;\n      cropBoxData.height = height;\n      cropBoxData.left = left;\n      cropBoxData.top = top;\n      this.action = action;\n      this.renderCropBox();\n    }\n\n    // Override\n    forEach(pointers, function (p) {\n      p.startX = p.endX;\n      p.startY = p.endY;\n    });\n  }\n};\n\nvar methods = {\n  // Show the crop box manually\n  crop: function crop() {\n    if (this.ready && !this.cropped && !this.disabled) {\n      this.cropped = true;\n      this.limitCropBox(true, true);\n\n      if (this.options.modal) {\n        addClass(this.dragBox, CLASS_MODAL);\n      }\n\n      removeClass(this.cropBox, CLASS_HIDDEN);\n      this.setCropBoxData(this.initialCropBoxData);\n    }\n\n    return this;\n  },\n\n\n  // Reset the image and crop box to their initial states\n  reset: function reset() {\n    if (this.ready && !this.disabled) {\n      this.imageData = assign({}, this.initialImageData);\n      this.canvasData = assign({}, this.initialCanvasData);\n      this.cropBoxData = assign({}, this.initialCropBoxData);\n      this.renderCanvas();\n\n      if (this.cropped) {\n        this.renderCropBox();\n      }\n    }\n\n    return this;\n  },\n\n\n  // Clear the crop box\n  clear: function clear() {\n    if (this.cropped && !this.disabled) {\n      assign(this.cropBoxData, {\n        left: 0,\n        top: 0,\n        width: 0,\n        height: 0\n      });\n\n      this.cropped = false;\n      this.renderCropBox();\n      this.limitCanvas(true, true);\n\n      // Render canvas after crop box rendered\n      this.renderCanvas();\n      removeClass(this.dragBox, CLASS_MODAL);\n      addClass(this.cropBox, CLASS_HIDDEN);\n    }\n\n    return this;\n  },\n\n\n  /**\n   * Replace the image's src and rebuild the cropper\n   * @param {string} url - The new URL.\n   * @param {boolean} [hasSameSize] - Indicate if the new image has the same size as the old one.\n   * @returns {Cropper} this\n   */\n  replace: function replace(url) {\n    var hasSameSize = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n    if (!this.disabled && url) {\n      if (this.isImg) {\n        this.element.src = url;\n      }\n\n      if (hasSameSize) {\n        this.url = url;\n        this.image.src = url;\n\n        if (this.ready) {\n          this.viewBoxImage.src = url;\n\n          forEach(this.previews, function (element) {\n            element.getElementsByTagName('img')[0].src = url;\n          });\n        }\n      } else {\n        if (this.isImg) {\n          this.replaced = true;\n        }\n\n        this.options.data = null;\n        this.uncreate();\n        this.load(url);\n      }\n    }\n\n    return this;\n  },\n\n\n  // Enable (unfreeze) the cropper\n  enable: function enable() {\n    if (this.ready && this.disabled) {\n      this.disabled = false;\n      removeClass(this.cropper, CLASS_DISABLED);\n    }\n\n    return this;\n  },\n\n\n  // Disable (freeze) the cropper\n  disable: function disable() {\n    if (this.ready && !this.disabled) {\n      this.disabled = true;\n      addClass(this.cropper, CLASS_DISABLED);\n    }\n\n    return this;\n  },\n\n\n  /**\n   * Destroy the cropper and remove the instance from the image\n   * @returns {Cropper} this\n   */\n  destroy: function destroy() {\n    var element = this.element;\n\n\n    if (!getData(element, NAMESPACE)) {\n      return this;\n    }\n\n    if (this.isImg && this.replaced) {\n      element.src = this.originalUrl;\n    }\n\n    this.uncreate();\n    removeData(element, NAMESPACE);\n\n    return this;\n  },\n\n\n  /**\n   * Move the canvas with relative offsets\n   * @param {number} offsetX - The relative offset distance on the x-axis.\n   * @param {number} [offsetY=offsetX] - The relative offset distance on the y-axis.\n   * @returns {Cropper} this\n   */\n  move: function move(offsetX) {\n    var offsetY = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : offsetX;\n    var _canvasData = this.canvasData,\n        left = _canvasData.left,\n        top = _canvasData.top;\n\n\n    return this.moveTo(isUndefined(offsetX) ? offsetX : left + Number(offsetX), isUndefined(offsetY) ? offsetY : top + Number(offsetY));\n  },\n\n\n  /**\n   * Move the canvas to an absolute point\n   * @param {number} x - The x-axis coordinate.\n   * @param {number} [y=x] - The y-axis coordinate.\n   * @returns {Cropper} this\n   */\n  moveTo: function moveTo(x) {\n    var y = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : x;\n    var canvasData = this.canvasData;\n\n    var changed = false;\n\n    x = Number(x);\n    y = Number(y);\n\n    if (this.ready && !this.disabled && this.options.movable) {\n      if (isNumber(x)) {\n        canvasData.left = x;\n        changed = true;\n      }\n\n      if (isNumber(y)) {\n        canvasData.top = y;\n        changed = true;\n      }\n\n      if (changed) {\n        this.renderCanvas(true);\n      }\n    }\n\n    return this;\n  },\n\n\n  /**\n   * Zoom the canvas with a relative ratio\n   * @param {number} ratio - The target ratio.\n   * @param {Event} _originalEvent - The original event if any.\n   * @returns {Cropper} this\n   */\n  zoom: function zoom(ratio, _originalEvent) {\n    var canvasData = this.canvasData;\n\n\n    ratio = Number(ratio);\n\n    if (ratio < 0) {\n      ratio = 1 / (1 - ratio);\n    } else {\n      ratio = 1 + ratio;\n    }\n\n    return this.zoomTo(canvasData.width * ratio / canvasData.naturalWidth, null, _originalEvent);\n  },\n\n\n  /**\n   * Zoom the canvas to an absolute ratio\n   * @param {number} ratio - The target ratio.\n   * @param {Object} pivot - The zoom pivot point coordinate.\n   * @param {Event} _originalEvent - The original event if any.\n   * @returns {Cropper} this\n   */\n  zoomTo: function zoomTo(ratio, pivot, _originalEvent) {\n    var options = this.options,\n        canvasData = this.canvasData;\n    var width = canvasData.width,\n        height = canvasData.height,\n        naturalWidth = canvasData.naturalWidth,\n        naturalHeight = canvasData.naturalHeight;\n\n\n    ratio = Number(ratio);\n\n    if (ratio >= 0 && this.ready && !this.disabled && options.zoomable) {\n      var newWidth = naturalWidth * ratio;\n      var newHeight = naturalHeight * ratio;\n\n      if (dispatchEvent(this.element, EVENT_ZOOM, {\n        ratio: ratio,\n        oldRatio: width / naturalWidth,\n        originalEvent: _originalEvent\n      }) === false) {\n        return this;\n      }\n\n      if (_originalEvent) {\n        var pointers = this.pointers;\n\n        var offset = getOffset(this.cropper);\n        var center = pointers && Object.keys(pointers).length ? getPointersCenter(pointers) : {\n          pageX: _originalEvent.pageX,\n          pageY: _originalEvent.pageY\n        };\n\n        // Zoom from the triggering point of the event\n        canvasData.left -= (newWidth - width) * ((center.pageX - offset.left - canvasData.left) / width);\n        canvasData.top -= (newHeight - height) * ((center.pageY - offset.top - canvasData.top) / height);\n      } else if (isPlainObject(pivot) && isNumber(pivot.x) && isNumber(pivot.y)) {\n        canvasData.left -= (newWidth - width) * ((pivot.x - canvasData.left) / width);\n        canvasData.top -= (newHeight - height) * ((pivot.y - canvasData.top) / height);\n      } else {\n        // Zoom from the center of the canvas\n        canvasData.left -= (newWidth - width) / 2;\n        canvasData.top -= (newHeight - height) / 2;\n      }\n\n      canvasData.width = newWidth;\n      canvasData.height = newHeight;\n      this.renderCanvas(true);\n    }\n\n    return this;\n  },\n\n\n  /**\n   * Rotate the canvas with a relative degree\n   * @param {number} degree - The rotate degree.\n   * @returns {Cropper} this\n   */\n  rotate: function rotate(degree) {\n    return this.rotateTo((this.imageData.rotate || 0) + Number(degree));\n  },\n\n\n  /**\n   * Rotate the canvas to an absolute degree\n   * @param {number} degree - The rotate degree.\n   * @returns {Cropper} this\n   */\n  rotateTo: function rotateTo(degree) {\n    degree = Number(degree);\n\n    if (isNumber(degree) && this.ready && !this.disabled && this.options.rotatable) {\n      this.imageData.rotate = degree % 360;\n      this.renderCanvas(true, true);\n    }\n\n    return this;\n  },\n\n\n  /**\n   * Scale the image on the x-axis.\n   * @param {number} scaleX - The scale ratio on the x-axis.\n   * @returns {Cropper} this\n   */\n  scaleX: function scaleX(_scaleX) {\n    var scaleY = this.imageData.scaleY;\n\n\n    return this.scale(_scaleX, isNumber(scaleY) ? scaleY : 1);\n  },\n\n\n  /**\n   * Scale the image on the y-axis.\n   * @param {number} scaleY - The scale ratio on the y-axis.\n   * @returns {Cropper} this\n   */\n  scaleY: function scaleY(_scaleY) {\n    var scaleX = this.imageData.scaleX;\n\n\n    return this.scale(isNumber(scaleX) ? scaleX : 1, _scaleY);\n  },\n\n\n  /**\n   * Scale the image\n   * @param {number} scaleX - The scale ratio on the x-axis.\n   * @param {number} [scaleY=scaleX] - The scale ratio on the y-axis.\n   * @returns {Cropper} this\n   */\n  scale: function scale(scaleX) {\n    var scaleY = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : scaleX;\n    var imageData = this.imageData;\n\n    var transformed = false;\n\n    scaleX = Number(scaleX);\n    scaleY = Number(scaleY);\n\n    if (this.ready && !this.disabled && this.options.scalable) {\n      if (isNumber(scaleX)) {\n        imageData.scaleX = scaleX;\n        transformed = true;\n      }\n\n      if (isNumber(scaleY)) {\n        imageData.scaleY = scaleY;\n        transformed = true;\n      }\n\n      if (transformed) {\n        this.renderCanvas(true, true);\n      }\n    }\n\n    return this;\n  },\n\n\n  /**\n   * Get the cropped area position and size data (base on the original image)\n   * @param {boolean} [rounded=false] - Indicate if round the data values or not.\n   * @returns {Object} The result cropped data.\n   */\n  getData: function getData$$1() {\n    var rounded = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n    var options = this.options,\n        imageData = this.imageData,\n        canvasData = this.canvasData,\n        cropBoxData = this.cropBoxData;\n\n    var data = void 0;\n\n    if (this.ready && this.cropped) {\n      data = {\n        x: cropBoxData.left - canvasData.left,\n        y: cropBoxData.top - canvasData.top,\n        width: cropBoxData.width,\n        height: cropBoxData.height\n      };\n\n      var ratio = imageData.width / imageData.naturalWidth;\n\n      forEach(data, function (n, i) {\n        data[i] = n / ratio;\n      });\n\n      if (rounded) {\n        // In case rounding off leads to extra 1px in right or bottom border\n        // we should round the top-left corner and the dimension (#343).\n        var bottom = Math.round(data.y + data.height);\n        var right = Math.round(data.x + data.width);\n\n        data.x = Math.round(data.x);\n        data.y = Math.round(data.y);\n        data.width = right - data.x;\n        data.height = bottom - data.y;\n      }\n    } else {\n      data = {\n        x: 0,\n        y: 0,\n        width: 0,\n        height: 0\n      };\n    }\n\n    if (options.rotatable) {\n      data.rotate = imageData.rotate || 0;\n    }\n\n    if (options.scalable) {\n      data.scaleX = imageData.scaleX || 1;\n      data.scaleY = imageData.scaleY || 1;\n    }\n\n    return data;\n  },\n\n\n  /**\n   * Set the cropped area position and size with new data\n   * @param {Object} data - The new data.\n   * @returns {Cropper} this\n   */\n  setData: function setData$$1(data) {\n    var options = this.options,\n        imageData = this.imageData,\n        canvasData = this.canvasData;\n\n    var cropBoxData = {};\n\n    if (this.ready && !this.disabled && isPlainObject(data)) {\n      var transformed = false;\n\n      if (options.rotatable) {\n        if (isNumber(data.rotate) && data.rotate !== imageData.rotate) {\n          imageData.rotate = data.rotate;\n          transformed = true;\n        }\n      }\n\n      if (options.scalable) {\n        if (isNumber(data.scaleX) && data.scaleX !== imageData.scaleX) {\n          imageData.scaleX = data.scaleX;\n          transformed = true;\n        }\n\n        if (isNumber(data.scaleY) && data.scaleY !== imageData.scaleY) {\n          imageData.scaleY = data.scaleY;\n          transformed = true;\n        }\n      }\n\n      if (transformed) {\n        this.renderCanvas(true, true);\n      }\n\n      var ratio = imageData.width / imageData.naturalWidth;\n\n      if (isNumber(data.x)) {\n        cropBoxData.left = data.x * ratio + canvasData.left;\n      }\n\n      if (isNumber(data.y)) {\n        cropBoxData.top = data.y * ratio + canvasData.top;\n      }\n\n      if (isNumber(data.width)) {\n        cropBoxData.width = data.width * ratio;\n      }\n\n      if (isNumber(data.height)) {\n        cropBoxData.height = data.height * ratio;\n      }\n\n      this.setCropBoxData(cropBoxData);\n    }\n\n    return this;\n  },\n\n\n  /**\n   * Get the container size data.\n   * @returns {Object} The result container data.\n   */\n  getContainerData: function getContainerData() {\n    return this.ready ? assign({}, this.containerData) : {};\n  },\n\n\n  /**\n   * Get the image position and size data.\n   * @returns {Object} The result image data.\n   */\n  getImageData: function getImageData() {\n    return this.sized ? assign({}, this.imageData) : {};\n  },\n\n\n  /**\n   * Get the canvas position and size data.\n   * @returns {Object} The result canvas data.\n   */\n  getCanvasData: function getCanvasData() {\n    var canvasData = this.canvasData;\n\n    var data = {};\n\n    if (this.ready) {\n      forEach(['left', 'top', 'width', 'height', 'naturalWidth', 'naturalHeight'], function (n) {\n        data[n] = canvasData[n];\n      });\n    }\n\n    return data;\n  },\n\n\n  /**\n   * Set the canvas position and size with new data.\n   * @param {Object} data - The new canvas data.\n   * @returns {Cropper} this\n   */\n  setCanvasData: function setCanvasData(data) {\n    var canvasData = this.canvasData;\n    var aspectRatio = canvasData.aspectRatio;\n\n\n    if (this.ready && !this.disabled && isPlainObject(data)) {\n      if (isNumber(data.left)) {\n        canvasData.left = data.left;\n      }\n\n      if (isNumber(data.top)) {\n        canvasData.top = data.top;\n      }\n\n      if (isNumber(data.width)) {\n        canvasData.width = data.width;\n        canvasData.height = data.width / aspectRatio;\n      } else if (isNumber(data.height)) {\n        canvasData.height = data.height;\n        canvasData.width = data.height * aspectRatio;\n      }\n\n      this.renderCanvas(true);\n    }\n\n    return this;\n  },\n\n\n  /**\n   * Get the crop box position and size data.\n   * @returns {Object} The result crop box data.\n   */\n  getCropBoxData: function getCropBoxData() {\n    var cropBoxData = this.cropBoxData;\n\n    var data = void 0;\n\n    if (this.ready && this.cropped) {\n      data = {\n        left: cropBoxData.left,\n        top: cropBoxData.top,\n        width: cropBoxData.width,\n        height: cropBoxData.height\n      };\n    }\n\n    return data || {};\n  },\n\n\n  /**\n   * Set the crop box position and size with new data.\n   * @param {Object} data - The new crop box data.\n   * @returns {Cropper} this\n   */\n  setCropBoxData: function setCropBoxData(data) {\n    var cropBoxData = this.cropBoxData;\n    var aspectRatio = this.options.aspectRatio;\n\n    var widthChanged = void 0;\n    var heightChanged = void 0;\n\n    if (this.ready && this.cropped && !this.disabled && isPlainObject(data)) {\n      if (isNumber(data.left)) {\n        cropBoxData.left = data.left;\n      }\n\n      if (isNumber(data.top)) {\n        cropBoxData.top = data.top;\n      }\n\n      if (isNumber(data.width) && data.width !== cropBoxData.width) {\n        widthChanged = true;\n        cropBoxData.width = data.width;\n      }\n\n      if (isNumber(data.height) && data.height !== cropBoxData.height) {\n        heightChanged = true;\n        cropBoxData.height = data.height;\n      }\n\n      if (aspectRatio) {\n        if (widthChanged) {\n          cropBoxData.height = cropBoxData.width / aspectRatio;\n        } else if (heightChanged) {\n          cropBoxData.width = cropBoxData.height * aspectRatio;\n        }\n      }\n\n      this.renderCropBox();\n    }\n\n    return this;\n  },\n\n\n  /**\n   * Get a canvas drawn the cropped image.\n   * @param {Object} [options={}] - The config options.\n   * @returns {HTMLCanvasElement} - The result canvas.\n   */\n  getCroppedCanvas: function getCroppedCanvas() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    if (!this.ready || !window.HTMLCanvasElement) {\n      return null;\n    }\n\n    var canvasData = this.canvasData;\n\n    var source = getSourceCanvas(this.image, this.imageData, canvasData, options);\n\n    // Returns the source canvas if it is not cropped.\n    if (!this.cropped) {\n      return source;\n    }\n\n    var _getData = this.getData(),\n        initialX = _getData.x,\n        initialY = _getData.y,\n        initialWidth = _getData.width,\n        initialHeight = _getData.height;\n\n    var ratio = source.width / Math.floor(canvasData.naturalWidth);\n\n    if (ratio !== 1) {\n      initialX *= ratio;\n      initialY *= ratio;\n      initialWidth *= ratio;\n      initialHeight *= ratio;\n    }\n\n    var aspectRatio = initialWidth / initialHeight;\n    var maxSizes = getAdjustedSizes({\n      aspectRatio: aspectRatio,\n      width: options.maxWidth || Infinity,\n      height: options.maxHeight || Infinity\n    });\n    var minSizes = getAdjustedSizes({\n      aspectRatio: aspectRatio,\n      width: options.minWidth || 0,\n      height: options.minHeight || 0\n    }, 'cover');\n\n    var _getAdjustedSizes = getAdjustedSizes({\n      aspectRatio: aspectRatio,\n      width: options.width || (ratio !== 1 ? source.width : initialWidth),\n      height: options.height || (ratio !== 1 ? source.height : initialHeight)\n    }),\n        width = _getAdjustedSizes.width,\n        height = _getAdjustedSizes.height;\n\n    width = Math.min(maxSizes.width, Math.max(minSizes.width, width));\n    height = Math.min(maxSizes.height, Math.max(minSizes.height, height));\n\n    var canvas = document.createElement('canvas');\n    var context = canvas.getContext('2d');\n\n    canvas.width = normalizeDecimalNumber(width);\n    canvas.height = normalizeDecimalNumber(height);\n\n    context.fillStyle = options.fillColor || 'transparent';\n    context.fillRect(0, 0, width, height);\n\n    var _options$imageSmoothi = options.imageSmoothingEnabled,\n        imageSmoothingEnabled = _options$imageSmoothi === undefined ? true : _options$imageSmoothi,\n        imageSmoothingQuality = options.imageSmoothingQuality;\n\n\n    context.imageSmoothingEnabled = imageSmoothingEnabled;\n\n    if (imageSmoothingQuality) {\n      context.imageSmoothingQuality = imageSmoothingQuality;\n    }\n\n    // https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D.drawImage\n    var sourceWidth = source.width;\n    var sourceHeight = source.height;\n\n    // Source canvas parameters\n    var srcX = initialX;\n    var srcY = initialY;\n    var srcWidth = void 0;\n    var srcHeight = void 0;\n\n    // Destination canvas parameters\n    var dstX = void 0;\n    var dstY = void 0;\n    var dstWidth = void 0;\n    var dstHeight = void 0;\n\n    if (srcX <= -initialWidth || srcX > sourceWidth) {\n      srcX = 0;\n      srcWidth = 0;\n      dstX = 0;\n      dstWidth = 0;\n    } else if (srcX <= 0) {\n      dstX = -srcX;\n      srcX = 0;\n      srcWidth = Math.min(sourceWidth, initialWidth + srcX);\n      dstWidth = srcWidth;\n    } else if (srcX <= sourceWidth) {\n      dstX = 0;\n      srcWidth = Math.min(initialWidth, sourceWidth - srcX);\n      dstWidth = srcWidth;\n    }\n\n    if (srcWidth <= 0 || srcY <= -initialHeight || srcY > sourceHeight) {\n      srcY = 0;\n      srcHeight = 0;\n      dstY = 0;\n      dstHeight = 0;\n    } else if (srcY <= 0) {\n      dstY = -srcY;\n      srcY = 0;\n      srcHeight = Math.min(sourceHeight, initialHeight + srcY);\n      dstHeight = srcHeight;\n    } else if (srcY <= sourceHeight) {\n      dstY = 0;\n      srcHeight = Math.min(initialHeight, sourceHeight - srcY);\n      dstHeight = srcHeight;\n    }\n\n    var params = [srcX, srcY, srcWidth, srcHeight];\n\n    // Avoid \"IndexSizeError\"\n    if (dstWidth > 0 && dstHeight > 0) {\n      var scale = width / initialWidth;\n\n      params.push(dstX * scale, dstY * scale, dstWidth * scale, dstHeight * scale);\n    }\n\n    // All the numerical parameters should be integer for `drawImage`\n    // https://github.com/fengyuanchen/cropper/issues/476\n    context.drawImage.apply(context, [source].concat(toConsumableArray(params.map(function (param) {\n      return Math.floor(normalizeDecimalNumber(param));\n    }))));\n\n    return canvas;\n  },\n\n\n  /**\n   * Change the aspect ratio of the crop box.\n   * @param {number} aspectRatio - The new aspect ratio.\n   * @returns {Cropper} this\n   */\n  setAspectRatio: function setAspectRatio(aspectRatio) {\n    var options = this.options;\n\n\n    if (!this.disabled && !isUndefined(aspectRatio)) {\n      // 0 -> NaN\n      options.aspectRatio = Math.max(0, aspectRatio) || NaN;\n\n      if (this.ready) {\n        this.initCropBox();\n\n        if (this.cropped) {\n          this.renderCropBox();\n        }\n      }\n    }\n\n    return this;\n  },\n\n\n  /**\n   * Change the drag mode.\n   * @param {string} mode - The new drag mode.\n   * @returns {Cropper} this\n   */\n  setDragMode: function setDragMode(mode) {\n    var options = this.options,\n        dragBox = this.dragBox,\n        face = this.face;\n\n\n    if (this.ready && !this.disabled) {\n      var croppable = mode === DRAG_MODE_CROP;\n      var movable = options.movable && mode === DRAG_MODE_MOVE;\n\n      mode = croppable || movable ? mode : DRAG_MODE_NONE;\n\n      options.dragMode = mode;\n      setData(dragBox, DATA_ACTION, mode);\n      toggleClass(dragBox, CLASS_CROP, croppable);\n      toggleClass(dragBox, CLASS_MOVE, movable);\n\n      if (!options.cropBoxMovable) {\n        // Sync drag mode to crop box when it is not movable\n        setData(face, DATA_ACTION, mode);\n        toggleClass(face, CLASS_CROP, croppable);\n        toggleClass(face, CLASS_MOVE, movable);\n      }\n    }\n\n    return this;\n  }\n};\n\nvar AnotherCropper = WINDOW.Cropper;\n\nvar Cropper = function () {\n  /**\n   * Create a new Cropper.\n   * @param {Element} element - The target element for cropping.\n   * @param {Object} [options={}] - The configuration options.\n   */\n  function Cropper(element) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    classCallCheck(this, Cropper);\n\n    if (!element || !REGEXP_TAG_NAME.test(element.tagName)) {\n      throw new Error('The first argument is required and must be an <img> or <canvas> element.');\n    }\n\n    this.element = element;\n    this.options = assign({}, DEFAULTS, isPlainObject(options) && options);\n    this.cropped = false;\n    this.disabled = false;\n    this.pointers = {};\n    this.ready = false;\n    this.reloading = false;\n    this.replaced = false;\n    this.sized = false;\n    this.sizing = false;\n    this.init();\n  }\n\n  createClass(Cropper, [{\n    key: 'init',\n    value: function init() {\n      var element = this.element;\n\n      var tagName = element.tagName.toLowerCase();\n      var url = void 0;\n\n      if (getData(element, NAMESPACE)) {\n        return;\n      }\n\n      setData(element, NAMESPACE, this);\n\n      if (tagName === 'img') {\n        this.isImg = true;\n\n        // e.g.: \"img/picture.jpg\"\n        url = element.getAttribute('src') || '';\n        this.originalUrl = url;\n\n        // Stop when it's a blank image\n        if (!url) {\n          return;\n        }\n\n        // e.g.: \"http://example.com/img/picture.jpg\"\n        url = element.src;\n      } else if (tagName === 'canvas' && window.HTMLCanvasElement) {\n        url = element.toDataURL();\n      }\n\n      this.load(url);\n    }\n  }, {\n    key: 'load',\n    value: function load(url) {\n      var _this = this;\n\n      if (!url) {\n        return;\n      }\n\n      this.url = url;\n      this.imageData = {};\n\n      var element = this.element,\n          options = this.options;\n\n\n      if (!options.rotatable && !options.scalable) {\n        options.checkOrientation = false;\n      }\n\n      if (!options.checkOrientation || !window.ArrayBuffer) {\n        this.clone();\n        return;\n      }\n\n      // XMLHttpRequest disallows to open a Data URL in some browsers like IE11 and Safari\n      if (REGEXP_DATA_URL.test(url)) {\n        if (REGEXP_DATA_URL_JPEG.test(url)) {\n          this.read(dataURLToArrayBuffer(url));\n        } else {\n          this.clone();\n        }\n\n        return;\n      }\n\n      var xhr = new XMLHttpRequest();\n\n      this.reloading = true;\n      this.xhr = xhr;\n\n      var done = function done() {\n        _this.reloading = false;\n        _this.xhr = null;\n      };\n\n      xhr.ontimeout = done;\n      xhr.onabort = done;\n      xhr.onerror = function () {\n        done();\n        _this.clone();\n      };\n\n      xhr.onload = function () {\n        done();\n        _this.read(xhr.response);\n      };\n\n      // Bust cache when there is a \"crossOrigin\" property\n      if (options.checkCrossOrigin && isCrossOriginURL(url) && element.crossOrigin) {\n        url = addTimestamp(url);\n      }\n\n      xhr.open('get', url);\n      xhr.responseType = 'arraybuffer';\n      xhr.withCredentials = element.crossOrigin === 'use-credentials';\n      xhr.send();\n    }\n  }, {\n    key: 'read',\n    value: function read(arrayBuffer) {\n      var options = this.options,\n          imageData = this.imageData;\n\n      var orientation = getOrientation(arrayBuffer);\n      var rotate = 0;\n      var scaleX = 1;\n      var scaleY = 1;\n\n      if (orientation > 1) {\n        this.url = arrayBufferToDataURL(arrayBuffer, 'image/jpeg');\n\n        var _parseOrientation = parseOrientation(orientation);\n\n        rotate = _parseOrientation.rotate;\n        scaleX = _parseOrientation.scaleX;\n        scaleY = _parseOrientation.scaleY;\n      }\n\n      if (options.rotatable) {\n        imageData.rotate = rotate;\n      }\n\n      if (options.scalable) {\n        imageData.scaleX = scaleX;\n        imageData.scaleY = scaleY;\n      }\n\n      this.clone();\n    }\n  }, {\n    key: 'clone',\n    value: function clone() {\n      var element = this.element,\n          url = this.url;\n\n      var crossOrigin = void 0;\n      var crossOriginUrl = void 0;\n\n      if (this.options.checkCrossOrigin && isCrossOriginURL(url)) {\n        crossOrigin = element.crossOrigin;\n\n\n        if (crossOrigin) {\n          crossOriginUrl = url;\n        } else {\n          crossOrigin = 'anonymous';\n\n          // Bust cache when there is not a \"crossOrigin\" property\n          crossOriginUrl = addTimestamp(url);\n        }\n      }\n\n      this.crossOrigin = crossOrigin;\n      this.crossOriginUrl = crossOriginUrl;\n\n      var image = document.createElement('img');\n\n      if (crossOrigin) {\n        image.crossOrigin = crossOrigin;\n      }\n\n      image.src = crossOriginUrl || url;\n      this.image = image;\n      image.onload = this.start.bind(this);\n      image.onerror = this.stop.bind(this);\n      addClass(image, CLASS_HIDE);\n      element.parentNode.insertBefore(image, element.nextSibling);\n    }\n  }, {\n    key: 'start',\n    value: function start() {\n      var _this2 = this;\n\n      var image = this.isImg ? this.element : this.image;\n\n      image.onload = null;\n      image.onerror = null;\n      this.sizing = true;\n\n      var IS_SAFARI = WINDOW.navigator && /(Macintosh|iPhone|iPod|iPad).*AppleWebKit/i.test(WINDOW.navigator.userAgent);\n      var done = function done(naturalWidth, naturalHeight) {\n        assign(_this2.imageData, {\n          naturalWidth: naturalWidth,\n          naturalHeight: naturalHeight,\n          aspectRatio: naturalWidth / naturalHeight\n        });\n        _this2.sizing = false;\n        _this2.sized = true;\n        _this2.build();\n      };\n\n      // Modern browsers (except Safari)\n      if (image.naturalWidth && !IS_SAFARI) {\n        done(image.naturalWidth, image.naturalHeight);\n        return;\n      }\n\n      var sizingImage = document.createElement('img');\n      var body = document.body || document.documentElement;\n\n      this.sizingImage = sizingImage;\n\n      sizingImage.onload = function () {\n        done(sizingImage.width, sizingImage.height);\n\n        if (!IS_SAFARI) {\n          body.removeChild(sizingImage);\n        }\n      };\n\n      sizingImage.src = image.src;\n\n      // iOS Safari will convert the image automatically\n      // with its orientation once append it into DOM (#279)\n      if (!IS_SAFARI) {\n        sizingImage.style.cssText = 'left:0;' + 'max-height:none!important;' + 'max-width:none!important;' + 'min-height:0!important;' + 'min-width:0!important;' + 'opacity:0;' + 'position:absolute;' + 'top:0;' + 'z-index:-1;';\n        body.appendChild(sizingImage);\n      }\n    }\n  }, {\n    key: 'stop',\n    value: function stop() {\n      var image = this.image;\n\n\n      image.onload = null;\n      image.onerror = null;\n      image.parentNode.removeChild(image);\n      this.image = null;\n    }\n  }, {\n    key: 'build',\n    value: function build() {\n      if (!this.sized || this.ready) {\n        return;\n      }\n\n      var element = this.element,\n          options = this.options,\n          image = this.image;\n\n      // Create cropper elements\n\n      var container = element.parentNode;\n      var template = document.createElement('div');\n\n      template.innerHTML = TEMPLATE;\n\n      var cropper = template.querySelector('.' + NAMESPACE + '-container');\n      var canvas = cropper.querySelector('.' + NAMESPACE + '-canvas');\n      var dragBox = cropper.querySelector('.' + NAMESPACE + '-drag-box');\n      var cropBox = cropper.querySelector('.' + NAMESPACE + '-crop-box');\n      var face = cropBox.querySelector('.' + NAMESPACE + '-face');\n\n      this.container = container;\n      this.cropper = cropper;\n      this.canvas = canvas;\n      this.dragBox = dragBox;\n      this.cropBox = cropBox;\n      this.viewBox = cropper.querySelector('.' + NAMESPACE + '-view-box');\n      this.face = face;\n\n      canvas.appendChild(image);\n\n      // Hide the original image\n      addClass(element, CLASS_HIDDEN);\n\n      // Inserts the cropper after to the current image\n      container.insertBefore(cropper, element.nextSibling);\n\n      // Show the image if is hidden\n      if (!this.isImg) {\n        removeClass(image, CLASS_HIDE);\n      }\n\n      this.initPreview();\n      this.bind();\n\n      options.initialAspectRatio = Math.max(0, options.initialAspectRatio) || NaN;\n      options.aspectRatio = Math.max(0, options.aspectRatio) || NaN;\n      options.viewMode = Math.max(0, Math.min(3, Math.round(options.viewMode))) || 0;\n\n      addClass(cropBox, CLASS_HIDDEN);\n\n      if (!options.guides) {\n        addClass(cropBox.getElementsByClassName(NAMESPACE + '-dashed'), CLASS_HIDDEN);\n      }\n\n      if (!options.center) {\n        addClass(cropBox.getElementsByClassName(NAMESPACE + '-center'), CLASS_HIDDEN);\n      }\n\n      if (options.background) {\n        addClass(cropper, NAMESPACE + '-bg');\n      }\n\n      if (!options.highlight) {\n        addClass(face, CLASS_INVISIBLE);\n      }\n\n      if (options.cropBoxMovable) {\n        addClass(face, CLASS_MOVE);\n        setData(face, DATA_ACTION, ACTION_ALL);\n      }\n\n      if (!options.cropBoxResizable) {\n        addClass(cropBox.getElementsByClassName(NAMESPACE + '-line'), CLASS_HIDDEN);\n        addClass(cropBox.getElementsByClassName(NAMESPACE + '-point'), CLASS_HIDDEN);\n      }\n\n      this.render();\n      this.ready = true;\n      this.setDragMode(options.dragMode);\n\n      if (options.autoCrop) {\n        this.crop();\n      }\n\n      this.setData(options.data);\n\n      if (isFunction(options.ready)) {\n        addListener(element, EVENT_READY, options.ready, {\n          once: true\n        });\n      }\n\n      dispatchEvent(element, EVENT_READY);\n    }\n  }, {\n    key: 'unbuild',\n    value: function unbuild() {\n      if (!this.ready) {\n        return;\n      }\n\n      this.ready = false;\n      this.unbind();\n      this.resetPreview();\n      this.cropper.parentNode.removeChild(this.cropper);\n      removeClass(this.element, CLASS_HIDDEN);\n    }\n  }, {\n    key: 'uncreate',\n    value: function uncreate() {\n      if (this.ready) {\n        this.unbuild();\n        this.ready = false;\n        this.cropped = false;\n      } else if (this.sizing) {\n        this.sizingImage.onload = null;\n        this.sizing = false;\n        this.sized = false;\n      } else if (this.reloading) {\n        this.xhr.abort();\n      } else if (this.image) {\n        this.stop();\n      }\n    }\n\n    /**\n     * Get the no conflict cropper class.\n     * @returns {Cropper} The cropper class.\n     */\n\n  }], [{\n    key: 'noConflict',\n    value: function noConflict() {\n      window.Cropper = AnotherCropper;\n      return Cropper;\n    }\n\n    /**\n     * Change the default options.\n     * @param {Object} options - The new default options.\n     */\n\n  }, {\n    key: 'setDefaults',\n    value: function setDefaults(options) {\n      assign(DEFAULTS, isPlainObject(options) && options);\n    }\n  }]);\n  return Cropper;\n}();\n\nassign(Cropper.prototype, render, preview, events, handlers, change, methods);\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Cropper);\n\n\n/***/ }),\n\n/***/ 2623:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(2624);\nif(typeof content === 'string') content = [[module.i, content, '']];\n// Prepare cssTransformation\nvar transform;\n\nvar options = {\"hmr\":true}\noptions.transform = transform\n// add the styles to the DOM\nvar update = __webpack_require__(1999)(content, options);\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(false) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../../node_modules/css-loader/index.js??ref--1-oneOf-3-2!../../../../node_modules/postcss-loader/lib/index.js??postcss!../../../../node_modules/sass-loader/lib/loader.js!./EditorModal.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../../../node_modules/css-loader/index.js??ref--1-oneOf-3-2!../../../../node_modules/postcss-loader/lib/index.js??postcss!../../../../node_modules/sass-loader/lib/loader.js!./EditorModal.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n/***/ }),\n\n/***/ 2624:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1998)(true);\n// imports\n\n\n// module\nexports.push([module.i, \".editor-modal-mobile__modal-buttons{margin-top:20px;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between}.editor-modal-mobile__modal-buttons .button{height:45px;line-height:45px;padding:0;text-align:center;width:100%}.editor-modal-mobile__modal-buttons .button+.button{margin-left:10px}\", \"\", {\"version\":3,\"sources\":[\"C:/projects/oliv-frontend/src/Shared/components/SingleImageUploader/EditorModal.scss\"],\"names\":[],\"mappings\":\"AAAA,oCACE,gBAAiB,AACjB,oBAAqB,AACrB,aAAc,AACd,sBAAuB,AACnB,6BAA+B,CAAE,AACrC,4CACE,YAAa,AACb,iBAAkB,AAClB,UAAW,AACX,kBAAmB,AACnB,UAAY,CAAE,AAChB,oDACE,gBAAkB,CAAE\",\"file\":\"EditorModal.scss\",\"sourcesContent\":[\".editor-modal-mobile__modal-buttons {\\n  margin-top: 20px;\\n  display: -ms-flexbox;\\n  display: flex;\\n  -ms-flex-pack: justify;\\n      justify-content: space-between; }\\n  .editor-modal-mobile__modal-buttons .button {\\n    height: 45px;\\n    line-height: 45px;\\n    padding: 0;\\n    text-align: center;\\n    width: 100%; }\\n  .editor-modal-mobile__modal-buttons .button + .button {\\n    margin-left: 10px; }\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 2625:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_get_prototype_of__ = __webpack_require__(12);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_get_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_get_prototype_of__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck__ = __webpack_require__(4);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_createClass__ = __webpack_require__(5);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_createClass___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_createClass__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_possibleConstructorReturn__ = __webpack_require__(13);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_possibleConstructorReturn___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_possibleConstructorReturn__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_inherits__ = __webpack_require__(14);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_inherits___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_inherits__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_prop_types__ = __webpack_require__(3);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_prop_types___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_prop_types__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_react_dropzone__ = __webpack_require__(2249);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_Shared_components_Button__ = __webpack_require__(91);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9_Shared_hoc_withTranslations_index__ = __webpack_require__(21);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__UploadButton_scss__ = __webpack_require__(2626);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__UploadButton_scss___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_10__UploadButton_scss__);\nvar Uploader=function(_Component){__WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_inherits___default()(Uploader,_Component);function Uploader(){__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck___default()(this,Uploader);return __WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_possibleConstructorReturn___default()(this,(Uploader.__proto__||__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_get_prototype_of___default()(Uploader)).apply(this,arguments));}__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_createClass___default()(Uploader,[{key:'render',value:function render(){var _this2=this;var _props=this.props,t=_props.t,onDrop=_props.onDrop,onDropAccepted=_props.onDropAccepted,acceptedFormats=_props.acceptedFormats,maxFileSize=_props.maxFileSize,uploadButtonText=_props.uploadButtonText,customButton=_props.customButton,customButtonChildren=_props.customButtonChildren;var CustomButton=customButton;return __WEBPACK_IMPORTED_MODULE_5_react___default.a.createElement('div',{className:'single-file-uploader__button'},__WEBPACK_IMPORTED_MODULE_5_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_7_react_dropzone__[\"a\" /* default */],{maxSize:maxFileSize,accept:acceptedFormats,onDropAccepted:onDropAccepted,className:'single-file-uploader__button',activeClassName:'single-file-uploader__button--active',disableClick:true,ref:function ref(node){_this2.dropzoneRef=node;},onDrop:onDrop},customButton?__WEBPACK_IMPORTED_MODULE_5_react___default.a.createElement(CustomButton,{onClick:function onClick(){return _this2.dropzoneRef.open();}},customButtonChildren):__WEBPACK_IMPORTED_MODULE_5_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_8_Shared_components_Button__[\"e\" /* PrimaryButtonOutline */],{onClick:function onClick(){return _this2.dropzoneRef.open();}},t(uploadButtonText))));}}]);return Uploader;}(__WEBPACK_IMPORTED_MODULE_5_react__[\"Component\"]);Uploader.propTypes={children:__WEBPACK_IMPORTED_MODULE_6_prop_types___default.a.node,onDrop:__WEBPACK_IMPORTED_MODULE_6_prop_types___default.a.func,onDropAccepted:__WEBPACK_IMPORTED_MODULE_6_prop_types___default.a.func,acceptedFormats:__WEBPACK_IMPORTED_MODULE_6_prop_types___default.a.string,maxFileSize:__WEBPACK_IMPORTED_MODULE_6_prop_types___default.a.number};/* harmony default export */ __webpack_exports__[\"a\"] = (Object(__WEBPACK_IMPORTED_MODULE_9_Shared_hoc_withTranslations_index__[\"a\" /* default */])(Uploader));\n\n/***/ }),\n\n/***/ 2626:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(2627);\nif(typeof content === 'string') content = [[module.i, content, '']];\n// Prepare cssTransformation\nvar transform;\n\nvar options = {\"hmr\":true}\noptions.transform = transform\n// add the styles to the DOM\nvar update = __webpack_require__(1999)(content, options);\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(false) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../../node_modules/css-loader/index.js??ref--1-oneOf-3-2!../../../../node_modules/postcss-loader/lib/index.js??postcss!../../../../node_modules/sass-loader/lib/loader.js!./UploadButton.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../../../node_modules/css-loader/index.js??ref--1-oneOf-3-2!../../../../node_modules/postcss-loader/lib/index.js??postcss!../../../../node_modules/sass-loader/lib/loader.js!./UploadButton.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n/***/ }),\n\n/***/ 2627:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1998)(true);\n// imports\n\n\n// module\nexports.push([module.i, \".single-file-uploader__button{display:inline-block}.file-input__button--upload{cursor:pointer;color:#4353ff;font-weight:700}\", \"\", {\"version\":3,\"sources\":[\"C:/projects/oliv-frontend/src/Shared/components/SingleImageUploader/UploadButton.scss\"],\"names\":[],\"mappings\":\"AAAA,8BACE,oBAAsB,CAAE,AAE1B,4BACE,eAAgB,AAChB,cAAe,AACf,eAAiB,CAAE\",\"file\":\"UploadButton.scss\",\"sourcesContent\":[\".single-file-uploader__button {\\n  display: inline-block; }\\n\\n.file-input__button--upload {\\n  cursor: pointer;\\n  color: #4353ff;\\n  font-weight: 700; }\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 3259:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign__ = __webpack_require__(7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_prototype_of__ = __webpack_require__(12);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_prototype_of__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_classCallCheck__ = __webpack_require__(4);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_classCallCheck___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_classCallCheck__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_createClass__ = __webpack_require__(5);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_createClass___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_createClass__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_possibleConstructorReturn__ = __webpack_require__(13);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_possibleConstructorReturn___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_possibleConstructorReturn__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_inherits__ = __webpack_require__(14);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_inherits___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_inherits__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_prop_types__ = __webpack_require__(3);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_prop_types___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_7_prop_types__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_react_dropzone__ = __webpack_require__(2249);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9_react_i18next__ = __webpack_require__(111);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10_Shared_hoc_withTranslations_index__ = __webpack_require__(21);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__Uploader_scss__ = __webpack_require__(3260);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__Uploader_scss___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_11__Uploader_scss__);\nvar Uploader=function(_Component){__WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_inherits___default()(Uploader,_Component);function Uploader(){var _ref;var _temp,_this,_ret;__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_classCallCheck___default()(this,Uploader);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}return _ret=(_temp=(_this=__WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_possibleConstructorReturn___default()(this,(_ref=Uploader.__proto__||__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_prototype_of___default()(Uploader)).call.apply(_ref,[this].concat(args))),_this),_this.uploadButton=__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('span',{className:'file-input__button--upload',onClick:function onClick(){return _this.dropzoneRef.open();}},_this.props.t('common.choose')),_temp),__WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_possibleConstructorReturn___default()(_this,_ret);}__WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_createClass___default()(Uploader,[{key:'render',value:function render(){var _this2=this;var _props=this.props,children=_props.children,onDrop=_props.onDrop,onDropAccepted=_props.onDropAccepted,acceptedFormats=_props.acceptedFormats,maxFileSize=_props.maxFileSize,i18nContentKey=_props.i18nContentKey,multiple=_props.multiple;return __WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('div',{className:'single-file-uploader'},__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_8_react_dropzone__[\"a\" /* default */],__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default()({},this.props.input,{maxSize:maxFileSize,multiple:multiple,accept:acceptedFormats,onDropAccepted:onDropAccepted,className:'file-input__dropzone',activeClassName:'file-input__dropzone--active',disableClick:true,ref:function ref(node){_this2.dropzoneRef=node;},onDrop:onDrop}),__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('div',{className:'file-input__container'},__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('div',{className:'file-input__drop-area'},__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('i',{className:'icon-im-upload'}),__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_9_react_i18next__[\"b\" /* Interpolate */],{parent:'div',i18nKey:i18nContentKey,className:'file-input__description',uploadButton:this.uploadButton})))),children);}}]);return Uploader;}(__WEBPACK_IMPORTED_MODULE_6_react__[\"Component\"]);Uploader.propTypes={children:__WEBPACK_IMPORTED_MODULE_7_prop_types___default.a.node,onDrop:__WEBPACK_IMPORTED_MODULE_7_prop_types___default.a.func,onDropAccepted:__WEBPACK_IMPORTED_MODULE_7_prop_types___default.a.func,acceptedFormats:__WEBPACK_IMPORTED_MODULE_7_prop_types___default.a.string,maxFileSize:__WEBPACK_IMPORTED_MODULE_7_prop_types___default.a.number,i18nContentKey:__WEBPACK_IMPORTED_MODULE_7_prop_types___default.a.string,uploadButtonText:__WEBPACK_IMPORTED_MODULE_7_prop_types___default.a.string};Uploader.defaultProps={multiple:true};/* harmony default export */ __webpack_exports__[\"a\"] = (Object(__WEBPACK_IMPORTED_MODULE_10_Shared_hoc_withTranslations_index__[\"a\" /* default */])(Uploader));\n\n/***/ }),\n\n/***/ 3260:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(3261);\nif(typeof content === 'string') content = [[module.i, content, '']];\n// Prepare cssTransformation\nvar transform;\n\nvar options = {\"hmr\":true}\noptions.transform = transform\n// add the styles to the DOM\nvar update = __webpack_require__(1999)(content, options);\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(false) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../../node_modules/css-loader/index.js??ref--1-oneOf-3-2!../../../../node_modules/postcss-loader/lib/index.js??postcss!../../../../node_modules/sass-loader/lib/loader.js!./Uploader.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../../../node_modules/css-loader/index.js??ref--1-oneOf-3-2!../../../../node_modules/postcss-loader/lib/index.js??postcss!../../../../node_modules/sass-loader/lib/loader.js!./Uploader.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n/***/ }),\n\n/***/ 3261:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1998)(true);\n// imports\n\n\n// module\nexports.push([module.i, \".file-input__container{display:-ms-flexbox;display:flex;position:relative;border:2px dashed #d7dde0;border-radius:4px;width:100%;padding:40px 24px 60px;-webkit-transition:all .3s ease;-o-transition:.3s all ease;transition:all .3s ease;-ms-flex:1 0 auto;flex:1 0 auto;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;text-align:center}.file-input__dropzone--active i{color:#4353ff}.file-input__dropzone--active .file-input__container{border-color:#4353ff;background-color:rgba(67,83,255,.05)}.file-input__drop-area{color:#c2c6c9;font-size:14px}.file-input__drop-area>i{font-size:48px;-webkit-transition:all .3s ease;-o-transition:.3s all ease;transition:all .3s ease;margin-bottom:16px;display:block}.file-input__description{max-width:280px}.single-file-uploader__wrapper--error .file-input__container{border:2px dashed #f5456e}.single-file-uploader__wrapper--error .single-file-uploader__label{color:#f5456e}\", \"\", {\"version\":3,\"sources\":[\"C:/projects/oliv-frontend/src/Shared/components/SingleImageUploader/Uploader.scss\"],\"names\":[],\"mappings\":\"AAAA,uBACE,oBAAqB,AACrB,aAAc,AACd,kBAAmB,AACnB,0BAA2B,AAC3B,kBAAmB,AACnB,WAAY,AACZ,uBAAwB,AACxB,gCAAiC,AACjC,2BAA4B,AAC5B,wBAAyB,AACzB,kBAAmB,AACf,cAAe,AACnB,sBAAuB,AACnB,mBAAoB,AACxB,qBAAsB,AAClB,uBAAwB,AAC5B,iBAAmB,CAAE,AAEvB,gCACE,aAAe,CAAE,AAEnB,qDACE,qBAAsB,AACtB,oCAA0C,CAAE,AAE9C,uBACE,cAAe,AACf,cAAgB,CAAE,AAClB,yBACE,eAAgB,AAChB,gCAAiC,AACjC,2BAA4B,AAC5B,wBAAyB,AACzB,mBAAoB,AACpB,aAAe,CAAE,AAErB,yBACE,eAAiB,CAAE,AAErB,6DACE,yBAA2B,CAAE,AAE/B,mEACE,aAAe,CAAE\",\"file\":\"Uploader.scss\",\"sourcesContent\":[\".file-input__container {\\n  display: -ms-flexbox;\\n  display: flex;\\n  position: relative;\\n  border: 2px dashed #d7dde0;\\n  border-radius: 4px;\\n  width: 100%;\\n  padding: 40px 24px 60px;\\n  -webkit-transition: .3s all ease;\\n  -o-transition: .3s all ease;\\n  transition: .3s all ease;\\n  -ms-flex: 1 0 auto;\\n      flex: 1 0 auto;\\n  -ms-flex-align: center;\\n      align-items: center;\\n  -ms-flex-pack: center;\\n      justify-content: center;\\n  text-align: center; }\\n\\n.file-input__dropzone--active i {\\n  color: #4353ff; }\\n\\n.file-input__dropzone--active .file-input__container {\\n  border-color: #4353ff;\\n  background-color: rgba(67, 83, 255, 0.05); }\\n\\n.file-input__drop-area {\\n  color: #c2c6c9;\\n  font-size: 14px; }\\n  .file-input__drop-area > i {\\n    font-size: 48px;\\n    -webkit-transition: .3s all ease;\\n    -o-transition: .3s all ease;\\n    transition: .3s all ease;\\n    margin-bottom: 16px;\\n    display: block; }\\n\\n.file-input__description {\\n  max-width: 280px; }\\n\\n.single-file-uploader__wrapper--error .file-input__container {\\n  border: 2px dashed #f5456e; }\\n\\n.single-file-uploader__wrapper--error .single-file-uploader__label {\\n  color: #f5456e; }\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 3262:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_slicedToArray__ = __webpack_require__(119);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_slicedToArray___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_slicedToArray__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_prototype_of__ = __webpack_require__(12);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_prototype_of__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_classCallCheck__ = __webpack_require__(4);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_classCallCheck___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_classCallCheck__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_createClass__ = __webpack_require__(5);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_createClass___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_createClass__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_possibleConstructorReturn__ = __webpack_require__(13);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_possibleConstructorReturn___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_possibleConstructorReturn__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_inherits__ = __webpack_require__(14);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_inherits___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_inherits__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_classnames__ = __webpack_require__(11);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_classnames___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_7_classnames__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_prop_types__ = __webpack_require__(3);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_prop_types___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_8_prop_types__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9_Shared_hoc_withTranslations__ = __webpack_require__(21);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10_Shared_components_FormElements_Label__ = __webpack_require__(40);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11_Shared_components_Button__ = __webpack_require__(91);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12_Shared_constants_S3__ = __webpack_require__(786);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__UploadButton__ = __webpack_require__(2625);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14_Shared_components_DeleteModal__ = __webpack_require__(2085);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_15_Shared_constants_Files__ = __webpack_require__(453);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_16__UploadedSingleFileWrapper_scss__ = __webpack_require__(3263);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_16__UploadedSingleFileWrapper_scss___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_16__UploadedSingleFileWrapper_scss__);\nvar UploadedSingleFileWrapper=function(_Component){__WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_inherits___default()(UploadedSingleFileWrapper,_Component);function UploadedSingleFileWrapper(props){__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_classCallCheck___default()(this,UploadedSingleFileWrapper);var _this=__WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_possibleConstructorReturn___default()(this,(UploadedSingleFileWrapper.__proto__||__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_prototype_of___default()(UploadedSingleFileWrapper)).call(this,props));_this._openDeleteModal=function(){return _this.setState({showDeleteModal:true});};_this._hideDeleteModal=function(){return _this.setState({showDeleteModal:false});};_this.renderUploadedFileByLayout=function(){var _this$props=_this.props,t=_this$props.t,img=_this$props.img,filename=_this$props.filename,onDropAccepted=_this$props.onDropAccepted,onDrop=_this$props.onDrop,uploadButtonText=_this$props.uploadButtonText,layout=_this$props.layout;var _this$props$sizeConst=__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_slicedToArray___default()(_this.props.sizeConstraints,2),width=_this$props$sizeConst[0],height=_this$props$sizeConst[1];var singleFileUploaderClass=__WEBPACK_IMPORTED_MODULE_7_classnames___default()({'single-file-uploader__file-container':true,'single-file-uploader__file-container--horizontal':layout==='horizontal','single-file-uploader__file-container--vertical':layout==='vertical'});var verticalImageStyles={backgroundImage:'url('+img+')',paddingBottom:height/width*100+'%'};switch(true){case _this.props.layout==='horizontal':return __WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('div',{className:singleFileUploaderClass},__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('img',{className:'single-file-uploader__file',src:img,alt:'Uploaded image - Oliv'}),__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('div',{className:'single-file-uploader__file-filename'},__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_10_Shared_components_FormElements_Label__[\"a\" /* default */],null,t('common.uploadedFile')),__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('p',{className:'single-file-uploader__file-name'},filename)),__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('div',{className:'single-file-uploader__file-buttons'},__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_11_Shared_components_Button__[\"l\" /* default */],{onClick:_this._openDeleteModal,justIcon:true},__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('i',{className:'ion-md-trash'})),__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_13__UploadButton__[\"a\" /* default */],{uploadButtonText:uploadButtonText,onDrop:onDrop,onDropAccepted:onDropAccepted,acceptedFormats:Object(__WEBPACK_IMPORTED_MODULE_12_Shared_constants_S3__[\"h\" /* getAcceptedAvatarFormats */])(),maxFileSize:__WEBPACK_IMPORTED_MODULE_12_Shared_constants_S3__[\"g\" /* MAX_UPLOAD_FILE_SIZE */]})));case _this.props.layout==='profile':return __WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('div',{className:'single-file-uploader__file-container--profile'},__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('img',{className:'single-file-uploader__file--profile',src:img,alt:'Uploaded image - Oliv',style:{width:'110px',height:'110px',borderRadius:'50%'}}),__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('div',{className:'single-file-uploader__file-buttons--profile'},__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_13__UploadButton__[\"a\" /* default */],{customButton:__WEBPACK_IMPORTED_MODULE_11_Shared_components_Button__[\"a\" /* BigJustIconButton */],customButtonChildren:__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('i',{className:'icon-im-edit'}),onDrop:onDrop,onDropAccepted:onDropAccepted,acceptedFormats:Object(__WEBPACK_IMPORTED_MODULE_12_Shared_constants_S3__[\"h\" /* getAcceptedAvatarFormats */])(),maxFileSize:__WEBPACK_IMPORTED_MODULE_12_Shared_constants_S3__[\"g\" /* MAX_UPLOAD_FILE_SIZE */]}),__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_11_Shared_components_Button__[\"a\" /* BigJustIconButton */],{onClick:_this._openDeleteModal},__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('i',{className:'ion-md-trash'}))));default:return __WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('div',{className:singleFileUploaderClass},__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('div',{className:'single-file-uploader__file',alt:'Uploaded image - Oliv',style:verticalImageStyles}),__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('div',{className:'single-file-uploader__file-filename'},__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_10_Shared_components_FormElements_Label__[\"a\" /* default */],null,t('common.uploadedFile')),__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('p',{className:'single-file-uploader__file-name'},filename)),__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('div',{className:'single-file-uploader__file-buttons'},__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_11_Shared_components_Button__[\"l\" /* default */],{onClick:_this._openDeleteModal,justIcon:true},__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('i',{className:'ion-md-trash'})),__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_13__UploadButton__[\"a\" /* default */],{uploadButtonText:uploadButtonText,onDrop:onDrop,onDropAccepted:onDropAccepted,acceptedFormats:Object(__WEBPACK_IMPORTED_MODULE_12_Shared_constants_S3__[\"h\" /* getAcceptedAvatarFormats */])(),maxFileSize:__WEBPACK_IMPORTED_MODULE_12_Shared_constants_S3__[\"g\" /* MAX_UPLOAD_FILE_SIZE */]})));}};_this.state={showDeleteModal:false};return _this;}__WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_createClass___default()(UploadedSingleFileWrapper,[{key:'render',value:function render(){var _props=this.props,onDelete=_props.onDelete,deleteModalTitle=_props.deleteModalTitle,deleteModalContent=_props.deleteModalContent;return __WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('div',null,this.renderUploadedFileByLayout(),__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_14_Shared_components_DeleteModal__[\"b\" /* default */],{title:deleteModalTitle,content:deleteModalContent,handleDelete:onDelete,isModalVisible:this.state.showDeleteModal,hideDeleteModal:this._hideDeleteModal}));}}]);return UploadedSingleFileWrapper;}(__WEBPACK_IMPORTED_MODULE_6_react__[\"Component\"]);UploadedSingleFileWrapper.propTypes={layout:__WEBPACK_IMPORTED_MODULE_8_prop_types___default.a.string,img:__WEBPACK_IMPORTED_MODULE_8_prop_types___default.a.string.isRequired,filename:__WEBPACK_IMPORTED_MODULE_8_prop_types___default.a.string.isRequired,onDelete:__WEBPACK_IMPORTED_MODULE_8_prop_types___default.a.func.isRequired,onDropAccepted:__WEBPACK_IMPORTED_MODULE_8_prop_types___default.a.func.isRequired,onDrop:__WEBPACK_IMPORTED_MODULE_8_prop_types___default.a.func.isRequired,deleteModalTitle:__WEBPACK_IMPORTED_MODULE_8_prop_types___default.a.string.isRequired,deleteModalContent:__WEBPACK_IMPORTED_MODULE_8_prop_types___default.a.string.isRequired};UploadedSingleFileWrapper.defaultProps={sizeConstraints:__WEBPACK_IMPORTED_MODULE_15_Shared_constants_Files__[\"b\" /* CROP_SIZES */].AVATAR};/* harmony default export */ __webpack_exports__[\"a\"] = (Object(__WEBPACK_IMPORTED_MODULE_9_Shared_hoc_withTranslations__[\"a\" /* default */])(UploadedSingleFileWrapper));\n\n/***/ }),\n\n/***/ 3263:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(3264);\nif(typeof content === 'string') content = [[module.i, content, '']];\n// Prepare cssTransformation\nvar transform;\n\nvar options = {\"hmr\":true}\noptions.transform = transform\n// add the styles to the DOM\nvar update = __webpack_require__(1999)(content, options);\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(false) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../../node_modules/css-loader/index.js??ref--1-oneOf-3-2!../../../../node_modules/postcss-loader/lib/index.js??postcss!../../../../node_modules/sass-loader/lib/loader.js!./UploadedSingleFileWrapper.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../../../node_modules/css-loader/index.js??ref--1-oneOf-3-2!../../../../node_modules/postcss-loader/lib/index.js??postcss!../../../../node_modules/sass-loader/lib/loader.js!./UploadedSingleFileWrapper.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n/***/ }),\n\n/***/ 3264:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1998)(true);\n// imports\n\n\n// module\nexports.push([module.i, \".single-file-uploader__file-container{position:relative;height:64px}.single-file-uploader__file-container--horizontal .single-file-uploader__file,.single-file-uploader__file-container--horizontal .single-file-uploader__file-buttons,.single-file-uploader__file-container--horizontal .single-file-uploader__file-filename{position:absolute;display:inline-block}.single-file-uploader__file-container--horizontal .single-file-uploader__file{height:64px;width:64px;border-radius:50%}.single-file-uploader__file-container--horizontal .single-file-uploader__file-buttons,.single-file-uploader__file-container--horizontal .single-file-uploader__file-filename{top:50%;-webkit-transform:translateY(-50%);-ms-transform:translateY(-50%);transform:translateY(-50%)}.single-file-uploader__file-container--horizontal .single-file-uploader__file-filename{padding-left:88px}.main--arabic .single-file-uploader__file-container--horizontal .single-file-uploader__file-filename{padding-right:88px;padding-left:0}.single-file-uploader__file-container--horizontal .single-file-uploader__file-filename p{overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis;white-space:nowrap;max-width:250px}.single-file-uploader__file-buttons{right:0}.main--arabic .single-file-uploader__file-buttons{right:auto;left:0}.single-file-uploader__file-buttons .button{margin-right:12px}.main--arabic .single-file-uploader__file-buttons .button{margin-right:0;margin-left:12px}.single-file-uploader__file-container--vertical{height:auto}.single-file-uploader__file-container--vertical .single-file-uploader__file-filename{margin-top:20px}.single-file-uploader__file-container--vertical .single-file-uploader__file{height:0;border-radius:4px;background-position:50%;background-size:cover}.form__group--has-error+div>.single-file-uploader .file-input__container--horizontal{border-color:#e85600}.single-file-uploader__file-container--profile{display:-ms-inline-flexbox;display:inline-flex;-ms-flex-pack:center;justify-content:center;-ms-flex-direction:column;flex-direction:column;-ms-flex-align:center;align-items:center;width:220px;height:220px;border-radius:4px;background-color:#f7f8fa;border:1px solid #dce1e4}.single-file-uploader__file--profile{width:110px;height:110px;border-radius:50%}.single-file-uploader__file-buttons--profile{display:-ms-inline-flexbox;display:inline-flex;width:110px;-ms-flex-pack:distribute;justify-content:space-around;margin-top:21px}\", \"\", {\"version\":3,\"sources\":[\"C:/projects/oliv-frontend/src/Shared/components/SingleImageUploader/UploadedSingleFileWrapper.scss\"],\"names\":[],\"mappings\":\"AAAA,sCACE,kBAAmB,AACnB,WAAa,CAAE,AAEjB,2PAGE,kBAAmB,AACnB,oBAAsB,CAAE,AAE1B,8EACE,YAAa,AACb,WAAY,AACZ,iBAAmB,CAAE,AAEvB,6KAEE,QAAS,AACT,mCAAoC,AAChC,+BAAgC,AAC5B,0BAA4B,CAAE,AAExC,uFACE,iBAAmB,CAAE,AACrB,qGACE,mBAAoB,AACpB,cAAgB,CAAE,AACpB,yFACE,gBAAiB,AACjB,0BAA2B,AACxB,uBAAwB,AAC3B,mBAAoB,AACpB,eAAiB,CAAE,AAEvB,oCACE,OAAS,CAAE,AACX,kDACE,WAAY,AACZ,MAAQ,CAAE,AACZ,4CACE,iBAAmB,CAAE,AACrB,0DACE,eAAgB,AAChB,gBAAkB,CAAE,AAE1B,gDACE,WAAa,CAAE,AACf,qFACE,eAAiB,CAAE,AACrB,4EACE,SAAU,AACV,kBAAmB,AACnB,wBAAyB,AACzB,qBAAuB,CAAE,AAE7B,qFACE,oBAAsB,CAAE,AAE1B,+CACE,2BAA4B,AAC5B,oBAAqB,AACrB,qBAAsB,AAClB,uBAAwB,AAC5B,0BAA2B,AACvB,sBAAuB,AAC3B,sBAAuB,AACnB,mBAAoB,AACxB,YAAa,AACb,aAAc,AACd,kBAAmB,AACnB,yBAA0B,AAC1B,wBAA0B,CAAE,AAE9B,qCACE,YAAa,AACb,aAAc,AACd,iBAAmB,CAAE,AAEvB,6CACE,2BAA4B,AAC5B,oBAAqB,AACrB,YAAa,AACb,yBAA0B,AACtB,6BAA8B,AAClC,eAAiB,CAAE\",\"file\":\"UploadedSingleFileWrapper.scss\",\"sourcesContent\":[\".single-file-uploader__file-container {\\n  position: relative;\\n  height: 64px; }\\n\\n.single-file-uploader__file-container--horizontal .single-file-uploader__file,\\n.single-file-uploader__file-container--horizontal .single-file-uploader__file-filename,\\n.single-file-uploader__file-container--horizontal .single-file-uploader__file-buttons {\\n  position: absolute;\\n  display: inline-block; }\\n\\n.single-file-uploader__file-container--horizontal .single-file-uploader__file {\\n  height: 64px;\\n  width: 64px;\\n  border-radius: 50%; }\\n\\n.single-file-uploader__file-container--horizontal .single-file-uploader__file-filename,\\n.single-file-uploader__file-container--horizontal .single-file-uploader__file-buttons {\\n  top: 50%;\\n  -webkit-transform: translateY(-50%);\\n      -ms-transform: translateY(-50%);\\n          transform: translateY(-50%); }\\n\\n.single-file-uploader__file-container--horizontal .single-file-uploader__file-filename {\\n  padding-left: 88px; }\\n  .main--arabic .single-file-uploader__file-container--horizontal .single-file-uploader__file-filename {\\n    padding-right: 88px;\\n    padding-left: 0; }\\n  .single-file-uploader__file-container--horizontal .single-file-uploader__file-filename p {\\n    overflow: hidden;\\n    -o-text-overflow: ellipsis;\\n       text-overflow: ellipsis;\\n    white-space: nowrap;\\n    max-width: 250px; }\\n\\n.single-file-uploader__file-buttons {\\n  right: 0; }\\n  .main--arabic .single-file-uploader__file-buttons {\\n    right: auto;\\n    left: 0; }\\n  .single-file-uploader__file-buttons .button {\\n    margin-right: 12px; }\\n    .main--arabic .single-file-uploader__file-buttons .button {\\n      margin-right: 0;\\n      margin-left: 12px; }\\n\\n.single-file-uploader__file-container--vertical {\\n  height: auto; }\\n  .single-file-uploader__file-container--vertical .single-file-uploader__file-filename {\\n    margin-top: 20px; }\\n  .single-file-uploader__file-container--vertical .single-file-uploader__file {\\n    height: 0;\\n    border-radius: 4px;\\n    background-position: 50%;\\n    background-size: cover; }\\n\\n.form__group--has-error + div > .single-file-uploader .file-input__container--horizontal {\\n  border-color: #e85600; }\\n\\n.single-file-uploader__file-container--profile {\\n  display: -ms-inline-flexbox;\\n  display: inline-flex;\\n  -ms-flex-pack: center;\\n      justify-content: center;\\n  -ms-flex-direction: column;\\n      flex-direction: column;\\n  -ms-flex-align: center;\\n      align-items: center;\\n  width: 220px;\\n  height: 220px;\\n  border-radius: 4px;\\n  background-color: #f7f8fa;\\n  border: 1px solid #dce1e4; }\\n\\n.single-file-uploader__file--profile {\\n  width: 110px;\\n  height: 110px;\\n  border-radius: 50%; }\\n\\n.single-file-uploader__file-buttons--profile {\\n  display: -ms-inline-flexbox;\\n  display: inline-flex;\\n  width: 110px;\\n  -ms-flex-pack: distribute;\\n      justify-content: space-around;\\n  margin-top: 21px; }\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 3265:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(3266);\nif(typeof content === 'string') content = [[module.i, content, '']];\n// Prepare cssTransformation\nvar transform;\n\nvar options = {\"hmr\":true}\noptions.transform = transform\n// add the styles to the DOM\nvar update = __webpack_require__(1999)(content, options);\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(false) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../../node_modules/css-loader/index.js??ref--1-oneOf-3-2!../../../../node_modules/postcss-loader/lib/index.js??postcss!../../../../node_modules/sass-loader/lib/loader.js!./SingleImageUploader.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../../../node_modules/css-loader/index.js??ref--1-oneOf-3-2!../../../../node_modules/postcss-loader/lib/index.js??postcss!../../../../node_modules/sass-loader/lib/loader.js!./SingleImageUploader.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n/***/ }),\n\n/***/ 3266:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1998)(true);\n// imports\n\n\n// module\nexports.push([module.i, \"@media screen and (max-width:768px){.single-file-uploader__wrapper .single-file-uploader__file,.single-file-uploader__wrapper .single-file-uploader__file-buttons,.single-file-uploader__wrapper .single-file-uploader__file-filename{position:static}.single-file-uploader__wrapper .single-file-uploader__filename{margin-top:-20px}.single-file-uploader__wrapper .single-file-uploader__file-container{height:auto;position:relative;display:-ms-flexbox;display:flex;-ms-flex-flow:column nowrap;flex-flow:column nowrap}}.single-file-uploader__wrapper--error .file-input__container{border:2px dashed #f5456e}.single-file-uploader__wrapper--error .single-file-uploader__label{color:#f5456e}.form__group--has-error+div>.single-file-uploader .file-input__container--horizontal{border-color:#e85600}\", \"\", {\"version\":3,\"sources\":[\"C:/projects/oliv-frontend/src/Shared/components/SingleImageUploader/SingleImageUploader.scss\"],\"names\":[],\"mappings\":\"AAAA,oCACE,kMAGE,eAAkB,CAAE,AACtB,+DACE,gBAAkB,CAAE,AACtB,qEACE,YAAa,AACb,kBAAmB,AACnB,oBAAqB,AACrB,aAAc,AACd,4BAA6B,AACzB,uBAAyB,CAAE,CAAE,AAErC,6DACE,yBAA2B,CAAE,AAE/B,mEACE,aAAe,CAAE,AAEnB,qFACE,oBAAsB,CAAE\",\"file\":\"SingleImageUploader.scss\",\"sourcesContent\":[\"@media screen and (max-width: 768px) {\\n  .single-file-uploader__wrapper .single-file-uploader__file,\\n  .single-file-uploader__wrapper .single-file-uploader__file-filename,\\n  .single-file-uploader__wrapper .single-file-uploader__file-buttons {\\n    position: initial; }\\n  .single-file-uploader__wrapper .single-file-uploader__filename {\\n    margin-top: -20px; }\\n  .single-file-uploader__wrapper .single-file-uploader__file-container {\\n    height: auto;\\n    position: relative;\\n    display: -ms-flexbox;\\n    display: flex;\\n    -ms-flex-flow: column nowrap;\\n        flex-flow: column nowrap; } }\\n\\n.single-file-uploader__wrapper--error .file-input__container {\\n  border: 2px dashed #f5456e; }\\n\\n.single-file-uploader__wrapper--error .single-file-uploader__label {\\n  color: #f5456e; }\\n\\n.form__group--has-error + div > .single-file-uploader .file-input__container--horizontal {\\n  border-color: #e85600; }\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/SingleImageUploader.4ba8fd1d.chunk.js","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport NotificationService from 'Shared/services/NotificationService'\r\n\r\nimport { ASPECT_RATIOS, CROP_SIZES } from 'Shared/constants/Files'\r\nimport { getAcceptedAvatarFormats, MAX_UPLOAD_FILE_SIZE, ACCEPTED_AVATAR_FORMATS } from 'Shared/constants/S3'\r\nimport { dataURItoBlob, avatarFileName } from 'Shared/helpers/files'\r\nimport { parseFileName } from 'Shared/helpers/string'\r\nimport withTranslations from 'Shared/hoc/withTranslations'\r\nimport cx from 'classnames'\r\n\r\nimport Uploader from './Uploader'\r\nimport EditorModal from './EditorModal'\r\nimport UploadedSingleFileWrapper from './UploadedSingleFileWrapper'\r\nimport Label from 'Shared/components/FormElements/Label'\r\nimport './SingleImageUploader.scss'\r\n\r\nclass AvatarUploader extends Component {\r\n  static propTypes = {\r\n    uploadFile: PropTypes.func.isRequired,\r\n    deleteFile: PropTypes.func.isRequired,\r\n    textConfig: PropTypes.shape({\r\n      uploadButtonText: PropTypes.string,\r\n      editorModalHeading: PropTypes.string,\r\n      uploaderContent: PropTypes.string,\r\n      deleteModalTitle: PropTypes.string,\r\n      deleteModalContent: PropTypes.string\r\n    }).isRequired,\r\n    cropAspectRatio: PropTypes.number,\r\n    layout: PropTypes.oneOf(['horizontal', 'vertical', 'profile']),\r\n    sizeConstraints: PropTypes.arrayOf(PropTypes.number),\r\n    requirement: PropTypes.bool,\r\n    handleException: PropTypes.func\r\n  }\r\n\r\n  static defaultProps = {\r\n    handleException: () => {},\r\n    requirement: true,\r\n    sizeConstraints: CROP_SIZES.AVATAR,\r\n    cropAspectRatio: ASPECT_RATIOS.SQUARE,\r\n    layout: 'horizontal',\r\n    textConfig: {\r\n      uploadButtonText: 'common.changeFile',\r\n      uploaderContent: 'common.uploadFileInfo',\r\n      editorModalTitle: 'common.cropImage',\r\n      deleteModalTitle: 'remove.fileGeneric.title',\r\n      deleteModalContent: 'remove.fileGeneric.description'\r\n    }\r\n  }\r\n\r\n  constructor (props) {\r\n    super(props)\r\n    this.state = {\r\n      file: null,\r\n      showEditor: false,\r\n      originalImage: null,\r\n      changedImage: null\r\n    }\r\n  }\r\n\r\n  _showEditorModal = () => this.setState({ showEditor: true })\r\n  _hideEditorModal = () => this.setState({ showEditor: false })\r\n\r\n  handleEditorModalClose = () => {\r\n    this._hideEditorModal()\r\n    this.resetCroppedImage()\r\n  }\r\n\r\n  onDrop = (acceptedFiles, rejectedFiles) => {\r\n    if (!this.props.requirement) {\r\n      return this.props.handleException()\r\n    }\r\n\r\n    const { multiple } = this.props\r\n\r\n    if (!multiple && !acceptedFiles.length && rejectedFiles.some(file => file.size > MAX_UPLOAD_FILE_SIZE)) {\r\n      return NotificationService.error(this.props.t('errors.imageTooLarge', { limit: MAX_UPLOAD_FILE_SIZE / Math.pow(1024, 2) }))\r\n    }\r\n\r\n    if (!multiple && !acceptedFiles.length && rejectedFiles.some(file => !ACCEPTED_AVATAR_FORMATS.includes(file.type))) {\r\n      return NotificationService.error(this.props.t('errors.fileUnsupported'))\r\n    }\r\n  }\r\n\r\n  onDropAccepted = acceptedFiles => {\r\n    if (!this.props.requirement) {\r\n      return this.props.handleException()\r\n    }\r\n\r\n    const reader = new window.FileReader()\r\n\r\n    reader.onload = () => {\r\n      this.setState({ originalImage: reader.result, file: acceptedFiles[0] })\r\n    }\r\n    reader.readAsDataURL(acceptedFiles[0])\r\n\r\n    return this._showEditorModal()\r\n  }\r\n\r\n  resetCroppedImage = () => this.setState({ originalImage: null })\r\n\r\n  uploadImage = async croppedImage => {\r\n    await this.props.uploadFile(dataURItoBlob(croppedImage), parseFileName(this.state.file.name))\r\n    this.setState({ changedImage: croppedImage })\r\n  }\r\n\r\n  render () {\r\n    const { t, imageUrl, deleteFile, textConfig, multiple, hasError, error, label } = this.props\r\n    const { originalImage, showEditor, changedImage } = this.state\r\n    const uploaderClass = cx({\r\n      'single-file-uploader__wrapper': true,\r\n      'single-file-uploader__wrapper--error': hasError\r\n    })\r\n\r\n    const inputLabel = label || ''\r\n\r\n    return (\r\n      <div className={uploaderClass}>\r\n        {(hasError || inputLabel) && <Label className='single-file-uploader__label'>{hasError ? t(error.key, error.options) : inputLabel }</Label>}\r\n        {imageUrl\r\n          ? <UploadedSingleFileWrapper\r\n            layout={this.props.layout}\r\n            sizeConstraints={this.props.sizeConstraints}\r\n            uploadButtonText={t(textConfig.uploadButtonText)}\r\n            deleteModalTitle={t(textConfig.deleteModalTitle)}\r\n            deleteModalContent={t(textConfig.deleteModalContent)}\r\n            img={changedImage || imageUrl}\r\n            filename={avatarFileName(imageUrl)}\r\n            onDropAccepted={this.onDropAccepted}\r\n            onDrop={this.onDrop}\r\n            onDelete={deleteFile}\r\n          />\r\n          : <Uploader\r\n            i18nContentKey={textConfig.uploaderContent}\r\n            uploadButtonText={t(textConfig.uploadButtonText)}\r\n            maxFileSize={MAX_UPLOAD_FILE_SIZE}\r\n            multiple={multiple}\r\n            onDrop={this.onDrop}\r\n            onDropAccepted={this.onDropAccepted}\r\n            acceptedFormats={getAcceptedAvatarFormats()}\r\n          />}\r\n        <EditorModal\r\n          title={t(textConfig.editorModalTitle)}\r\n          sizeConstraints={this.props.sizeConstraints}\r\n          cropAspectRatio={this.props.cropAspectRatio}\r\n          hideModal={this.handleEditorModalClose}\r\n          handleSubmit={this.uploadImage}\r\n          isModalVisible={showEditor}\r\n          file={originalImage}\r\n        />\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default withTranslations(AvatarUploader)\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/Shared/components/SingleImageUploader/index.js","import React, { Component } from 'react'\r\nimport Cropper from 'react-cropper'\r\nimport PropTypes from 'prop-types'\r\nimport { canvasToDataURL, resize } from 'Shared/helpers/image'\r\n\r\nimport Modal, { PreviewModalMobile } from 'Shared/components/Modal/index'\r\nimport withTranslations from 'Shared/hoc/withTranslations/index'\r\nimport { ASPECT_RATIOS, CROP_SIZES } from 'Shared/constants/Files'\r\nimport withDeviceWidthDetector from 'Shared/hoc/withDeviceWidthDetector/withDeviceWidthDetector'\r\nimport './EditorModal.scss'\r\nimport Button, { PrimaryButton } from 'Shared/components/Button'\r\n\r\nclass EditorModal extends Component {\r\n  static propTypes = {\r\n    handleSubmit: PropTypes.func.isRequired,\r\n    isModalVisible: PropTypes.bool.isRequired,\r\n    hideModal: PropTypes.func.isRequired,\r\n    cropAspectRatio: PropTypes.number.isRequired,\r\n    sizeConstraints: PropTypes.arrayOf(PropTypes.number)\r\n  }\r\n\r\n  static defaultProps = {\r\n    cropAspectRatio: ASPECT_RATIOS.SQUARE,\r\n    sizeConstraints: CROP_SIZES.AVATAR\r\n  }\r\n\r\n  constructor (props) {\r\n    super(props)\r\n    this.state = {\r\n      cropResult: false\r\n    }\r\n  }\r\n\r\n  cropImage = () => {\r\n    const [width, height] = this.props.sizeConstraints\r\n    const croppedCanvas = this.cropper.getCroppedCanvas()\r\n    const imageToUpload = canvasToDataURL(resize(croppedCanvas, { width, height }))\r\n\r\n    this.props.handleSubmit(imageToUpload)\r\n    this.props.hideModal()\r\n  }\r\n\r\n  getCropper = () => {\r\n    const { file } = this.props\r\n    return (\r\n      <Cropper\r\n        style={{ height: 400, width: '100%' }}\r\n        aspectRatio={this.props.cropAspectRatio}\r\n        guides={false}\r\n        src={file}\r\n        ref={cropper => { this.cropper = cropper }}\r\n      />\r\n    )\r\n  }\r\n\r\n  render () {\r\n    const { t, hideModal, isModalVisible, title, isMobile } = this.props\r\n\r\n    return (\r\n      isMobile ? (\r\n        <PreviewModalMobile\r\n          title={title}\r\n          handleClose={hideModal}\r\n          show={isModalVisible}\r\n        >\r\n          {this.getCropper()}\r\n          <div className='editor-modal-mobile__modal-buttons'>\r\n            <Button onClick={hideModal}>{t('common.cancel')}</Button>\r\n            <PrimaryButton onClick={this.cropImage}>{t('common.submit')}</PrimaryButton>\r\n          </div>\r\n        </PreviewModalMobile>\r\n      ) : (\r\n        <Modal\r\n          title={title}\r\n          handleSubmit={this.cropImage}\r\n          handleClose={hideModal}\r\n          show={isModalVisible}\r\n          handleCancel={hideModal}\r\n          cancelText={t('common.cancel')}\r\n          submitText={t('common.save')}\r\n          showContact={false}\r\n          showCancel\r\n        >\r\n          {this.getCropper()}\r\n        </Modal>\r\n      )\r\n    )\r\n  }\r\n}\r\n\r\nexport default withDeviceWidthDetector(withTranslations(EditorModal))\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/Shared/components/SingleImageUploader/EditorModal.js","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _cropperjs = require('cropperjs');\n\nvar _cropperjs2 = _interopRequireDefault(_cropperjs);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar optionProps = ['dragMode', 'aspectRatio', 'data', 'crop',\n// unchangeable props start from here\n'viewMode', 'preview', 'responsive', 'restore', 'checkCrossOrigin', 'checkOrientation', 'modal', 'guides', 'center', 'highlight', 'background', 'autoCrop', 'autoCropArea', 'movable', 'rotatable', 'scalable', 'zoomable', 'zoomOnTouch', 'zoomOnWheel', 'wheelZoomRation', 'cropBoxMovable', 'cropBoxResizable', 'toggleDragModeOnDblclick', 'minContainerWidth', 'minContainerHeight', 'minCanvasWidth', 'minCanvasHeight', 'minCropBoxWidth', 'minCropBoxHeight', 'ready', 'cropstart', 'cropmove', 'cropend', 'zoom'];\n\nvar unchangeableProps = optionProps.slice(4);\n\nvar ReactCropper = function (_Component) {\n  _inherits(ReactCropper, _Component);\n\n  function ReactCropper() {\n    _classCallCheck(this, ReactCropper);\n\n    return _possibleConstructorReturn(this, (ReactCropper.__proto__ || Object.getPrototypeOf(ReactCropper)).apply(this, arguments));\n  }\n\n  _createClass(ReactCropper, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      var options = Object.keys(this.props).filter(function (propKey) {\n        return optionProps.indexOf(propKey) !== -1;\n      }).reduce(function (prevOptions, propKey) {\n        return _extends({}, prevOptions, _defineProperty({}, propKey, _this2.props[propKey]));\n      }, {});\n      this.cropper = new _cropperjs2.default(this.img, options);\n    }\n  }, {\n    key: 'componentWillReceiveProps',\n    value: function componentWillReceiveProps(nextProps) {\n      var _this3 = this;\n\n      if (nextProps.src !== this.props.src) {\n        this.cropper.reset().clear().replace(nextProps.src);\n      }\n      if (nextProps.aspectRatio !== this.props.aspectRatio) {\n        this.setAspectRatio(nextProps.aspectRatio);\n      }\n      if (nextProps.data !== this.props.data) {\n        this.setData(nextProps.data);\n      }\n      if (nextProps.dragMode !== this.props.dragMode) {\n        this.setDragMode(nextProps.dragMode);\n      }\n      if (nextProps.cropBoxData !== this.props.cropBoxData) {\n        this.setCropBoxData(nextProps.cropBoxData);\n      }\n      if (nextProps.canvasData !== this.props.canvasData) {\n        this.setCanvasData(nextProps.canvasData);\n      }\n      if (nextProps.moveTo !== this.props.moveTo) {\n        if (nextProps.moveTo.length > 1) {\n          this.moveTo(nextProps.moveTo[0], nextProps.moveTo[1]);\n        } else {\n          this.moveTo(nextProps.moveTo[0]);\n        }\n      }\n      if (nextProps.zoomTo !== this.props.zoomTo) {\n        this.zoomTo(nextProps.zoomTo);\n      }\n      if (nextProps.rotateTo !== this.props.rotateTo) {\n        this.rotateTo(nextProps.rotateTo);\n      }\n      if (nextProps.scaleX !== this.props.scaleX) {\n        this.scaleX(nextProps.scaleX);\n      }\n      if (nextProps.scaleY !== this.props.scaleY) {\n        this.scaleY(nextProps.scaleY);\n      }\n      if (nextProps.enable !== this.props.enable) {\n        if (nextProps.enable) {\n          this.enable();\n        } else {\n          this.disable();\n        }\n      }\n\n      Object.keys(nextProps).forEach(function (propKey) {\n        var isDifferentVal = nextProps[propKey] !== _this3.props[propKey];\n        var isUnchangeableProps = unchangeableProps.indexOf(propKey) !== -1;\n\n        if (typeof nextProps[propKey] === 'function' && typeof _this3.props[propKey] === 'function') {\n          isDifferentVal = nextProps[propKey].toString() !== _this3.props[propKey].toString();\n        }\n\n        if (isDifferentVal && isUnchangeableProps) {\n          throw new Error('prop: ' + propKey + ' can\\'t be change after componentDidMount');\n        }\n      });\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      if (this.img) {\n        // Destroy the cropper, this makes sure events such as resize are cleaned up and do not leak\n        this.cropper.destroy();\n        delete this.img;\n        delete this.cropper;\n      }\n    }\n  }, {\n    key: 'setDragMode',\n    value: function setDragMode(mode) {\n      return this.cropper.setDragMode(mode);\n    }\n  }, {\n    key: 'setAspectRatio',\n    value: function setAspectRatio(aspectRatio) {\n      return this.cropper.setAspectRatio(aspectRatio);\n    }\n  }, {\n    key: 'getCroppedCanvas',\n    value: function getCroppedCanvas(options) {\n      return this.cropper.getCroppedCanvas(options);\n    }\n  }, {\n    key: 'setCropBoxData',\n    value: function setCropBoxData(data) {\n      return this.cropper.setCropBoxData(data);\n    }\n  }, {\n    key: 'getCropBoxData',\n    value: function getCropBoxData() {\n      return this.cropper.getCropBoxData();\n    }\n  }, {\n    key: 'setCanvasData',\n    value: function setCanvasData(data) {\n      return this.cropper.setCanvasData(data);\n    }\n  }, {\n    key: 'getCanvasData',\n    value: function getCanvasData() {\n      return this.cropper.getCanvasData();\n    }\n  }, {\n    key: 'getImageData',\n    value: function getImageData() {\n      return this.cropper.getImageData();\n    }\n  }, {\n    key: 'getContainerData',\n    value: function getContainerData() {\n      return this.cropper.getContainerData();\n    }\n  }, {\n    key: 'setData',\n    value: function setData(data) {\n      return this.cropper.setData(data);\n    }\n  }, {\n    key: 'getData',\n    value: function getData(rounded) {\n      return this.cropper.getData(rounded);\n    }\n  }, {\n    key: 'crop',\n    value: function crop() {\n      return this.cropper.crop();\n    }\n  }, {\n    key: 'move',\n    value: function move(offsetX, offsetY) {\n      return this.cropper.move(offsetX, offsetY);\n    }\n  }, {\n    key: 'moveTo',\n    value: function moveTo(x, y) {\n      return this.cropper.moveTo(x, y);\n    }\n  }, {\n    key: 'zoom',\n    value: function zoom(ratio) {\n      return this.cropper.zoom(ratio);\n    }\n  }, {\n    key: 'zoomTo',\n    value: function zoomTo(ratio) {\n      return this.cropper.zoomTo(ratio);\n    }\n  }, {\n    key: 'rotate',\n    value: function rotate(degree) {\n      return this.cropper.rotate(degree);\n    }\n  }, {\n    key: 'rotateTo',\n    value: function rotateTo(degree) {\n      return this.cropper.rotateTo(degree);\n    }\n  }, {\n    key: 'enable',\n    value: function enable() {\n      return this.cropper.enable();\n    }\n  }, {\n    key: 'disable',\n    value: function disable() {\n      return this.cropper.disable();\n    }\n  }, {\n    key: 'reset',\n    value: function reset() {\n      return this.cropper.reset();\n    }\n  }, {\n    key: 'clear',\n    value: function clear() {\n      return this.cropper.clear();\n    }\n  }, {\n    key: 'replace',\n    value: function replace(url, onlyColorChanged) {\n      return this.cropper.replace(url, onlyColorChanged);\n    }\n  }, {\n    key: 'scale',\n    value: function scale(scaleX, scaleY) {\n      return this.cropper.scale(scaleX, scaleY);\n    }\n  }, {\n    key: 'scaleX',\n    value: function scaleX(_scaleX) {\n      return this.cropper.scaleX(_scaleX);\n    }\n  }, {\n    key: 'scaleY',\n    value: function scaleY(_scaleY) {\n      return this.cropper.scaleY(_scaleY);\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this4 = this;\n\n      var _props = this.props,\n          src = _props.src,\n          alt = _props.alt,\n          crossOrigin = _props.crossOrigin;\n\n\n      return _react2.default.createElement(\n        'div',\n        {\n          src: null,\n          crossOrigin: null,\n          alt: null,\n          style: this.props.style,\n          className: this.props.className\n        },\n        _react2.default.createElement('img', {\n          crossOrigin: crossOrigin,\n          ref: function ref(img) {\n            _this4.img = img;\n          },\n          src: src,\n          alt: alt === undefined ? 'picture' : alt,\n          style: { opacity: 0 }\n        })\n      );\n    }\n  }]);\n\n  return ReactCropper;\n}(_react.Component);\n\nReactCropper.propTypes = {\n  style: _propTypes2.default.object, // eslint-disable-line react/forbid-prop-types\n  className: _propTypes2.default.string,\n\n  // react cropper options\n  crossOrigin: _propTypes2.default.string,\n  src: _propTypes2.default.string,\n  alt: _propTypes2.default.string,\n\n  // props of option can be changed after componentDidmount\n  aspectRatio: _propTypes2.default.number,\n  dragMode: _propTypes2.default.oneOf(['crop', 'move', 'none']),\n  data: _propTypes2.default.shape({\n    x: _propTypes2.default.number,\n    y: _propTypes2.default.number,\n    width: _propTypes2.default.number,\n    height: _propTypes2.default.number,\n    rotate: _propTypes2.default.number,\n    scaleX: _propTypes2.default.number,\n    scaleY: _propTypes2.default.number\n  }),\n  scaleX: _propTypes2.default.number,\n  scaleY: _propTypes2.default.number,\n  enable: _propTypes2.default.bool,\n  cropBoxData: _propTypes2.default.shape({\n    left: _propTypes2.default.number,\n    top: _propTypes2.default.number,\n    width: _propTypes2.default.number,\n    height: _propTypes2.default.number\n  }),\n  canvasData: _propTypes2.default.shape({\n    left: _propTypes2.default.number,\n    top: _propTypes2.default.number,\n    width: _propTypes2.default.number,\n    height: _propTypes2.default.number\n  }),\n  zoomTo: _propTypes2.default.number,\n  moveTo: _propTypes2.default.arrayOf(_propTypes2.default.number),\n  rotateTo: _propTypes2.default.number,\n\n  // cropperjs options\n  // https://github.com/fengyuanchen/cropperjs#options\n  // aspectRatio, dragMode, data\n  viewMode: _propTypes2.default.oneOf([0, 1, 2, 3]),\n  preview: _propTypes2.default.string,\n  responsive: _propTypes2.default.bool,\n  restore: _propTypes2.default.bool,\n  checkCrossOrigin: _propTypes2.default.bool,\n  checkOrientation: _propTypes2.default.bool,\n  modal: _propTypes2.default.bool,\n  guides: _propTypes2.default.bool,\n  center: _propTypes2.default.bool,\n  highlight: _propTypes2.default.bool,\n  background: _propTypes2.default.bool,\n  autoCrop: _propTypes2.default.bool,\n  autoCropArea: _propTypes2.default.number,\n  movable: _propTypes2.default.bool,\n  rotatable: _propTypes2.default.bool,\n  scalable: _propTypes2.default.bool,\n  zoomable: _propTypes2.default.bool,\n  zoomOnTouch: _propTypes2.default.bool,\n  zoomOnWheel: _propTypes2.default.bool,\n  wheelZoomRation: _propTypes2.default.number,\n  cropBoxMovable: _propTypes2.default.bool,\n  cropBoxResizable: _propTypes2.default.bool,\n  toggleDragModeOnDblclick: _propTypes2.default.bool,\n  minContainerWidth: _propTypes2.default.number,\n  minContainerHeight: _propTypes2.default.number,\n  minCanvasWidth: _propTypes2.default.number,\n  minCanvasHeight: _propTypes2.default.number,\n  minCropBoxWidth: _propTypes2.default.number,\n  minCropBoxHeight: _propTypes2.default.number,\n  ready: _propTypes2.default.func,\n  cropstart: _propTypes2.default.func,\n  cropmove: _propTypes2.default.func,\n  cropend: _propTypes2.default.func,\n  crop: _propTypes2.default.func,\n  zoom: _propTypes2.default.func\n};\n\nReactCropper.defaultProps = {\n  src: null,\n  dragMode: 'crop',\n  data: null,\n  scaleX: 1,\n  scaleY: 1,\n  enable: true,\n  zoomTo: 1,\n  rotateTo: 0\n};\n\nexports.default = ReactCropper;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/react-cropper/dist/react-cropper.js\n// module id = 2621\n// module chunks = 18 53","/*!\n * Cropper.js v1.4.0\n * https://fengyuanchen.github.io/cropperjs\n *\n * Copyright 2015-present Chen Fengyuan\n * Released under the MIT license\n *\n * Date: 2018-06-01T15:18:18.692Z\n */\n\nvar IN_BROWSER = typeof window !== 'undefined';\nvar WINDOW = IN_BROWSER ? window : {};\nvar NAMESPACE = 'cropper';\n\n// Actions\nvar ACTION_ALL = 'all';\nvar ACTION_CROP = 'crop';\nvar ACTION_MOVE = 'move';\nvar ACTION_ZOOM = 'zoom';\nvar ACTION_EAST = 'e';\nvar ACTION_WEST = 'w';\nvar ACTION_SOUTH = 's';\nvar ACTION_NORTH = 'n';\nvar ACTION_NORTH_EAST = 'ne';\nvar ACTION_NORTH_WEST = 'nw';\nvar ACTION_SOUTH_EAST = 'se';\nvar ACTION_SOUTH_WEST = 'sw';\n\n// Classes\nvar CLASS_CROP = NAMESPACE + '-crop';\nvar CLASS_DISABLED = NAMESPACE + '-disabled';\nvar CLASS_HIDDEN = NAMESPACE + '-hidden';\nvar CLASS_HIDE = NAMESPACE + '-hide';\nvar CLASS_INVISIBLE = NAMESPACE + '-invisible';\nvar CLASS_MODAL = NAMESPACE + '-modal';\nvar CLASS_MOVE = NAMESPACE + '-move';\n\n// Data keys\nvar DATA_ACTION = NAMESPACE + 'Action';\nvar DATA_PREVIEW = NAMESPACE + 'Preview';\n\n// Drag modes\nvar DRAG_MODE_CROP = 'crop';\nvar DRAG_MODE_MOVE = 'move';\nvar DRAG_MODE_NONE = 'none';\n\n// Events\nvar EVENT_CROP = 'crop';\nvar EVENT_CROP_END = 'cropend';\nvar EVENT_CROP_MOVE = 'cropmove';\nvar EVENT_CROP_START = 'cropstart';\nvar EVENT_DBLCLICK = 'dblclick';\nvar EVENT_POINTER_DOWN = WINDOW.PointerEvent ? 'pointerdown' : 'touchstart mousedown';\nvar EVENT_POINTER_MOVE = WINDOW.PointerEvent ? 'pointermove' : 'touchmove mousemove';\nvar EVENT_POINTER_UP = WINDOW.PointerEvent ? 'pointerup pointercancel' : 'touchend touchcancel mouseup';\nvar EVENT_READY = 'ready';\nvar EVENT_RESIZE = 'resize';\nvar EVENT_WHEEL = 'wheel mousewheel DOMMouseScroll';\nvar EVENT_ZOOM = 'zoom';\n\n// RegExps\nvar REGEXP_ACTIONS = /^(?:e|w|s|n|se|sw|ne|nw|all|crop|move|zoom)$/;\nvar REGEXP_DATA_URL = /^data:/;\nvar REGEXP_DATA_URL_JPEG = /^data:image\\/jpeg;base64,/;\nvar REGEXP_TAG_NAME = /^(?:img|canvas)$/i;\n\nvar DEFAULTS = {\n  // Define the view mode of the cropper\n  viewMode: 0, // 0, 1, 2, 3\n\n  // Define the dragging mode of the cropper\n  dragMode: DRAG_MODE_CROP, // 'crop', 'move' or 'none'\n\n  // Define the initial aspect ratio of the crop box\n  initialAspectRatio: NaN,\n\n  // Define the aspect ratio of the crop box\n  aspectRatio: NaN,\n\n  // An object with the previous cropping result data\n  data: null,\n\n  // A selector for adding extra containers to preview\n  preview: '',\n\n  // Re-render the cropper when resize the window\n  responsive: true,\n\n  // Restore the cropped area after resize the window\n  restore: true,\n\n  // Check if the current image is a cross-origin image\n  checkCrossOrigin: true,\n\n  // Check the current image's Exif Orientation information\n  checkOrientation: true,\n\n  // Show the black modal\n  modal: true,\n\n  // Show the dashed lines for guiding\n  guides: true,\n\n  // Show the center indicator for guiding\n  center: true,\n\n  // Show the white modal to highlight the crop box\n  highlight: true,\n\n  // Show the grid background\n  background: true,\n\n  // Enable to crop the image automatically when initialize\n  autoCrop: true,\n\n  // Define the percentage of automatic cropping area when initializes\n  autoCropArea: 0.8,\n\n  // Enable to move the image\n  movable: true,\n\n  // Enable to rotate the image\n  rotatable: true,\n\n  // Enable to scale the image\n  scalable: true,\n\n  // Enable to zoom the image\n  zoomable: true,\n\n  // Enable to zoom the image by dragging touch\n  zoomOnTouch: true,\n\n  // Enable to zoom the image by wheeling mouse\n  zoomOnWheel: true,\n\n  // Define zoom ratio when zoom the image by wheeling mouse\n  wheelZoomRatio: 0.1,\n\n  // Enable to move the crop box\n  cropBoxMovable: true,\n\n  // Enable to resize the crop box\n  cropBoxResizable: true,\n\n  // Toggle drag mode between \"crop\" and \"move\" when click twice on the cropper\n  toggleDragModeOnDblclick: true,\n\n  // Size limitation\n  minCanvasWidth: 0,\n  minCanvasHeight: 0,\n  minCropBoxWidth: 0,\n  minCropBoxHeight: 0,\n  minContainerWidth: 200,\n  minContainerHeight: 100,\n\n  // Shortcuts of events\n  ready: null,\n  cropstart: null,\n  cropmove: null,\n  cropend: null,\n  crop: null,\n  zoom: null\n};\n\nvar TEMPLATE = '<div class=\"cropper-container\" touch-action=\"none\">' + '<div class=\"cropper-wrap-box\">' + '<div class=\"cropper-canvas\"></div>' + '</div>' + '<div class=\"cropper-drag-box\"></div>' + '<div class=\"cropper-crop-box\">' + '<span class=\"cropper-view-box\"></span>' + '<span class=\"cropper-dashed dashed-h\"></span>' + '<span class=\"cropper-dashed dashed-v\"></span>' + '<span class=\"cropper-center\"></span>' + '<span class=\"cropper-face\"></span>' + '<span class=\"cropper-line line-e\" data-cropper-action=\"e\"></span>' + '<span class=\"cropper-line line-n\" data-cropper-action=\"n\"></span>' + '<span class=\"cropper-line line-w\" data-cropper-action=\"w\"></span>' + '<span class=\"cropper-line line-s\" data-cropper-action=\"s\"></span>' + '<span class=\"cropper-point point-e\" data-cropper-action=\"e\"></span>' + '<span class=\"cropper-point point-n\" data-cropper-action=\"n\"></span>' + '<span class=\"cropper-point point-w\" data-cropper-action=\"w\"></span>' + '<span class=\"cropper-point point-s\" data-cropper-action=\"s\"></span>' + '<span class=\"cropper-point point-ne\" data-cropper-action=\"ne\"></span>' + '<span class=\"cropper-point point-nw\" data-cropper-action=\"nw\"></span>' + '<span class=\"cropper-point point-sw\" data-cropper-action=\"sw\"></span>' + '<span class=\"cropper-point point-se\" data-cropper-action=\"se\"></span>' + '</div>' + '</div>';\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n  return typeof obj;\n} : function (obj) {\n  return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n};\n\nvar classCallCheck = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\nvar createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar toConsumableArray = function (arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) arr2[i] = arr[i];\n\n    return arr2;\n  } else {\n    return Array.from(arr);\n  }\n};\n\n/**\n * Check if the given value is not a number.\n */\nvar isNaN = Number.isNaN || WINDOW.isNaN;\n\n/**\n * Check if the given value is a number.\n * @param {*} value - The value to check.\n * @returns {boolean} Returns `true` if the given value is a number, else `false`.\n */\nfunction isNumber(value) {\n  return typeof value === 'number' && !isNaN(value);\n}\n\n/**\n * Check if the given value is undefined.\n * @param {*} value - The value to check.\n * @returns {boolean} Returns `true` if the given value is undefined, else `false`.\n */\nfunction isUndefined(value) {\n  return typeof value === 'undefined';\n}\n\n/**\n * Check if the given value is an object.\n * @param {*} value - The value to check.\n * @returns {boolean} Returns `true` if the given value is an object, else `false`.\n */\nfunction isObject(value) {\n  return (typeof value === 'undefined' ? 'undefined' : _typeof(value)) === 'object' && value !== null;\n}\n\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\n/**\n * Check if the given value is a plain object.\n * @param {*} value - The value to check.\n * @returns {boolean} Returns `true` if the given value is a plain object, else `false`.\n */\n\nfunction isPlainObject(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n\n  try {\n    var _constructor = value.constructor;\n    var prototype = _constructor.prototype;\n\n\n    return _constructor && prototype && hasOwnProperty.call(prototype, 'isPrototypeOf');\n  } catch (e) {\n    return false;\n  }\n}\n\n/**\n * Check if the given value is a function.\n * @param {*} value - The value to check.\n * @returns {boolean} Returns `true` if the given value is a function, else `false`.\n */\nfunction isFunction(value) {\n  return typeof value === 'function';\n}\n\n/**\n * Iterate the given data.\n * @param {*} data - The data to iterate.\n * @param {Function} callback - The process function for each element.\n * @returns {*} The original data.\n */\nfunction forEach(data, callback) {\n  if (data && isFunction(callback)) {\n    if (Array.isArray(data) || isNumber(data.length) /* array-like */) {\n        var length = data.length;\n\n        var i = void 0;\n\n        for (i = 0; i < length; i += 1) {\n          if (callback.call(data, data[i], i, data) === false) {\n            break;\n          }\n        }\n      } else if (isObject(data)) {\n      Object.keys(data).forEach(function (key) {\n        callback.call(data, data[key], key, data);\n      });\n    }\n  }\n\n  return data;\n}\n\n/**\n * Extend the given object.\n * @param {*} obj - The object to be extended.\n * @param {*} args - The rest objects which will be merged to the first object.\n * @returns {Object} The extended object.\n */\nvar assign = Object.assign || function assign(obj) {\n  for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    args[_key - 1] = arguments[_key];\n  }\n\n  if (isObject(obj) && args.length > 0) {\n    args.forEach(function (arg) {\n      if (isObject(arg)) {\n        Object.keys(arg).forEach(function (key) {\n          obj[key] = arg[key];\n        });\n      }\n    });\n  }\n\n  return obj;\n};\n\nvar REGEXP_DECIMALS = /\\.\\d*(?:0|9){12}\\d*$/i;\n\n/**\n * Normalize decimal number.\n * Check out {@link http://0.30000000000000004.com/}\n * @param {number} value - The value to normalize.\n * @param {number} [times=100000000000] - The times for normalizing.\n * @returns {number} Returns the normalized number.\n */\nfunction normalizeDecimalNumber(value) {\n  var times = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 100000000000;\n\n  return REGEXP_DECIMALS.test(value) ? Math.round(value * times) / times : value;\n}\n\nvar REGEXP_SUFFIX = /^(?:width|height|left|top|marginLeft|marginTop)$/;\n\n/**\n * Apply styles to the given element.\n * @param {Element} element - The target element.\n * @param {Object} styles - The styles for applying.\n */\nfunction setStyle(element, styles) {\n  var style = element.style;\n\n\n  forEach(styles, function (value, property) {\n    if (REGEXP_SUFFIX.test(property) && isNumber(value)) {\n      value += 'px';\n    }\n\n    style[property] = value;\n  });\n}\n\n/**\n * Check if the given element has a special class.\n * @param {Element} element - The element to check.\n * @param {string} value - The class to search.\n * @returns {boolean} Returns `true` if the special class was found.\n */\nfunction hasClass(element, value) {\n  return element.classList ? element.classList.contains(value) : element.className.indexOf(value) > -1;\n}\n\n/**\n * Add classes to the given element.\n * @param {Element} element - The target element.\n * @param {string} value - The classes to be added.\n */\nfunction addClass(element, value) {\n  if (!value) {\n    return;\n  }\n\n  if (isNumber(element.length)) {\n    forEach(element, function (elem) {\n      addClass(elem, value);\n    });\n    return;\n  }\n\n  if (element.classList) {\n    element.classList.add(value);\n    return;\n  }\n\n  var className = element.className.trim();\n\n  if (!className) {\n    element.className = value;\n  } else if (className.indexOf(value) < 0) {\n    element.className = className + ' ' + value;\n  }\n}\n\n/**\n * Remove classes from the given element.\n * @param {Element} element - The target element.\n * @param {string} value - The classes to be removed.\n */\nfunction removeClass(element, value) {\n  if (!value) {\n    return;\n  }\n\n  if (isNumber(element.length)) {\n    forEach(element, function (elem) {\n      removeClass(elem, value);\n    });\n    return;\n  }\n\n  if (element.classList) {\n    element.classList.remove(value);\n    return;\n  }\n\n  if (element.className.indexOf(value) >= 0) {\n    element.className = element.className.replace(value, '');\n  }\n}\n\n/**\n * Add or remove classes from the given element.\n * @param {Element} element - The target element.\n * @param {string} value - The classes to be toggled.\n * @param {boolean} added - Add only.\n */\nfunction toggleClass(element, value, added) {\n  if (!value) {\n    return;\n  }\n\n  if (isNumber(element.length)) {\n    forEach(element, function (elem) {\n      toggleClass(elem, value, added);\n    });\n    return;\n  }\n\n  // IE10-11 doesn't support the second parameter of `classList.toggle`\n  if (added) {\n    addClass(element, value);\n  } else {\n    removeClass(element, value);\n  }\n}\n\nvar REGEXP_HYPHENATE = /([a-z\\d])([A-Z])/g;\n\n/**\n * Transform the given string from camelCase to kebab-case\n * @param {string} value - The value to transform.\n * @returns {string} The transformed value.\n */\nfunction hyphenate(value) {\n  return value.replace(REGEXP_HYPHENATE, '$1-$2').toLowerCase();\n}\n\n/**\n * Get data from the given element.\n * @param {Element} element - The target element.\n * @param {string} name - The data key to get.\n * @returns {string} The data value.\n */\nfunction getData(element, name) {\n  if (isObject(element[name])) {\n    return element[name];\n  } else if (element.dataset) {\n    return element.dataset[name];\n  }\n\n  return element.getAttribute('data-' + hyphenate(name));\n}\n\n/**\n * Set data to the given element.\n * @param {Element} element - The target element.\n * @param {string} name - The data key to set.\n * @param {string} data - The data value.\n */\nfunction setData(element, name, data) {\n  if (isObject(data)) {\n    element[name] = data;\n  } else if (element.dataset) {\n    element.dataset[name] = data;\n  } else {\n    element.setAttribute('data-' + hyphenate(name), data);\n  }\n}\n\n/**\n * Remove data from the given element.\n * @param {Element} element - The target element.\n * @param {string} name - The data key to remove.\n */\nfunction removeData(element, name) {\n  if (isObject(element[name])) {\n    try {\n      delete element[name];\n    } catch (e) {\n      element[name] = undefined;\n    }\n  } else if (element.dataset) {\n    // #128 Safari not allows to delete dataset property\n    try {\n      delete element.dataset[name];\n    } catch (e) {\n      element.dataset[name] = undefined;\n    }\n  } else {\n    element.removeAttribute('data-' + hyphenate(name));\n  }\n}\n\nvar REGEXP_SPACES = /\\s\\s*/;\nvar onceSupported = function () {\n  var supported = false;\n\n  if (IN_BROWSER) {\n    var once = false;\n    var listener = function listener() {};\n    var options = Object.defineProperty({}, 'once', {\n      get: function get$$1() {\n        supported = true;\n        return once;\n      },\n\n\n      /**\n       * This setter can fix a `TypeError` in strict mode\n       * {@link https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Errors/Getter_only}\n       * @param {boolean} value - The value to set\n       */\n      set: function set$$1(value) {\n        once = value;\n      }\n    });\n\n    WINDOW.addEventListener('test', listener, options);\n    WINDOW.removeEventListener('test', listener, options);\n  }\n\n  return supported;\n}();\n\n/**\n * Remove event listener from the target element.\n * @param {Element} element - The event target.\n * @param {string} type - The event type(s).\n * @param {Function} listener - The event listener.\n * @param {Object} options - The event options.\n */\nfunction removeListener(element, type, listener) {\n  var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n\n  var handler = listener;\n\n  type.trim().split(REGEXP_SPACES).forEach(function (event) {\n    if (!onceSupported) {\n      var listeners = element.listeners;\n\n\n      if (listeners && listeners[event] && listeners[event][listener]) {\n        handler = listeners[event][listener];\n        delete listeners[event][listener];\n\n        if (Object.keys(listeners[event]).length === 0) {\n          delete listeners[event];\n        }\n\n        if (Object.keys(listeners).length === 0) {\n          delete element.listeners;\n        }\n      }\n    }\n\n    element.removeEventListener(event, handler, options);\n  });\n}\n\n/**\n * Add event listener to the target element.\n * @param {Element} element - The event target.\n * @param {string} type - The event type(s).\n * @param {Function} listener - The event listener.\n * @param {Object} options - The event options.\n */\nfunction addListener(element, type, listener) {\n  var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n\n  var _handler = listener;\n\n  type.trim().split(REGEXP_SPACES).forEach(function (event) {\n    if (options.once && !onceSupported) {\n      var _element$listeners = element.listeners,\n          listeners = _element$listeners === undefined ? {} : _element$listeners;\n\n\n      _handler = function handler() {\n        for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n          args[_key2] = arguments[_key2];\n        }\n\n        delete listeners[event][listener];\n        element.removeEventListener(event, _handler, options);\n        listener.apply(element, args);\n      };\n\n      if (!listeners[event]) {\n        listeners[event] = {};\n      }\n\n      if (listeners[event][listener]) {\n        element.removeEventListener(event, listeners[event][listener], options);\n      }\n\n      listeners[event][listener] = _handler;\n      element.listeners = listeners;\n    }\n\n    element.addEventListener(event, _handler, options);\n  });\n}\n\n/**\n * Dispatch event on the target element.\n * @param {Element} element - The event target.\n * @param {string} type - The event type(s).\n * @param {Object} data - The additional event data.\n * @returns {boolean} Indicate if the event is default prevented or not.\n */\nfunction dispatchEvent(element, type, data) {\n  var event = void 0;\n\n  // Event and CustomEvent on IE9-11 are global objects, not constructors\n  if (isFunction(Event) && isFunction(CustomEvent)) {\n    event = new CustomEvent(type, {\n      detail: data,\n      bubbles: true,\n      cancelable: true\n    });\n  } else {\n    event = document.createEvent('CustomEvent');\n    event.initCustomEvent(type, true, true, data);\n  }\n\n  return element.dispatchEvent(event);\n}\n\n/**\n * Get the offset base on the document.\n * @param {Element} element - The target element.\n * @returns {Object} The offset data.\n */\nfunction getOffset(element) {\n  var box = element.getBoundingClientRect();\n\n  return {\n    left: box.left + (window.pageXOffset - document.documentElement.clientLeft),\n    top: box.top + (window.pageYOffset - document.documentElement.clientTop)\n  };\n}\n\nvar location = WINDOW.location;\n\nvar REGEXP_ORIGINS = /^(https?:)\\/\\/([^:/?#]+):?(\\d*)/i;\n\n/**\n * Check if the given URL is a cross origin URL.\n * @param {string} url - The target URL.\n * @returns {boolean} Returns `true` if the given URL is a cross origin URL, else `false`.\n */\nfunction isCrossOriginURL(url) {\n  var parts = url.match(REGEXP_ORIGINS);\n\n  return parts && (parts[1] !== location.protocol || parts[2] !== location.hostname || parts[3] !== location.port);\n}\n\n/**\n * Add timestamp to the given URL.\n * @param {string} url - The target URL.\n * @returns {string} The result URL.\n */\nfunction addTimestamp(url) {\n  var timestamp = 'timestamp=' + new Date().getTime();\n\n  return url + (url.indexOf('?') === -1 ? '?' : '&') + timestamp;\n}\n\n/**\n * Get transforms base on the given object.\n * @param {Object} obj - The target object.\n * @returns {string} A string contains transform values.\n */\nfunction getTransforms(_ref) {\n  var rotate = _ref.rotate,\n      scaleX = _ref.scaleX,\n      scaleY = _ref.scaleY,\n      translateX = _ref.translateX,\n      translateY = _ref.translateY;\n\n  var values = [];\n\n  if (isNumber(translateX) && translateX !== 0) {\n    values.push('translateX(' + translateX + 'px)');\n  }\n\n  if (isNumber(translateY) && translateY !== 0) {\n    values.push('translateY(' + translateY + 'px)');\n  }\n\n  // Rotate should come first before scale to match orientation transform\n  if (isNumber(rotate) && rotate !== 0) {\n    values.push('rotate(' + rotate + 'deg)');\n  }\n\n  if (isNumber(scaleX) && scaleX !== 1) {\n    values.push('scaleX(' + scaleX + ')');\n  }\n\n  if (isNumber(scaleY) && scaleY !== 1) {\n    values.push('scaleY(' + scaleY + ')');\n  }\n\n  var transform = values.length ? values.join(' ') : 'none';\n\n  return {\n    WebkitTransform: transform,\n    msTransform: transform,\n    transform: transform\n  };\n}\n\n/**\n * Get the max ratio of a group of pointers.\n * @param {string} pointers - The target pointers.\n * @returns {number} The result ratio.\n */\nfunction getMaxZoomRatio(pointers) {\n  var pointers2 = assign({}, pointers);\n  var ratios = [];\n\n  forEach(pointers, function (pointer, pointerId) {\n    delete pointers2[pointerId];\n\n    forEach(pointers2, function (pointer2) {\n      var x1 = Math.abs(pointer.startX - pointer2.startX);\n      var y1 = Math.abs(pointer.startY - pointer2.startY);\n      var x2 = Math.abs(pointer.endX - pointer2.endX);\n      var y2 = Math.abs(pointer.endY - pointer2.endY);\n      var z1 = Math.sqrt(x1 * x1 + y1 * y1);\n      var z2 = Math.sqrt(x2 * x2 + y2 * y2);\n      var ratio = (z2 - z1) / z1;\n\n      ratios.push(ratio);\n    });\n  });\n\n  ratios.sort(function (a, b) {\n    return Math.abs(a) < Math.abs(b);\n  });\n\n  return ratios[0];\n}\n\n/**\n * Get a pointer from an event object.\n * @param {Object} event - The target event object.\n * @param {boolean} endOnly - Indicates if only returns the end point coordinate or not.\n * @returns {Object} The result pointer contains start and/or end point coordinates.\n */\nfunction getPointer(_ref2, endOnly) {\n  var pageX = _ref2.pageX,\n      pageY = _ref2.pageY;\n\n  var end = {\n    endX: pageX,\n    endY: pageY\n  };\n\n  return endOnly ? end : assign({\n    startX: pageX,\n    startY: pageY\n  }, end);\n}\n\n/**\n * Get the center point coordinate of a group of pointers.\n * @param {Object} pointers - The target pointers.\n * @returns {Object} The center point coordinate.\n */\nfunction getPointersCenter(pointers) {\n  var pageX = 0;\n  var pageY = 0;\n  var count = 0;\n\n  forEach(pointers, function (_ref3) {\n    var startX = _ref3.startX,\n        startY = _ref3.startY;\n\n    pageX += startX;\n    pageY += startY;\n    count += 1;\n  });\n\n  pageX /= count;\n  pageY /= count;\n\n  return {\n    pageX: pageX,\n    pageY: pageY\n  };\n}\n\n/**\n * Check if the given value is a finite number.\n */\nvar isFinite = Number.isFinite || WINDOW.isFinite;\n\n/**\n * Get the max sizes in a rectangle under the given aspect ratio.\n * @param {Object} data - The original sizes.\n * @param {string} [type='contain'] - The adjust type.\n * @returns {Object} The result sizes.\n */\nfunction getAdjustedSizes(_ref4) // or 'cover'\n{\n  var aspectRatio = _ref4.aspectRatio,\n      height = _ref4.height,\n      width = _ref4.width;\n  var type = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'contain';\n\n  var isValidNumber = function isValidNumber(value) {\n    return isFinite(value) && value > 0;\n  };\n\n  if (isValidNumber(width) && isValidNumber(height)) {\n    var adjustedWidth = height * aspectRatio;\n\n    if (type === 'contain' && adjustedWidth > width || type === 'cover' && adjustedWidth < width) {\n      height = width / aspectRatio;\n    } else {\n      width = height * aspectRatio;\n    }\n  } else if (isValidNumber(width)) {\n    height = width / aspectRatio;\n  } else if (isValidNumber(height)) {\n    width = height * aspectRatio;\n  }\n\n  return {\n    width: width,\n    height: height\n  };\n}\n\n/**\n * Get the new sizes of a rectangle after rotated.\n * @param {Object} data - The original sizes.\n * @returns {Object} The result sizes.\n */\nfunction getRotatedSizes(_ref5) {\n  var width = _ref5.width,\n      height = _ref5.height,\n      degree = _ref5.degree;\n\n  degree = Math.abs(degree) % 180;\n\n  if (degree === 90) {\n    return {\n      width: height,\n      height: width\n    };\n  }\n\n  var arc = degree % 90 * Math.PI / 180;\n  var sinArc = Math.sin(arc);\n  var cosArc = Math.cos(arc);\n  var newWidth = width * cosArc + height * sinArc;\n  var newHeight = width * sinArc + height * cosArc;\n\n  return degree > 90 ? {\n    width: newHeight,\n    height: newWidth\n  } : {\n    width: newWidth,\n    height: newHeight\n  };\n}\n\n/**\n * Get a canvas which drew the given image.\n * @param {HTMLImageElement} image - The image for drawing.\n * @param {Object} imageData - The image data.\n * @param {Object} canvasData - The canvas data.\n * @param {Object} options - The options.\n * @returns {HTMLCanvasElement} The result canvas.\n */\nfunction getSourceCanvas(image, _ref6, _ref7, _ref8) {\n  var imageAspectRatio = _ref6.aspectRatio,\n      imageNaturalWidth = _ref6.naturalWidth,\n      imageNaturalHeight = _ref6.naturalHeight,\n      _ref6$rotate = _ref6.rotate,\n      rotate = _ref6$rotate === undefined ? 0 : _ref6$rotate,\n      _ref6$scaleX = _ref6.scaleX,\n      scaleX = _ref6$scaleX === undefined ? 1 : _ref6$scaleX,\n      _ref6$scaleY = _ref6.scaleY,\n      scaleY = _ref6$scaleY === undefined ? 1 : _ref6$scaleY;\n  var aspectRatio = _ref7.aspectRatio,\n      naturalWidth = _ref7.naturalWidth,\n      naturalHeight = _ref7.naturalHeight;\n  var _ref8$fillColor = _ref8.fillColor,\n      fillColor = _ref8$fillColor === undefined ? 'transparent' : _ref8$fillColor,\n      _ref8$imageSmoothingE = _ref8.imageSmoothingEnabled,\n      imageSmoothingEnabled = _ref8$imageSmoothingE === undefined ? true : _ref8$imageSmoothingE,\n      _ref8$imageSmoothingQ = _ref8.imageSmoothingQuality,\n      imageSmoothingQuality = _ref8$imageSmoothingQ === undefined ? 'low' : _ref8$imageSmoothingQ,\n      _ref8$maxWidth = _ref8.maxWidth,\n      maxWidth = _ref8$maxWidth === undefined ? Infinity : _ref8$maxWidth,\n      _ref8$maxHeight = _ref8.maxHeight,\n      maxHeight = _ref8$maxHeight === undefined ? Infinity : _ref8$maxHeight,\n      _ref8$minWidth = _ref8.minWidth,\n      minWidth = _ref8$minWidth === undefined ? 0 : _ref8$minWidth,\n      _ref8$minHeight = _ref8.minHeight,\n      minHeight = _ref8$minHeight === undefined ? 0 : _ref8$minHeight;\n\n  var canvas = document.createElement('canvas');\n  var context = canvas.getContext('2d');\n  var maxSizes = getAdjustedSizes({\n    aspectRatio: aspectRatio,\n    width: maxWidth,\n    height: maxHeight\n  });\n  var minSizes = getAdjustedSizes({\n    aspectRatio: aspectRatio,\n    width: minWidth,\n    height: minHeight\n  }, 'cover');\n  var width = Math.min(maxSizes.width, Math.max(minSizes.width, naturalWidth));\n  var height = Math.min(maxSizes.height, Math.max(minSizes.height, naturalHeight));\n\n  // Note: should always use image's natural sizes for drawing as\n  // imageData.naturalWidth === canvasData.naturalHeight when rotate % 180 === 90\n  var destMaxSizes = getAdjustedSizes({\n    aspectRatio: imageAspectRatio,\n    width: maxWidth,\n    height: maxHeight\n  });\n  var destMinSizes = getAdjustedSizes({\n    aspectRatio: imageAspectRatio,\n    width: minWidth,\n    height: minHeight\n  }, 'cover');\n  var destWidth = Math.min(destMaxSizes.width, Math.max(destMinSizes.width, imageNaturalWidth));\n  var destHeight = Math.min(destMaxSizes.height, Math.max(destMinSizes.height, imageNaturalHeight));\n  var params = [-destWidth / 2, -destHeight / 2, destWidth, destHeight];\n\n  canvas.width = normalizeDecimalNumber(width);\n  canvas.height = normalizeDecimalNumber(height);\n  context.fillStyle = fillColor;\n  context.fillRect(0, 0, width, height);\n  context.save();\n  context.translate(width / 2, height / 2);\n  context.rotate(rotate * Math.PI / 180);\n  context.scale(scaleX, scaleY);\n  context.imageSmoothingEnabled = imageSmoothingEnabled;\n  context.imageSmoothingQuality = imageSmoothingQuality;\n  context.drawImage.apply(context, [image].concat(toConsumableArray(params.map(function (param) {\n    return Math.floor(normalizeDecimalNumber(param));\n  }))));\n  context.restore();\n  return canvas;\n}\n\nvar fromCharCode = String.fromCharCode;\n\n/**\n * Get string from char code in data view.\n * @param {DataView} dataView - The data view for read.\n * @param {number} start - The start index.\n * @param {number} length - The read length.\n * @returns {string} The read result.\n */\n\nfunction getStringFromCharCode(dataView, start, length) {\n  var str = '';\n  var i = void 0;\n\n  length += start;\n\n  for (i = start; i < length; i += 1) {\n    str += fromCharCode(dataView.getUint8(i));\n  }\n\n  return str;\n}\n\nvar REGEXP_DATA_URL_HEAD = /^data:.*,/;\n\n/**\n * Transform Data URL to array buffer.\n * @param {string} dataURL - The Data URL to transform.\n * @returns {ArrayBuffer} The result array buffer.\n */\nfunction dataURLToArrayBuffer(dataURL) {\n  var base64 = dataURL.replace(REGEXP_DATA_URL_HEAD, '');\n  var binary = atob(base64);\n  var arrayBuffer = new ArrayBuffer(binary.length);\n  var uint8 = new Uint8Array(arrayBuffer);\n\n  forEach(uint8, function (value, i) {\n    uint8[i] = binary.charCodeAt(i);\n  });\n\n  return arrayBuffer;\n}\n\n/**\n * Transform array buffer to Data URL.\n * @param {ArrayBuffer} arrayBuffer - The array buffer to transform.\n * @param {string} mimeType - The mime type of the Data URL.\n * @returns {string} The result Data URL.\n */\nfunction arrayBufferToDataURL(arrayBuffer, mimeType) {\n  var uint8 = new Uint8Array(arrayBuffer);\n  var data = '';\n\n  // TypedArray.prototype.forEach is not supported in some browsers.\n  forEach(uint8, function (value) {\n    data += fromCharCode(value);\n  });\n\n  return 'data:' + mimeType + ';base64,' + btoa(data);\n}\n\n/**\n * Get orientation value from given array buffer.\n * @param {ArrayBuffer} arrayBuffer - The array buffer to read.\n * @returns {number} The read orientation value.\n */\nfunction getOrientation(arrayBuffer) {\n  var dataView = new DataView(arrayBuffer);\n  var orientation = void 0;\n  var littleEndian = void 0;\n  var app1Start = void 0;\n  var ifdStart = void 0;\n\n  // Only handle JPEG image (start by 0xFFD8)\n  if (dataView.getUint8(0) === 0xFF && dataView.getUint8(1) === 0xD8) {\n    var length = dataView.byteLength;\n    var offset = 2;\n\n    while (offset < length) {\n      if (dataView.getUint8(offset) === 0xFF && dataView.getUint8(offset + 1) === 0xE1) {\n        app1Start = offset;\n        break;\n      }\n\n      offset += 1;\n    }\n  }\n\n  if (app1Start) {\n    var exifIDCode = app1Start + 4;\n    var tiffOffset = app1Start + 10;\n\n    if (getStringFromCharCode(dataView, exifIDCode, 4) === 'Exif') {\n      var endianness = dataView.getUint16(tiffOffset);\n\n      littleEndian = endianness === 0x4949;\n\n      if (littleEndian || endianness === 0x4D4D /* bigEndian */) {\n          if (dataView.getUint16(tiffOffset + 2, littleEndian) === 0x002A) {\n            var firstIFDOffset = dataView.getUint32(tiffOffset + 4, littleEndian);\n\n            if (firstIFDOffset >= 0x00000008) {\n              ifdStart = tiffOffset + firstIFDOffset;\n            }\n          }\n        }\n    }\n  }\n\n  if (ifdStart) {\n    var _length = dataView.getUint16(ifdStart, littleEndian);\n    var _offset = void 0;\n    var i = void 0;\n\n    for (i = 0; i < _length; i += 1) {\n      _offset = ifdStart + i * 12 + 2;\n\n      if (dataView.getUint16(_offset, littleEndian) === 0x0112 /* Orientation */) {\n          // 8 is the offset of the current tag's value\n          _offset += 8;\n\n          // Get the original orientation value\n          orientation = dataView.getUint16(_offset, littleEndian);\n\n          // Override the orientation with its default value\n          dataView.setUint16(_offset, 1, littleEndian);\n          break;\n        }\n    }\n  }\n\n  return orientation;\n}\n\n/**\n * Parse Exif Orientation value.\n * @param {number} orientation - The orientation to parse.\n * @returns {Object} The parsed result.\n */\nfunction parseOrientation(orientation) {\n  var rotate = 0;\n  var scaleX = 1;\n  var scaleY = 1;\n\n  switch (orientation) {\n    // Flip horizontal\n    case 2:\n      scaleX = -1;\n      break;\n\n    // Rotate left 180\n    case 3:\n      rotate = -180;\n      break;\n\n    // Flip vertical\n    case 4:\n      scaleY = -1;\n      break;\n\n    // Flip vertical and rotate right 90\n    case 5:\n      rotate = 90;\n      scaleY = -1;\n      break;\n\n    // Rotate right 90\n    case 6:\n      rotate = 90;\n      break;\n\n    // Flip horizontal and rotate right 90\n    case 7:\n      rotate = 90;\n      scaleX = -1;\n      break;\n\n    // Rotate left 90\n    case 8:\n      rotate = -90;\n      break;\n\n    default:\n  }\n\n  return {\n    rotate: rotate,\n    scaleX: scaleX,\n    scaleY: scaleY\n  };\n}\n\nvar render = {\n  render: function render() {\n    this.initContainer();\n    this.initCanvas();\n    this.initCropBox();\n    this.renderCanvas();\n\n    if (this.cropped) {\n      this.renderCropBox();\n    }\n  },\n  initContainer: function initContainer() {\n    var element = this.element,\n        options = this.options,\n        container = this.container,\n        cropper = this.cropper;\n\n\n    addClass(cropper, CLASS_HIDDEN);\n    removeClass(element, CLASS_HIDDEN);\n\n    var containerData = {\n      width: Math.max(container.offsetWidth, Number(options.minContainerWidth) || 200),\n      height: Math.max(container.offsetHeight, Number(options.minContainerHeight) || 100)\n    };\n\n    this.containerData = containerData;\n\n    setStyle(cropper, {\n      width: containerData.width,\n      height: containerData.height\n    });\n\n    addClass(element, CLASS_HIDDEN);\n    removeClass(cropper, CLASS_HIDDEN);\n  },\n\n\n  // Canvas (image wrapper)\n  initCanvas: function initCanvas() {\n    var containerData = this.containerData,\n        imageData = this.imageData;\n    var viewMode = this.options.viewMode;\n\n    var rotated = Math.abs(imageData.rotate) % 180 === 90;\n    var naturalWidth = rotated ? imageData.naturalHeight : imageData.naturalWidth;\n    var naturalHeight = rotated ? imageData.naturalWidth : imageData.naturalHeight;\n    var aspectRatio = naturalWidth / naturalHeight;\n    var canvasWidth = containerData.width;\n    var canvasHeight = containerData.height;\n\n    if (containerData.height * aspectRatio > containerData.width) {\n      if (viewMode === 3) {\n        canvasWidth = containerData.height * aspectRatio;\n      } else {\n        canvasHeight = containerData.width / aspectRatio;\n      }\n    } else if (viewMode === 3) {\n      canvasHeight = containerData.width / aspectRatio;\n    } else {\n      canvasWidth = containerData.height * aspectRatio;\n    }\n\n    var canvasData = {\n      aspectRatio: aspectRatio,\n      naturalWidth: naturalWidth,\n      naturalHeight: naturalHeight,\n      width: canvasWidth,\n      height: canvasHeight\n    };\n\n    canvasData.left = (containerData.width - canvasWidth) / 2;\n    canvasData.top = (containerData.height - canvasHeight) / 2;\n    canvasData.oldLeft = canvasData.left;\n    canvasData.oldTop = canvasData.top;\n\n    this.canvasData = canvasData;\n    this.limited = viewMode === 1 || viewMode === 2;\n    this.limitCanvas(true, true);\n    this.initialImageData = assign({}, imageData);\n    this.initialCanvasData = assign({}, canvasData);\n  },\n  limitCanvas: function limitCanvas(sizeLimited, positionLimited) {\n    var options = this.options,\n        containerData = this.containerData,\n        canvasData = this.canvasData,\n        cropBoxData = this.cropBoxData;\n    var viewMode = options.viewMode;\n    var aspectRatio = canvasData.aspectRatio;\n\n    var cropped = this.cropped && cropBoxData;\n\n    if (sizeLimited) {\n      var minCanvasWidth = Number(options.minCanvasWidth) || 0;\n      var minCanvasHeight = Number(options.minCanvasHeight) || 0;\n\n      if (viewMode > 1) {\n        minCanvasWidth = Math.max(minCanvasWidth, containerData.width);\n        minCanvasHeight = Math.max(minCanvasHeight, containerData.height);\n\n        if (viewMode === 3) {\n          if (minCanvasHeight * aspectRatio > minCanvasWidth) {\n            minCanvasWidth = minCanvasHeight * aspectRatio;\n          } else {\n            minCanvasHeight = minCanvasWidth / aspectRatio;\n          }\n        }\n      } else if (viewMode > 0) {\n        if (minCanvasWidth) {\n          minCanvasWidth = Math.max(minCanvasWidth, cropped ? cropBoxData.width : 0);\n        } else if (minCanvasHeight) {\n          minCanvasHeight = Math.max(minCanvasHeight, cropped ? cropBoxData.height : 0);\n        } else if (cropped) {\n          minCanvasWidth = cropBoxData.width;\n          minCanvasHeight = cropBoxData.height;\n\n          if (minCanvasHeight * aspectRatio > minCanvasWidth) {\n            minCanvasWidth = minCanvasHeight * aspectRatio;\n          } else {\n            minCanvasHeight = minCanvasWidth / aspectRatio;\n          }\n        }\n      }\n\n      var _getAdjustedSizes = getAdjustedSizes({\n        aspectRatio: aspectRatio,\n        width: minCanvasWidth,\n        height: minCanvasHeight\n      });\n\n      minCanvasWidth = _getAdjustedSizes.width;\n      minCanvasHeight = _getAdjustedSizes.height;\n\n\n      canvasData.minWidth = minCanvasWidth;\n      canvasData.minHeight = minCanvasHeight;\n      canvasData.maxWidth = Infinity;\n      canvasData.maxHeight = Infinity;\n    }\n\n    if (positionLimited) {\n      if (viewMode) {\n        var newCanvasLeft = containerData.width - canvasData.width;\n        var newCanvasTop = containerData.height - canvasData.height;\n\n        canvasData.minLeft = Math.min(0, newCanvasLeft);\n        canvasData.minTop = Math.min(0, newCanvasTop);\n        canvasData.maxLeft = Math.max(0, newCanvasLeft);\n        canvasData.maxTop = Math.max(0, newCanvasTop);\n\n        if (cropped && this.limited) {\n          canvasData.minLeft = Math.min(cropBoxData.left, cropBoxData.left + (cropBoxData.width - canvasData.width));\n          canvasData.minTop = Math.min(cropBoxData.top, cropBoxData.top + (cropBoxData.height - canvasData.height));\n          canvasData.maxLeft = cropBoxData.left;\n          canvasData.maxTop = cropBoxData.top;\n\n          if (viewMode === 2) {\n            if (canvasData.width >= containerData.width) {\n              canvasData.minLeft = Math.min(0, newCanvasLeft);\n              canvasData.maxLeft = Math.max(0, newCanvasLeft);\n            }\n\n            if (canvasData.height >= containerData.height) {\n              canvasData.minTop = Math.min(0, newCanvasTop);\n              canvasData.maxTop = Math.max(0, newCanvasTop);\n            }\n          }\n        }\n      } else {\n        canvasData.minLeft = -canvasData.width;\n        canvasData.minTop = -canvasData.height;\n        canvasData.maxLeft = containerData.width;\n        canvasData.maxTop = containerData.height;\n      }\n    }\n  },\n  renderCanvas: function renderCanvas(changed, transformed) {\n    var canvasData = this.canvasData,\n        imageData = this.imageData;\n\n\n    if (transformed) {\n      var _getRotatedSizes = getRotatedSizes({\n        width: imageData.naturalWidth * Math.abs(imageData.scaleX || 1),\n        height: imageData.naturalHeight * Math.abs(imageData.scaleY || 1),\n        degree: imageData.rotate || 0\n      }),\n          naturalWidth = _getRotatedSizes.width,\n          naturalHeight = _getRotatedSizes.height;\n\n      var width = canvasData.width * (naturalWidth / canvasData.naturalWidth);\n      var height = canvasData.height * (naturalHeight / canvasData.naturalHeight);\n\n      canvasData.left -= (width - canvasData.width) / 2;\n      canvasData.top -= (height - canvasData.height) / 2;\n      canvasData.width = width;\n      canvasData.height = height;\n      canvasData.aspectRatio = naturalWidth / naturalHeight;\n      canvasData.naturalWidth = naturalWidth;\n      canvasData.naturalHeight = naturalHeight;\n      this.limitCanvas(true, false);\n    }\n\n    if (canvasData.width > canvasData.maxWidth || canvasData.width < canvasData.minWidth) {\n      canvasData.left = canvasData.oldLeft;\n    }\n\n    if (canvasData.height > canvasData.maxHeight || canvasData.height < canvasData.minHeight) {\n      canvasData.top = canvasData.oldTop;\n    }\n\n    canvasData.width = Math.min(Math.max(canvasData.width, canvasData.minWidth), canvasData.maxWidth);\n    canvasData.height = Math.min(Math.max(canvasData.height, canvasData.minHeight), canvasData.maxHeight);\n\n    this.limitCanvas(false, true);\n\n    canvasData.left = Math.min(Math.max(canvasData.left, canvasData.minLeft), canvasData.maxLeft);\n    canvasData.top = Math.min(Math.max(canvasData.top, canvasData.minTop), canvasData.maxTop);\n    canvasData.oldLeft = canvasData.left;\n    canvasData.oldTop = canvasData.top;\n\n    setStyle(this.canvas, assign({\n      width: canvasData.width,\n      height: canvasData.height\n    }, getTransforms({\n      translateX: canvasData.left,\n      translateY: canvasData.top\n    })));\n\n    this.renderImage(changed);\n\n    if (this.cropped && this.limited) {\n      this.limitCropBox(true, true);\n    }\n  },\n  renderImage: function renderImage(changed) {\n    var canvasData = this.canvasData,\n        imageData = this.imageData;\n\n    var width = imageData.naturalWidth * (canvasData.width / canvasData.naturalWidth);\n    var height = imageData.naturalHeight * (canvasData.height / canvasData.naturalHeight);\n\n    assign(imageData, {\n      width: width,\n      height: height,\n      left: (canvasData.width - width) / 2,\n      top: (canvasData.height - height) / 2\n    });\n    setStyle(this.image, assign({\n      width: imageData.width,\n      height: imageData.height\n    }, getTransforms(assign({\n      translateX: imageData.left,\n      translateY: imageData.top\n    }, imageData))));\n\n    if (changed) {\n      this.output();\n    }\n  },\n  initCropBox: function initCropBox() {\n    var options = this.options,\n        canvasData = this.canvasData;\n\n    var aspectRatio = options.aspectRatio || options.initialAspectRatio;\n    var autoCropArea = Number(options.autoCropArea) || 0.8;\n    var cropBoxData = {\n      width: canvasData.width,\n      height: canvasData.height\n    };\n\n    if (aspectRatio) {\n      if (canvasData.height * aspectRatio > canvasData.width) {\n        cropBoxData.height = cropBoxData.width / aspectRatio;\n      } else {\n        cropBoxData.width = cropBoxData.height * aspectRatio;\n      }\n    }\n\n    this.cropBoxData = cropBoxData;\n    this.limitCropBox(true, true);\n\n    // Initialize auto crop area\n    cropBoxData.width = Math.min(Math.max(cropBoxData.width, cropBoxData.minWidth), cropBoxData.maxWidth);\n    cropBoxData.height = Math.min(Math.max(cropBoxData.height, cropBoxData.minHeight), cropBoxData.maxHeight);\n\n    // The width/height of auto crop area must large than \"minWidth/Height\"\n    cropBoxData.width = Math.max(cropBoxData.minWidth, cropBoxData.width * autoCropArea);\n    cropBoxData.height = Math.max(cropBoxData.minHeight, cropBoxData.height * autoCropArea);\n    cropBoxData.left = canvasData.left + (canvasData.width - cropBoxData.width) / 2;\n    cropBoxData.top = canvasData.top + (canvasData.height - cropBoxData.height) / 2;\n    cropBoxData.oldLeft = cropBoxData.left;\n    cropBoxData.oldTop = cropBoxData.top;\n\n    this.initialCropBoxData = assign({}, cropBoxData);\n  },\n  limitCropBox: function limitCropBox(sizeLimited, positionLimited) {\n    var options = this.options,\n        containerData = this.containerData,\n        canvasData = this.canvasData,\n        cropBoxData = this.cropBoxData,\n        limited = this.limited;\n    var aspectRatio = options.aspectRatio;\n\n\n    if (sizeLimited) {\n      var minCropBoxWidth = Number(options.minCropBoxWidth) || 0;\n      var minCropBoxHeight = Number(options.minCropBoxHeight) || 0;\n      var maxCropBoxWidth = Math.min(containerData.width, limited ? canvasData.width : containerData.width);\n      var maxCropBoxHeight = Math.min(containerData.height, limited ? canvasData.height : containerData.height);\n\n      // The min/maxCropBoxWidth/Height must be less than container's width/height\n      minCropBoxWidth = Math.min(minCropBoxWidth, containerData.width);\n      minCropBoxHeight = Math.min(minCropBoxHeight, containerData.height);\n\n      if (aspectRatio) {\n        if (minCropBoxWidth && minCropBoxHeight) {\n          if (minCropBoxHeight * aspectRatio > minCropBoxWidth) {\n            minCropBoxHeight = minCropBoxWidth / aspectRatio;\n          } else {\n            minCropBoxWidth = minCropBoxHeight * aspectRatio;\n          }\n        } else if (minCropBoxWidth) {\n          minCropBoxHeight = minCropBoxWidth / aspectRatio;\n        } else if (minCropBoxHeight) {\n          minCropBoxWidth = minCropBoxHeight * aspectRatio;\n        }\n\n        if (maxCropBoxHeight * aspectRatio > maxCropBoxWidth) {\n          maxCropBoxHeight = maxCropBoxWidth / aspectRatio;\n        } else {\n          maxCropBoxWidth = maxCropBoxHeight * aspectRatio;\n        }\n      }\n\n      // The minWidth/Height must be less than maxWidth/Height\n      cropBoxData.minWidth = Math.min(minCropBoxWidth, maxCropBoxWidth);\n      cropBoxData.minHeight = Math.min(minCropBoxHeight, maxCropBoxHeight);\n      cropBoxData.maxWidth = maxCropBoxWidth;\n      cropBoxData.maxHeight = maxCropBoxHeight;\n    }\n\n    if (positionLimited) {\n      if (limited) {\n        cropBoxData.minLeft = Math.max(0, canvasData.left);\n        cropBoxData.minTop = Math.max(0, canvasData.top);\n        cropBoxData.maxLeft = Math.min(containerData.width, canvasData.left + canvasData.width) - cropBoxData.width;\n        cropBoxData.maxTop = Math.min(containerData.height, canvasData.top + canvasData.height) - cropBoxData.height;\n      } else {\n        cropBoxData.minLeft = 0;\n        cropBoxData.minTop = 0;\n        cropBoxData.maxLeft = containerData.width - cropBoxData.width;\n        cropBoxData.maxTop = containerData.height - cropBoxData.height;\n      }\n    }\n  },\n  renderCropBox: function renderCropBox() {\n    var options = this.options,\n        containerData = this.containerData,\n        cropBoxData = this.cropBoxData;\n\n\n    if (cropBoxData.width > cropBoxData.maxWidth || cropBoxData.width < cropBoxData.minWidth) {\n      cropBoxData.left = cropBoxData.oldLeft;\n    }\n\n    if (cropBoxData.height > cropBoxData.maxHeight || cropBoxData.height < cropBoxData.minHeight) {\n      cropBoxData.top = cropBoxData.oldTop;\n    }\n\n    cropBoxData.width = Math.min(Math.max(cropBoxData.width, cropBoxData.minWidth), cropBoxData.maxWidth);\n    cropBoxData.height = Math.min(Math.max(cropBoxData.height, cropBoxData.minHeight), cropBoxData.maxHeight);\n\n    this.limitCropBox(false, true);\n\n    cropBoxData.left = Math.min(Math.max(cropBoxData.left, cropBoxData.minLeft), cropBoxData.maxLeft);\n    cropBoxData.top = Math.min(Math.max(cropBoxData.top, cropBoxData.minTop), cropBoxData.maxTop);\n    cropBoxData.oldLeft = cropBoxData.left;\n    cropBoxData.oldTop = cropBoxData.top;\n\n    if (options.movable && options.cropBoxMovable) {\n      // Turn to move the canvas when the crop box is equal to the container\n      setData(this.face, DATA_ACTION, cropBoxData.width >= containerData.width && cropBoxData.height >= containerData.height ? ACTION_MOVE : ACTION_ALL);\n    }\n\n    setStyle(this.cropBox, assign({\n      width: cropBoxData.width,\n      height: cropBoxData.height\n    }, getTransforms({\n      translateX: cropBoxData.left,\n      translateY: cropBoxData.top\n    })));\n\n    if (this.cropped && this.limited) {\n      this.limitCanvas(true, true);\n    }\n\n    if (!this.disabled) {\n      this.output();\n    }\n  },\n  output: function output() {\n    this.preview();\n    dispatchEvent(this.element, EVENT_CROP, this.getData());\n  }\n};\n\nvar preview = {\n  initPreview: function initPreview() {\n    var crossOrigin = this.crossOrigin;\n    var preview = this.options.preview;\n\n    var url = crossOrigin ? this.crossOriginUrl : this.url;\n    var image = document.createElement('img');\n\n    if (crossOrigin) {\n      image.crossOrigin = crossOrigin;\n    }\n\n    image.src = url;\n    this.viewBox.appendChild(image);\n    this.viewBoxImage = image;\n\n    if (!preview) {\n      return;\n    }\n\n    var previews = preview;\n\n    if (typeof preview === 'string') {\n      previews = this.element.ownerDocument.querySelectorAll(preview);\n    } else if (preview.querySelector) {\n      previews = [preview];\n    }\n\n    this.previews = previews;\n\n    forEach(previews, function (el) {\n      var img = document.createElement('img');\n\n      // Save the original size for recover\n      setData(el, DATA_PREVIEW, {\n        width: el.offsetWidth,\n        height: el.offsetHeight,\n        html: el.innerHTML\n      });\n\n      if (crossOrigin) {\n        img.crossOrigin = crossOrigin;\n      }\n\n      img.src = url;\n\n      /**\n       * Override img element styles\n       * Add `display:block` to avoid margin top issue\n       * Add `height:auto` to override `height` attribute on IE8\n       * (Occur only when margin-top <= -height)\n       */\n      img.style.cssText = 'display:block;' + 'width:100%;' + 'height:auto;' + 'min-width:0!important;' + 'min-height:0!important;' + 'max-width:none!important;' + 'max-height:none!important;' + 'image-orientation:0deg!important;\"';\n\n      el.innerHTML = '';\n      el.appendChild(img);\n    });\n  },\n  resetPreview: function resetPreview() {\n    forEach(this.previews, function (element) {\n      var data = getData(element, DATA_PREVIEW);\n\n      setStyle(element, {\n        width: data.width,\n        height: data.height\n      });\n\n      element.innerHTML = data.html;\n      removeData(element, DATA_PREVIEW);\n    });\n  },\n  preview: function preview() {\n    var imageData = this.imageData,\n        canvasData = this.canvasData,\n        cropBoxData = this.cropBoxData;\n    var cropBoxWidth = cropBoxData.width,\n        cropBoxHeight = cropBoxData.height;\n    var width = imageData.width,\n        height = imageData.height;\n\n    var left = cropBoxData.left - canvasData.left - imageData.left;\n    var top = cropBoxData.top - canvasData.top - imageData.top;\n\n    if (!this.cropped || this.disabled) {\n      return;\n    }\n\n    setStyle(this.viewBoxImage, assign({\n      width: width,\n      height: height\n    }, getTransforms(assign({\n      translateX: -left,\n      translateY: -top\n    }, imageData))));\n\n    forEach(this.previews, function (element) {\n      var data = getData(element, DATA_PREVIEW);\n      var originalWidth = data.width;\n      var originalHeight = data.height;\n      var newWidth = originalWidth;\n      var newHeight = originalHeight;\n      var ratio = 1;\n\n      if (cropBoxWidth) {\n        ratio = originalWidth / cropBoxWidth;\n        newHeight = cropBoxHeight * ratio;\n      }\n\n      if (cropBoxHeight && newHeight > originalHeight) {\n        ratio = originalHeight / cropBoxHeight;\n        newWidth = cropBoxWidth * ratio;\n        newHeight = originalHeight;\n      }\n\n      setStyle(element, {\n        width: newWidth,\n        height: newHeight\n      });\n\n      setStyle(element.getElementsByTagName('img')[0], assign({\n        width: width * ratio,\n        height: height * ratio\n      }, getTransforms(assign({\n        translateX: -left * ratio,\n        translateY: -top * ratio\n      }, imageData))));\n    });\n  }\n};\n\nvar events = {\n  bind: function bind() {\n    var element = this.element,\n        options = this.options,\n        cropper = this.cropper;\n\n\n    if (isFunction(options.cropstart)) {\n      addListener(element, EVENT_CROP_START, options.cropstart);\n    }\n\n    if (isFunction(options.cropmove)) {\n      addListener(element, EVENT_CROP_MOVE, options.cropmove);\n    }\n\n    if (isFunction(options.cropend)) {\n      addListener(element, EVENT_CROP_END, options.cropend);\n    }\n\n    if (isFunction(options.crop)) {\n      addListener(element, EVENT_CROP, options.crop);\n    }\n\n    if (isFunction(options.zoom)) {\n      addListener(element, EVENT_ZOOM, options.zoom);\n    }\n\n    addListener(cropper, EVENT_POINTER_DOWN, this.onCropStart = this.cropStart.bind(this));\n\n    if (options.zoomable && options.zoomOnWheel) {\n      addListener(cropper, EVENT_WHEEL, this.onWheel = this.wheel.bind(this));\n    }\n\n    if (options.toggleDragModeOnDblclick) {\n      addListener(cropper, EVENT_DBLCLICK, this.onDblclick = this.dblclick.bind(this));\n    }\n\n    addListener(element.ownerDocument, EVENT_POINTER_MOVE, this.onCropMove = this.cropMove.bind(this));\n    addListener(element.ownerDocument, EVENT_POINTER_UP, this.onCropEnd = this.cropEnd.bind(this));\n\n    if (options.responsive) {\n      addListener(window, EVENT_RESIZE, this.onResize = this.resize.bind(this));\n    }\n  },\n  unbind: function unbind() {\n    var element = this.element,\n        options = this.options,\n        cropper = this.cropper;\n\n\n    if (isFunction(options.cropstart)) {\n      removeListener(element, EVENT_CROP_START, options.cropstart);\n    }\n\n    if (isFunction(options.cropmove)) {\n      removeListener(element, EVENT_CROP_MOVE, options.cropmove);\n    }\n\n    if (isFunction(options.cropend)) {\n      removeListener(element, EVENT_CROP_END, options.cropend);\n    }\n\n    if (isFunction(options.crop)) {\n      removeListener(element, EVENT_CROP, options.crop);\n    }\n\n    if (isFunction(options.zoom)) {\n      removeListener(element, EVENT_ZOOM, options.zoom);\n    }\n\n    removeListener(cropper, EVENT_POINTER_DOWN, this.onCropStart);\n\n    if (options.zoomable && options.zoomOnWheel) {\n      removeListener(cropper, EVENT_WHEEL, this.onWheel);\n    }\n\n    if (options.toggleDragModeOnDblclick) {\n      removeListener(cropper, EVENT_DBLCLICK, this.onDblclick);\n    }\n\n    removeListener(element.ownerDocument, EVENT_POINTER_MOVE, this.onCropMove);\n    removeListener(element.ownerDocument, EVENT_POINTER_UP, this.onCropEnd);\n\n    if (options.responsive) {\n      removeListener(window, EVENT_RESIZE, this.onResize);\n    }\n  }\n};\n\nvar handlers = {\n  resize: function resize() {\n    var options = this.options,\n        container = this.container,\n        containerData = this.containerData;\n\n    var minContainerWidth = Number(options.minContainerWidth) || 200;\n    var minContainerHeight = Number(options.minContainerHeight) || 100;\n\n    if (this.disabled || containerData.width <= minContainerWidth || containerData.height <= minContainerHeight) {\n      return;\n    }\n\n    var ratio = container.offsetWidth / containerData.width;\n\n    // Resize when width changed or height changed\n    if (ratio !== 1 || container.offsetHeight !== containerData.height) {\n      var canvasData = void 0;\n      var cropBoxData = void 0;\n\n      if (options.restore) {\n        canvasData = this.getCanvasData();\n        cropBoxData = this.getCropBoxData();\n      }\n\n      this.render();\n\n      if (options.restore) {\n        this.setCanvasData(forEach(canvasData, function (n, i) {\n          canvasData[i] = n * ratio;\n        }));\n        this.setCropBoxData(forEach(cropBoxData, function (n, i) {\n          cropBoxData[i] = n * ratio;\n        }));\n      }\n    }\n  },\n  dblclick: function dblclick() {\n    if (this.disabled || this.options.dragMode === DRAG_MODE_NONE) {\n      return;\n    }\n\n    this.setDragMode(hasClass(this.dragBox, CLASS_CROP) ? DRAG_MODE_MOVE : DRAG_MODE_CROP);\n  },\n  wheel: function wheel(e) {\n    var _this = this;\n\n    var ratio = Number(this.options.wheelZoomRatio) || 0.1;\n    var delta = 1;\n\n    if (this.disabled) {\n      return;\n    }\n\n    e.preventDefault();\n\n    // Limit wheel speed to prevent zoom too fast (#21)\n    if (this.wheeling) {\n      return;\n    }\n\n    this.wheeling = true;\n\n    setTimeout(function () {\n      _this.wheeling = false;\n    }, 50);\n\n    if (e.deltaY) {\n      delta = e.deltaY > 0 ? 1 : -1;\n    } else if (e.wheelDelta) {\n      delta = -e.wheelDelta / 120;\n    } else if (e.detail) {\n      delta = e.detail > 0 ? 1 : -1;\n    }\n\n    this.zoom(-delta * ratio, e);\n  },\n  cropStart: function cropStart(e) {\n    if (this.disabled) {\n      return;\n    }\n\n    var options = this.options,\n        pointers = this.pointers;\n\n    var action = void 0;\n\n    if (e.changedTouches) {\n      // Handle touch event\n      forEach(e.changedTouches, function (touch) {\n        pointers[touch.identifier] = getPointer(touch);\n      });\n    } else {\n      // Handle mouse event and pointer event\n      pointers[e.pointerId || 0] = getPointer(e);\n    }\n\n    if (Object.keys(pointers).length > 1 && options.zoomable && options.zoomOnTouch) {\n      action = ACTION_ZOOM;\n    } else {\n      action = getData(e.target, DATA_ACTION);\n    }\n\n    if (!REGEXP_ACTIONS.test(action)) {\n      return;\n    }\n\n    if (dispatchEvent(this.element, EVENT_CROP_START, {\n      originalEvent: e,\n      action: action\n    }) === false) {\n      return;\n    }\n\n    // This line is required for preventing page zooming in iOS browsers\n    e.preventDefault();\n\n    this.action = action;\n    this.cropping = false;\n\n    if (action === ACTION_CROP) {\n      this.cropping = true;\n      addClass(this.dragBox, CLASS_MODAL);\n    }\n  },\n  cropMove: function cropMove(e) {\n    var action = this.action;\n\n\n    if (this.disabled || !action) {\n      return;\n    }\n\n    var pointers = this.pointers;\n\n\n    e.preventDefault();\n\n    if (dispatchEvent(this.element, EVENT_CROP_MOVE, {\n      originalEvent: e,\n      action: action\n    }) === false) {\n      return;\n    }\n\n    if (e.changedTouches) {\n      forEach(e.changedTouches, function (touch) {\n        assign(pointers[touch.identifier], getPointer(touch, true));\n      });\n    } else {\n      assign(pointers[e.pointerId || 0], getPointer(e, true));\n    }\n\n    this.change(e);\n  },\n  cropEnd: function cropEnd(e) {\n    if (this.disabled) {\n      return;\n    }\n\n    var action = this.action,\n        pointers = this.pointers;\n\n\n    if (e.changedTouches) {\n      forEach(e.changedTouches, function (touch) {\n        delete pointers[touch.identifier];\n      });\n    } else {\n      delete pointers[e.pointerId || 0];\n    }\n\n    if (!action) {\n      return;\n    }\n\n    e.preventDefault();\n\n    if (!Object.keys(pointers).length) {\n      this.action = '';\n    }\n\n    if (this.cropping) {\n      this.cropping = false;\n      toggleClass(this.dragBox, CLASS_MODAL, this.cropped && this.options.modal);\n    }\n\n    dispatchEvent(this.element, EVENT_CROP_END, {\n      originalEvent: e,\n      action: action\n    });\n  }\n};\n\nvar change = {\n  change: function change(e) {\n    var options = this.options,\n        canvasData = this.canvasData,\n        containerData = this.containerData,\n        cropBoxData = this.cropBoxData,\n        pointers = this.pointers;\n    var action = this.action;\n    var aspectRatio = options.aspectRatio;\n    var left = cropBoxData.left,\n        top = cropBoxData.top,\n        width = cropBoxData.width,\n        height = cropBoxData.height;\n\n    var right = left + width;\n    var bottom = top + height;\n    var minLeft = 0;\n    var minTop = 0;\n    var maxWidth = containerData.width;\n    var maxHeight = containerData.height;\n    var renderable = true;\n    var offset = void 0;\n\n    // Locking aspect ratio in \"free mode\" by holding shift key\n    if (!aspectRatio && e.shiftKey) {\n      aspectRatio = width && height ? width / height : 1;\n    }\n\n    if (this.limited) {\n      minLeft = cropBoxData.minLeft;\n      minTop = cropBoxData.minTop;\n\n      maxWidth = minLeft + Math.min(containerData.width, canvasData.width, canvasData.left + canvasData.width);\n      maxHeight = minTop + Math.min(containerData.height, canvasData.height, canvasData.top + canvasData.height);\n    }\n\n    var pointer = pointers[Object.keys(pointers)[0]];\n    var range = {\n      x: pointer.endX - pointer.startX,\n      y: pointer.endY - pointer.startY\n    };\n    var check = function check(side) {\n      switch (side) {\n        case ACTION_EAST:\n          if (right + range.x > maxWidth) {\n            range.x = maxWidth - right;\n          }\n\n          break;\n\n        case ACTION_WEST:\n          if (left + range.x < minLeft) {\n            range.x = minLeft - left;\n          }\n\n          break;\n\n        case ACTION_NORTH:\n          if (top + range.y < minTop) {\n            range.y = minTop - top;\n          }\n\n          break;\n\n        case ACTION_SOUTH:\n          if (bottom + range.y > maxHeight) {\n            range.y = maxHeight - bottom;\n          }\n\n          break;\n\n        default:\n      }\n    };\n\n    switch (action) {\n      // Move crop box\n      case ACTION_ALL:\n        left += range.x;\n        top += range.y;\n        break;\n\n      // Resize crop box\n      case ACTION_EAST:\n        if (range.x >= 0 && (right >= maxWidth || aspectRatio && (top <= minTop || bottom >= maxHeight))) {\n          renderable = false;\n          break;\n        }\n\n        check(ACTION_EAST);\n        width += range.x;\n\n        if (width < 0) {\n          action = ACTION_WEST;\n          width = -width;\n          left -= width;\n        }\n\n        if (aspectRatio) {\n          height = width / aspectRatio;\n          top += (cropBoxData.height - height) / 2;\n        }\n\n        break;\n\n      case ACTION_NORTH:\n        if (range.y <= 0 && (top <= minTop || aspectRatio && (left <= minLeft || right >= maxWidth))) {\n          renderable = false;\n          break;\n        }\n\n        check(ACTION_NORTH);\n        height -= range.y;\n        top += range.y;\n\n        if (height < 0) {\n          action = ACTION_SOUTH;\n          height = -height;\n          top -= height;\n        }\n\n        if (aspectRatio) {\n          width = height * aspectRatio;\n          left += (cropBoxData.width - width) / 2;\n        }\n\n        break;\n\n      case ACTION_WEST:\n        if (range.x <= 0 && (left <= minLeft || aspectRatio && (top <= minTop || bottom >= maxHeight))) {\n          renderable = false;\n          break;\n        }\n\n        check(ACTION_WEST);\n        width -= range.x;\n        left += range.x;\n\n        if (width < 0) {\n          action = ACTION_EAST;\n          width = -width;\n          left -= width;\n        }\n\n        if (aspectRatio) {\n          height = width / aspectRatio;\n          top += (cropBoxData.height - height) / 2;\n        }\n\n        break;\n\n      case ACTION_SOUTH:\n        if (range.y >= 0 && (bottom >= maxHeight || aspectRatio && (left <= minLeft || right >= maxWidth))) {\n          renderable = false;\n          break;\n        }\n\n        check(ACTION_SOUTH);\n        height += range.y;\n\n        if (height < 0) {\n          action = ACTION_NORTH;\n          height = -height;\n          top -= height;\n        }\n\n        if (aspectRatio) {\n          width = height * aspectRatio;\n          left += (cropBoxData.width - width) / 2;\n        }\n\n        break;\n\n      case ACTION_NORTH_EAST:\n        if (aspectRatio) {\n          if (range.y <= 0 && (top <= minTop || right >= maxWidth)) {\n            renderable = false;\n            break;\n          }\n\n          check(ACTION_NORTH);\n          height -= range.y;\n          top += range.y;\n          width = height * aspectRatio;\n        } else {\n          check(ACTION_NORTH);\n          check(ACTION_EAST);\n\n          if (range.x >= 0) {\n            if (right < maxWidth) {\n              width += range.x;\n            } else if (range.y <= 0 && top <= minTop) {\n              renderable = false;\n            }\n          } else {\n            width += range.x;\n          }\n\n          if (range.y <= 0) {\n            if (top > minTop) {\n              height -= range.y;\n              top += range.y;\n            }\n          } else {\n            height -= range.y;\n            top += range.y;\n          }\n        }\n\n        if (width < 0 && height < 0) {\n          action = ACTION_SOUTH_WEST;\n          height = -height;\n          width = -width;\n          top -= height;\n          left -= width;\n        } else if (width < 0) {\n          action = ACTION_NORTH_WEST;\n          width = -width;\n          left -= width;\n        } else if (height < 0) {\n          action = ACTION_SOUTH_EAST;\n          height = -height;\n          top -= height;\n        }\n\n        break;\n\n      case ACTION_NORTH_WEST:\n        if (aspectRatio) {\n          if (range.y <= 0 && (top <= minTop || left <= minLeft)) {\n            renderable = false;\n            break;\n          }\n\n          check(ACTION_NORTH);\n          height -= range.y;\n          top += range.y;\n          width = height * aspectRatio;\n          left += cropBoxData.width - width;\n        } else {\n          check(ACTION_NORTH);\n          check(ACTION_WEST);\n\n          if (range.x <= 0) {\n            if (left > minLeft) {\n              width -= range.x;\n              left += range.x;\n            } else if (range.y <= 0 && top <= minTop) {\n              renderable = false;\n            }\n          } else {\n            width -= range.x;\n            left += range.x;\n          }\n\n          if (range.y <= 0) {\n            if (top > minTop) {\n              height -= range.y;\n              top += range.y;\n            }\n          } else {\n            height -= range.y;\n            top += range.y;\n          }\n        }\n\n        if (width < 0 && height < 0) {\n          action = ACTION_SOUTH_EAST;\n          height = -height;\n          width = -width;\n          top -= height;\n          left -= width;\n        } else if (width < 0) {\n          action = ACTION_NORTH_EAST;\n          width = -width;\n          left -= width;\n        } else if (height < 0) {\n          action = ACTION_SOUTH_WEST;\n          height = -height;\n          top -= height;\n        }\n\n        break;\n\n      case ACTION_SOUTH_WEST:\n        if (aspectRatio) {\n          if (range.x <= 0 && (left <= minLeft || bottom >= maxHeight)) {\n            renderable = false;\n            break;\n          }\n\n          check(ACTION_WEST);\n          width -= range.x;\n          left += range.x;\n          height = width / aspectRatio;\n        } else {\n          check(ACTION_SOUTH);\n          check(ACTION_WEST);\n\n          if (range.x <= 0) {\n            if (left > minLeft) {\n              width -= range.x;\n              left += range.x;\n            } else if (range.y >= 0 && bottom >= maxHeight) {\n              renderable = false;\n            }\n          } else {\n            width -= range.x;\n            left += range.x;\n          }\n\n          if (range.y >= 0) {\n            if (bottom < maxHeight) {\n              height += range.y;\n            }\n          } else {\n            height += range.y;\n          }\n        }\n\n        if (width < 0 && height < 0) {\n          action = ACTION_NORTH_EAST;\n          height = -height;\n          width = -width;\n          top -= height;\n          left -= width;\n        } else if (width < 0) {\n          action = ACTION_SOUTH_EAST;\n          width = -width;\n          left -= width;\n        } else if (height < 0) {\n          action = ACTION_NORTH_WEST;\n          height = -height;\n          top -= height;\n        }\n\n        break;\n\n      case ACTION_SOUTH_EAST:\n        if (aspectRatio) {\n          if (range.x >= 0 && (right >= maxWidth || bottom >= maxHeight)) {\n            renderable = false;\n            break;\n          }\n\n          check(ACTION_EAST);\n          width += range.x;\n          height = width / aspectRatio;\n        } else {\n          check(ACTION_SOUTH);\n          check(ACTION_EAST);\n\n          if (range.x >= 0) {\n            if (right < maxWidth) {\n              width += range.x;\n            } else if (range.y >= 0 && bottom >= maxHeight) {\n              renderable = false;\n            }\n          } else {\n            width += range.x;\n          }\n\n          if (range.y >= 0) {\n            if (bottom < maxHeight) {\n              height += range.y;\n            }\n          } else {\n            height += range.y;\n          }\n        }\n\n        if (width < 0 && height < 0) {\n          action = ACTION_NORTH_WEST;\n          height = -height;\n          width = -width;\n          top -= height;\n          left -= width;\n        } else if (width < 0) {\n          action = ACTION_SOUTH_WEST;\n          width = -width;\n          left -= width;\n        } else if (height < 0) {\n          action = ACTION_NORTH_EAST;\n          height = -height;\n          top -= height;\n        }\n\n        break;\n\n      // Move canvas\n      case ACTION_MOVE:\n        this.move(range.x, range.y);\n        renderable = false;\n        break;\n\n      // Zoom canvas\n      case ACTION_ZOOM:\n        this.zoom(getMaxZoomRatio(pointers), e);\n        renderable = false;\n        break;\n\n      // Create crop box\n      case ACTION_CROP:\n        if (!range.x || !range.y) {\n          renderable = false;\n          break;\n        }\n\n        offset = getOffset(this.cropper);\n        left = pointer.startX - offset.left;\n        top = pointer.startY - offset.top;\n        width = cropBoxData.minWidth;\n        height = cropBoxData.minHeight;\n\n        if (range.x > 0) {\n          action = range.y > 0 ? ACTION_SOUTH_EAST : ACTION_NORTH_EAST;\n        } else if (range.x < 0) {\n          left -= width;\n          action = range.y > 0 ? ACTION_SOUTH_WEST : ACTION_NORTH_WEST;\n        }\n\n        if (range.y < 0) {\n          top -= height;\n        }\n\n        // Show the crop box if is hidden\n        if (!this.cropped) {\n          removeClass(this.cropBox, CLASS_HIDDEN);\n          this.cropped = true;\n\n          if (this.limited) {\n            this.limitCropBox(true, true);\n          }\n        }\n\n        break;\n\n      default:\n    }\n\n    if (renderable) {\n      cropBoxData.width = width;\n      cropBoxData.height = height;\n      cropBoxData.left = left;\n      cropBoxData.top = top;\n      this.action = action;\n      this.renderCropBox();\n    }\n\n    // Override\n    forEach(pointers, function (p) {\n      p.startX = p.endX;\n      p.startY = p.endY;\n    });\n  }\n};\n\nvar methods = {\n  // Show the crop box manually\n  crop: function crop() {\n    if (this.ready && !this.cropped && !this.disabled) {\n      this.cropped = true;\n      this.limitCropBox(true, true);\n\n      if (this.options.modal) {\n        addClass(this.dragBox, CLASS_MODAL);\n      }\n\n      removeClass(this.cropBox, CLASS_HIDDEN);\n      this.setCropBoxData(this.initialCropBoxData);\n    }\n\n    return this;\n  },\n\n\n  // Reset the image and crop box to their initial states\n  reset: function reset() {\n    if (this.ready && !this.disabled) {\n      this.imageData = assign({}, this.initialImageData);\n      this.canvasData = assign({}, this.initialCanvasData);\n      this.cropBoxData = assign({}, this.initialCropBoxData);\n      this.renderCanvas();\n\n      if (this.cropped) {\n        this.renderCropBox();\n      }\n    }\n\n    return this;\n  },\n\n\n  // Clear the crop box\n  clear: function clear() {\n    if (this.cropped && !this.disabled) {\n      assign(this.cropBoxData, {\n        left: 0,\n        top: 0,\n        width: 0,\n        height: 0\n      });\n\n      this.cropped = false;\n      this.renderCropBox();\n      this.limitCanvas(true, true);\n\n      // Render canvas after crop box rendered\n      this.renderCanvas();\n      removeClass(this.dragBox, CLASS_MODAL);\n      addClass(this.cropBox, CLASS_HIDDEN);\n    }\n\n    return this;\n  },\n\n\n  /**\n   * Replace the image's src and rebuild the cropper\n   * @param {string} url - The new URL.\n   * @param {boolean} [hasSameSize] - Indicate if the new image has the same size as the old one.\n   * @returns {Cropper} this\n   */\n  replace: function replace(url) {\n    var hasSameSize = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n    if (!this.disabled && url) {\n      if (this.isImg) {\n        this.element.src = url;\n      }\n\n      if (hasSameSize) {\n        this.url = url;\n        this.image.src = url;\n\n        if (this.ready) {\n          this.viewBoxImage.src = url;\n\n          forEach(this.previews, function (element) {\n            element.getElementsByTagName('img')[0].src = url;\n          });\n        }\n      } else {\n        if (this.isImg) {\n          this.replaced = true;\n        }\n\n        this.options.data = null;\n        this.uncreate();\n        this.load(url);\n      }\n    }\n\n    return this;\n  },\n\n\n  // Enable (unfreeze) the cropper\n  enable: function enable() {\n    if (this.ready && this.disabled) {\n      this.disabled = false;\n      removeClass(this.cropper, CLASS_DISABLED);\n    }\n\n    return this;\n  },\n\n\n  // Disable (freeze) the cropper\n  disable: function disable() {\n    if (this.ready && !this.disabled) {\n      this.disabled = true;\n      addClass(this.cropper, CLASS_DISABLED);\n    }\n\n    return this;\n  },\n\n\n  /**\n   * Destroy the cropper and remove the instance from the image\n   * @returns {Cropper} this\n   */\n  destroy: function destroy() {\n    var element = this.element;\n\n\n    if (!getData(element, NAMESPACE)) {\n      return this;\n    }\n\n    if (this.isImg && this.replaced) {\n      element.src = this.originalUrl;\n    }\n\n    this.uncreate();\n    removeData(element, NAMESPACE);\n\n    return this;\n  },\n\n\n  /**\n   * Move the canvas with relative offsets\n   * @param {number} offsetX - The relative offset distance on the x-axis.\n   * @param {number} [offsetY=offsetX] - The relative offset distance on the y-axis.\n   * @returns {Cropper} this\n   */\n  move: function move(offsetX) {\n    var offsetY = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : offsetX;\n    var _canvasData = this.canvasData,\n        left = _canvasData.left,\n        top = _canvasData.top;\n\n\n    return this.moveTo(isUndefined(offsetX) ? offsetX : left + Number(offsetX), isUndefined(offsetY) ? offsetY : top + Number(offsetY));\n  },\n\n\n  /**\n   * Move the canvas to an absolute point\n   * @param {number} x - The x-axis coordinate.\n   * @param {number} [y=x] - The y-axis coordinate.\n   * @returns {Cropper} this\n   */\n  moveTo: function moveTo(x) {\n    var y = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : x;\n    var canvasData = this.canvasData;\n\n    var changed = false;\n\n    x = Number(x);\n    y = Number(y);\n\n    if (this.ready && !this.disabled && this.options.movable) {\n      if (isNumber(x)) {\n        canvasData.left = x;\n        changed = true;\n      }\n\n      if (isNumber(y)) {\n        canvasData.top = y;\n        changed = true;\n      }\n\n      if (changed) {\n        this.renderCanvas(true);\n      }\n    }\n\n    return this;\n  },\n\n\n  /**\n   * Zoom the canvas with a relative ratio\n   * @param {number} ratio - The target ratio.\n   * @param {Event} _originalEvent - The original event if any.\n   * @returns {Cropper} this\n   */\n  zoom: function zoom(ratio, _originalEvent) {\n    var canvasData = this.canvasData;\n\n\n    ratio = Number(ratio);\n\n    if (ratio < 0) {\n      ratio = 1 / (1 - ratio);\n    } else {\n      ratio = 1 + ratio;\n    }\n\n    return this.zoomTo(canvasData.width * ratio / canvasData.naturalWidth, null, _originalEvent);\n  },\n\n\n  /**\n   * Zoom the canvas to an absolute ratio\n   * @param {number} ratio - The target ratio.\n   * @param {Object} pivot - The zoom pivot point coordinate.\n   * @param {Event} _originalEvent - The original event if any.\n   * @returns {Cropper} this\n   */\n  zoomTo: function zoomTo(ratio, pivot, _originalEvent) {\n    var options = this.options,\n        canvasData = this.canvasData;\n    var width = canvasData.width,\n        height = canvasData.height,\n        naturalWidth = canvasData.naturalWidth,\n        naturalHeight = canvasData.naturalHeight;\n\n\n    ratio = Number(ratio);\n\n    if (ratio >= 0 && this.ready && !this.disabled && options.zoomable) {\n      var newWidth = naturalWidth * ratio;\n      var newHeight = naturalHeight * ratio;\n\n      if (dispatchEvent(this.element, EVENT_ZOOM, {\n        ratio: ratio,\n        oldRatio: width / naturalWidth,\n        originalEvent: _originalEvent\n      }) === false) {\n        return this;\n      }\n\n      if (_originalEvent) {\n        var pointers = this.pointers;\n\n        var offset = getOffset(this.cropper);\n        var center = pointers && Object.keys(pointers).length ? getPointersCenter(pointers) : {\n          pageX: _originalEvent.pageX,\n          pageY: _originalEvent.pageY\n        };\n\n        // Zoom from the triggering point of the event\n        canvasData.left -= (newWidth - width) * ((center.pageX - offset.left - canvasData.left) / width);\n        canvasData.top -= (newHeight - height) * ((center.pageY - offset.top - canvasData.top) / height);\n      } else if (isPlainObject(pivot) && isNumber(pivot.x) && isNumber(pivot.y)) {\n        canvasData.left -= (newWidth - width) * ((pivot.x - canvasData.left) / width);\n        canvasData.top -= (newHeight - height) * ((pivot.y - canvasData.top) / height);\n      } else {\n        // Zoom from the center of the canvas\n        canvasData.left -= (newWidth - width) / 2;\n        canvasData.top -= (newHeight - height) / 2;\n      }\n\n      canvasData.width = newWidth;\n      canvasData.height = newHeight;\n      this.renderCanvas(true);\n    }\n\n    return this;\n  },\n\n\n  /**\n   * Rotate the canvas with a relative degree\n   * @param {number} degree - The rotate degree.\n   * @returns {Cropper} this\n   */\n  rotate: function rotate(degree) {\n    return this.rotateTo((this.imageData.rotate || 0) + Number(degree));\n  },\n\n\n  /**\n   * Rotate the canvas to an absolute degree\n   * @param {number} degree - The rotate degree.\n   * @returns {Cropper} this\n   */\n  rotateTo: function rotateTo(degree) {\n    degree = Number(degree);\n\n    if (isNumber(degree) && this.ready && !this.disabled && this.options.rotatable) {\n      this.imageData.rotate = degree % 360;\n      this.renderCanvas(true, true);\n    }\n\n    return this;\n  },\n\n\n  /**\n   * Scale the image on the x-axis.\n   * @param {number} scaleX - The scale ratio on the x-axis.\n   * @returns {Cropper} this\n   */\n  scaleX: function scaleX(_scaleX) {\n    var scaleY = this.imageData.scaleY;\n\n\n    return this.scale(_scaleX, isNumber(scaleY) ? scaleY : 1);\n  },\n\n\n  /**\n   * Scale the image on the y-axis.\n   * @param {number} scaleY - The scale ratio on the y-axis.\n   * @returns {Cropper} this\n   */\n  scaleY: function scaleY(_scaleY) {\n    var scaleX = this.imageData.scaleX;\n\n\n    return this.scale(isNumber(scaleX) ? scaleX : 1, _scaleY);\n  },\n\n\n  /**\n   * Scale the image\n   * @param {number} scaleX - The scale ratio on the x-axis.\n   * @param {number} [scaleY=scaleX] - The scale ratio on the y-axis.\n   * @returns {Cropper} this\n   */\n  scale: function scale(scaleX) {\n    var scaleY = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : scaleX;\n    var imageData = this.imageData;\n\n    var transformed = false;\n\n    scaleX = Number(scaleX);\n    scaleY = Number(scaleY);\n\n    if (this.ready && !this.disabled && this.options.scalable) {\n      if (isNumber(scaleX)) {\n        imageData.scaleX = scaleX;\n        transformed = true;\n      }\n\n      if (isNumber(scaleY)) {\n        imageData.scaleY = scaleY;\n        transformed = true;\n      }\n\n      if (transformed) {\n        this.renderCanvas(true, true);\n      }\n    }\n\n    return this;\n  },\n\n\n  /**\n   * Get the cropped area position and size data (base on the original image)\n   * @param {boolean} [rounded=false] - Indicate if round the data values or not.\n   * @returns {Object} The result cropped data.\n   */\n  getData: function getData$$1() {\n    var rounded = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n    var options = this.options,\n        imageData = this.imageData,\n        canvasData = this.canvasData,\n        cropBoxData = this.cropBoxData;\n\n    var data = void 0;\n\n    if (this.ready && this.cropped) {\n      data = {\n        x: cropBoxData.left - canvasData.left,\n        y: cropBoxData.top - canvasData.top,\n        width: cropBoxData.width,\n        height: cropBoxData.height\n      };\n\n      var ratio = imageData.width / imageData.naturalWidth;\n\n      forEach(data, function (n, i) {\n        data[i] = n / ratio;\n      });\n\n      if (rounded) {\n        // In case rounding off leads to extra 1px in right or bottom border\n        // we should round the top-left corner and the dimension (#343).\n        var bottom = Math.round(data.y + data.height);\n        var right = Math.round(data.x + data.width);\n\n        data.x = Math.round(data.x);\n        data.y = Math.round(data.y);\n        data.width = right - data.x;\n        data.height = bottom - data.y;\n      }\n    } else {\n      data = {\n        x: 0,\n        y: 0,\n        width: 0,\n        height: 0\n      };\n    }\n\n    if (options.rotatable) {\n      data.rotate = imageData.rotate || 0;\n    }\n\n    if (options.scalable) {\n      data.scaleX = imageData.scaleX || 1;\n      data.scaleY = imageData.scaleY || 1;\n    }\n\n    return data;\n  },\n\n\n  /**\n   * Set the cropped area position and size with new data\n   * @param {Object} data - The new data.\n   * @returns {Cropper} this\n   */\n  setData: function setData$$1(data) {\n    var options = this.options,\n        imageData = this.imageData,\n        canvasData = this.canvasData;\n\n    var cropBoxData = {};\n\n    if (this.ready && !this.disabled && isPlainObject(data)) {\n      var transformed = false;\n\n      if (options.rotatable) {\n        if (isNumber(data.rotate) && data.rotate !== imageData.rotate) {\n          imageData.rotate = data.rotate;\n          transformed = true;\n        }\n      }\n\n      if (options.scalable) {\n        if (isNumber(data.scaleX) && data.scaleX !== imageData.scaleX) {\n          imageData.scaleX = data.scaleX;\n          transformed = true;\n        }\n\n        if (isNumber(data.scaleY) && data.scaleY !== imageData.scaleY) {\n          imageData.scaleY = data.scaleY;\n          transformed = true;\n        }\n      }\n\n      if (transformed) {\n        this.renderCanvas(true, true);\n      }\n\n      var ratio = imageData.width / imageData.naturalWidth;\n\n      if (isNumber(data.x)) {\n        cropBoxData.left = data.x * ratio + canvasData.left;\n      }\n\n      if (isNumber(data.y)) {\n        cropBoxData.top = data.y * ratio + canvasData.top;\n      }\n\n      if (isNumber(data.width)) {\n        cropBoxData.width = data.width * ratio;\n      }\n\n      if (isNumber(data.height)) {\n        cropBoxData.height = data.height * ratio;\n      }\n\n      this.setCropBoxData(cropBoxData);\n    }\n\n    return this;\n  },\n\n\n  /**\n   * Get the container size data.\n   * @returns {Object} The result container data.\n   */\n  getContainerData: function getContainerData() {\n    return this.ready ? assign({}, this.containerData) : {};\n  },\n\n\n  /**\n   * Get the image position and size data.\n   * @returns {Object} The result image data.\n   */\n  getImageData: function getImageData() {\n    return this.sized ? assign({}, this.imageData) : {};\n  },\n\n\n  /**\n   * Get the canvas position and size data.\n   * @returns {Object} The result canvas data.\n   */\n  getCanvasData: function getCanvasData() {\n    var canvasData = this.canvasData;\n\n    var data = {};\n\n    if (this.ready) {\n      forEach(['left', 'top', 'width', 'height', 'naturalWidth', 'naturalHeight'], function (n) {\n        data[n] = canvasData[n];\n      });\n    }\n\n    return data;\n  },\n\n\n  /**\n   * Set the canvas position and size with new data.\n   * @param {Object} data - The new canvas data.\n   * @returns {Cropper} this\n   */\n  setCanvasData: function setCanvasData(data) {\n    var canvasData = this.canvasData;\n    var aspectRatio = canvasData.aspectRatio;\n\n\n    if (this.ready && !this.disabled && isPlainObject(data)) {\n      if (isNumber(data.left)) {\n        canvasData.left = data.left;\n      }\n\n      if (isNumber(data.top)) {\n        canvasData.top = data.top;\n      }\n\n      if (isNumber(data.width)) {\n        canvasData.width = data.width;\n        canvasData.height = data.width / aspectRatio;\n      } else if (isNumber(data.height)) {\n        canvasData.height = data.height;\n        canvasData.width = data.height * aspectRatio;\n      }\n\n      this.renderCanvas(true);\n    }\n\n    return this;\n  },\n\n\n  /**\n   * Get the crop box position and size data.\n   * @returns {Object} The result crop box data.\n   */\n  getCropBoxData: function getCropBoxData() {\n    var cropBoxData = this.cropBoxData;\n\n    var data = void 0;\n\n    if (this.ready && this.cropped) {\n      data = {\n        left: cropBoxData.left,\n        top: cropBoxData.top,\n        width: cropBoxData.width,\n        height: cropBoxData.height\n      };\n    }\n\n    return data || {};\n  },\n\n\n  /**\n   * Set the crop box position and size with new data.\n   * @param {Object} data - The new crop box data.\n   * @returns {Cropper} this\n   */\n  setCropBoxData: function setCropBoxData(data) {\n    var cropBoxData = this.cropBoxData;\n    var aspectRatio = this.options.aspectRatio;\n\n    var widthChanged = void 0;\n    var heightChanged = void 0;\n\n    if (this.ready && this.cropped && !this.disabled && isPlainObject(data)) {\n      if (isNumber(data.left)) {\n        cropBoxData.left = data.left;\n      }\n\n      if (isNumber(data.top)) {\n        cropBoxData.top = data.top;\n      }\n\n      if (isNumber(data.width) && data.width !== cropBoxData.width) {\n        widthChanged = true;\n        cropBoxData.width = data.width;\n      }\n\n      if (isNumber(data.height) && data.height !== cropBoxData.height) {\n        heightChanged = true;\n        cropBoxData.height = data.height;\n      }\n\n      if (aspectRatio) {\n        if (widthChanged) {\n          cropBoxData.height = cropBoxData.width / aspectRatio;\n        } else if (heightChanged) {\n          cropBoxData.width = cropBoxData.height * aspectRatio;\n        }\n      }\n\n      this.renderCropBox();\n    }\n\n    return this;\n  },\n\n\n  /**\n   * Get a canvas drawn the cropped image.\n   * @param {Object} [options={}] - The config options.\n   * @returns {HTMLCanvasElement} - The result canvas.\n   */\n  getCroppedCanvas: function getCroppedCanvas() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    if (!this.ready || !window.HTMLCanvasElement) {\n      return null;\n    }\n\n    var canvasData = this.canvasData;\n\n    var source = getSourceCanvas(this.image, this.imageData, canvasData, options);\n\n    // Returns the source canvas if it is not cropped.\n    if (!this.cropped) {\n      return source;\n    }\n\n    var _getData = this.getData(),\n        initialX = _getData.x,\n        initialY = _getData.y,\n        initialWidth = _getData.width,\n        initialHeight = _getData.height;\n\n    var ratio = source.width / Math.floor(canvasData.naturalWidth);\n\n    if (ratio !== 1) {\n      initialX *= ratio;\n      initialY *= ratio;\n      initialWidth *= ratio;\n      initialHeight *= ratio;\n    }\n\n    var aspectRatio = initialWidth / initialHeight;\n    var maxSizes = getAdjustedSizes({\n      aspectRatio: aspectRatio,\n      width: options.maxWidth || Infinity,\n      height: options.maxHeight || Infinity\n    });\n    var minSizes = getAdjustedSizes({\n      aspectRatio: aspectRatio,\n      width: options.minWidth || 0,\n      height: options.minHeight || 0\n    }, 'cover');\n\n    var _getAdjustedSizes = getAdjustedSizes({\n      aspectRatio: aspectRatio,\n      width: options.width || (ratio !== 1 ? source.width : initialWidth),\n      height: options.height || (ratio !== 1 ? source.height : initialHeight)\n    }),\n        width = _getAdjustedSizes.width,\n        height = _getAdjustedSizes.height;\n\n    width = Math.min(maxSizes.width, Math.max(minSizes.width, width));\n    height = Math.min(maxSizes.height, Math.max(minSizes.height, height));\n\n    var canvas = document.createElement('canvas');\n    var context = canvas.getContext('2d');\n\n    canvas.width = normalizeDecimalNumber(width);\n    canvas.height = normalizeDecimalNumber(height);\n\n    context.fillStyle = options.fillColor || 'transparent';\n    context.fillRect(0, 0, width, height);\n\n    var _options$imageSmoothi = options.imageSmoothingEnabled,\n        imageSmoothingEnabled = _options$imageSmoothi === undefined ? true : _options$imageSmoothi,\n        imageSmoothingQuality = options.imageSmoothingQuality;\n\n\n    context.imageSmoothingEnabled = imageSmoothingEnabled;\n\n    if (imageSmoothingQuality) {\n      context.imageSmoothingQuality = imageSmoothingQuality;\n    }\n\n    // https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D.drawImage\n    var sourceWidth = source.width;\n    var sourceHeight = source.height;\n\n    // Source canvas parameters\n    var srcX = initialX;\n    var srcY = initialY;\n    var srcWidth = void 0;\n    var srcHeight = void 0;\n\n    // Destination canvas parameters\n    var dstX = void 0;\n    var dstY = void 0;\n    var dstWidth = void 0;\n    var dstHeight = void 0;\n\n    if (srcX <= -initialWidth || srcX > sourceWidth) {\n      srcX = 0;\n      srcWidth = 0;\n      dstX = 0;\n      dstWidth = 0;\n    } else if (srcX <= 0) {\n      dstX = -srcX;\n      srcX = 0;\n      srcWidth = Math.min(sourceWidth, initialWidth + srcX);\n      dstWidth = srcWidth;\n    } else if (srcX <= sourceWidth) {\n      dstX = 0;\n      srcWidth = Math.min(initialWidth, sourceWidth - srcX);\n      dstWidth = srcWidth;\n    }\n\n    if (srcWidth <= 0 || srcY <= -initialHeight || srcY > sourceHeight) {\n      srcY = 0;\n      srcHeight = 0;\n      dstY = 0;\n      dstHeight = 0;\n    } else if (srcY <= 0) {\n      dstY = -srcY;\n      srcY = 0;\n      srcHeight = Math.min(sourceHeight, initialHeight + srcY);\n      dstHeight = srcHeight;\n    } else if (srcY <= sourceHeight) {\n      dstY = 0;\n      srcHeight = Math.min(initialHeight, sourceHeight - srcY);\n      dstHeight = srcHeight;\n    }\n\n    var params = [srcX, srcY, srcWidth, srcHeight];\n\n    // Avoid \"IndexSizeError\"\n    if (dstWidth > 0 && dstHeight > 0) {\n      var scale = width / initialWidth;\n\n      params.push(dstX * scale, dstY * scale, dstWidth * scale, dstHeight * scale);\n    }\n\n    // All the numerical parameters should be integer for `drawImage`\n    // https://github.com/fengyuanchen/cropper/issues/476\n    context.drawImage.apply(context, [source].concat(toConsumableArray(params.map(function (param) {\n      return Math.floor(normalizeDecimalNumber(param));\n    }))));\n\n    return canvas;\n  },\n\n\n  /**\n   * Change the aspect ratio of the crop box.\n   * @param {number} aspectRatio - The new aspect ratio.\n   * @returns {Cropper} this\n   */\n  setAspectRatio: function setAspectRatio(aspectRatio) {\n    var options = this.options;\n\n\n    if (!this.disabled && !isUndefined(aspectRatio)) {\n      // 0 -> NaN\n      options.aspectRatio = Math.max(0, aspectRatio) || NaN;\n\n      if (this.ready) {\n        this.initCropBox();\n\n        if (this.cropped) {\n          this.renderCropBox();\n        }\n      }\n    }\n\n    return this;\n  },\n\n\n  /**\n   * Change the drag mode.\n   * @param {string} mode - The new drag mode.\n   * @returns {Cropper} this\n   */\n  setDragMode: function setDragMode(mode) {\n    var options = this.options,\n        dragBox = this.dragBox,\n        face = this.face;\n\n\n    if (this.ready && !this.disabled) {\n      var croppable = mode === DRAG_MODE_CROP;\n      var movable = options.movable && mode === DRAG_MODE_MOVE;\n\n      mode = croppable || movable ? mode : DRAG_MODE_NONE;\n\n      options.dragMode = mode;\n      setData(dragBox, DATA_ACTION, mode);\n      toggleClass(dragBox, CLASS_CROP, croppable);\n      toggleClass(dragBox, CLASS_MOVE, movable);\n\n      if (!options.cropBoxMovable) {\n        // Sync drag mode to crop box when it is not movable\n        setData(face, DATA_ACTION, mode);\n        toggleClass(face, CLASS_CROP, croppable);\n        toggleClass(face, CLASS_MOVE, movable);\n      }\n    }\n\n    return this;\n  }\n};\n\nvar AnotherCropper = WINDOW.Cropper;\n\nvar Cropper = function () {\n  /**\n   * Create a new Cropper.\n   * @param {Element} element - The target element for cropping.\n   * @param {Object} [options={}] - The configuration options.\n   */\n  function Cropper(element) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    classCallCheck(this, Cropper);\n\n    if (!element || !REGEXP_TAG_NAME.test(element.tagName)) {\n      throw new Error('The first argument is required and must be an <img> or <canvas> element.');\n    }\n\n    this.element = element;\n    this.options = assign({}, DEFAULTS, isPlainObject(options) && options);\n    this.cropped = false;\n    this.disabled = false;\n    this.pointers = {};\n    this.ready = false;\n    this.reloading = false;\n    this.replaced = false;\n    this.sized = false;\n    this.sizing = false;\n    this.init();\n  }\n\n  createClass(Cropper, [{\n    key: 'init',\n    value: function init() {\n      var element = this.element;\n\n      var tagName = element.tagName.toLowerCase();\n      var url = void 0;\n\n      if (getData(element, NAMESPACE)) {\n        return;\n      }\n\n      setData(element, NAMESPACE, this);\n\n      if (tagName === 'img') {\n        this.isImg = true;\n\n        // e.g.: \"img/picture.jpg\"\n        url = element.getAttribute('src') || '';\n        this.originalUrl = url;\n\n        // Stop when it's a blank image\n        if (!url) {\n          return;\n        }\n\n        // e.g.: \"http://example.com/img/picture.jpg\"\n        url = element.src;\n      } else if (tagName === 'canvas' && window.HTMLCanvasElement) {\n        url = element.toDataURL();\n      }\n\n      this.load(url);\n    }\n  }, {\n    key: 'load',\n    value: function load(url) {\n      var _this = this;\n\n      if (!url) {\n        return;\n      }\n\n      this.url = url;\n      this.imageData = {};\n\n      var element = this.element,\n          options = this.options;\n\n\n      if (!options.rotatable && !options.scalable) {\n        options.checkOrientation = false;\n      }\n\n      if (!options.checkOrientation || !window.ArrayBuffer) {\n        this.clone();\n        return;\n      }\n\n      // XMLHttpRequest disallows to open a Data URL in some browsers like IE11 and Safari\n      if (REGEXP_DATA_URL.test(url)) {\n        if (REGEXP_DATA_URL_JPEG.test(url)) {\n          this.read(dataURLToArrayBuffer(url));\n        } else {\n          this.clone();\n        }\n\n        return;\n      }\n\n      var xhr = new XMLHttpRequest();\n\n      this.reloading = true;\n      this.xhr = xhr;\n\n      var done = function done() {\n        _this.reloading = false;\n        _this.xhr = null;\n      };\n\n      xhr.ontimeout = done;\n      xhr.onabort = done;\n      xhr.onerror = function () {\n        done();\n        _this.clone();\n      };\n\n      xhr.onload = function () {\n        done();\n        _this.read(xhr.response);\n      };\n\n      // Bust cache when there is a \"crossOrigin\" property\n      if (options.checkCrossOrigin && isCrossOriginURL(url) && element.crossOrigin) {\n        url = addTimestamp(url);\n      }\n\n      xhr.open('get', url);\n      xhr.responseType = 'arraybuffer';\n      xhr.withCredentials = element.crossOrigin === 'use-credentials';\n      xhr.send();\n    }\n  }, {\n    key: 'read',\n    value: function read(arrayBuffer) {\n      var options = this.options,\n          imageData = this.imageData;\n\n      var orientation = getOrientation(arrayBuffer);\n      var rotate = 0;\n      var scaleX = 1;\n      var scaleY = 1;\n\n      if (orientation > 1) {\n        this.url = arrayBufferToDataURL(arrayBuffer, 'image/jpeg');\n\n        var _parseOrientation = parseOrientation(orientation);\n\n        rotate = _parseOrientation.rotate;\n        scaleX = _parseOrientation.scaleX;\n        scaleY = _parseOrientation.scaleY;\n      }\n\n      if (options.rotatable) {\n        imageData.rotate = rotate;\n      }\n\n      if (options.scalable) {\n        imageData.scaleX = scaleX;\n        imageData.scaleY = scaleY;\n      }\n\n      this.clone();\n    }\n  }, {\n    key: 'clone',\n    value: function clone() {\n      var element = this.element,\n          url = this.url;\n\n      var crossOrigin = void 0;\n      var crossOriginUrl = void 0;\n\n      if (this.options.checkCrossOrigin && isCrossOriginURL(url)) {\n        crossOrigin = element.crossOrigin;\n\n\n        if (crossOrigin) {\n          crossOriginUrl = url;\n        } else {\n          crossOrigin = 'anonymous';\n\n          // Bust cache when there is not a \"crossOrigin\" property\n          crossOriginUrl = addTimestamp(url);\n        }\n      }\n\n      this.crossOrigin = crossOrigin;\n      this.crossOriginUrl = crossOriginUrl;\n\n      var image = document.createElement('img');\n\n      if (crossOrigin) {\n        image.crossOrigin = crossOrigin;\n      }\n\n      image.src = crossOriginUrl || url;\n      this.image = image;\n      image.onload = this.start.bind(this);\n      image.onerror = this.stop.bind(this);\n      addClass(image, CLASS_HIDE);\n      element.parentNode.insertBefore(image, element.nextSibling);\n    }\n  }, {\n    key: 'start',\n    value: function start() {\n      var _this2 = this;\n\n      var image = this.isImg ? this.element : this.image;\n\n      image.onload = null;\n      image.onerror = null;\n      this.sizing = true;\n\n      var IS_SAFARI = WINDOW.navigator && /(Macintosh|iPhone|iPod|iPad).*AppleWebKit/i.test(WINDOW.navigator.userAgent);\n      var done = function done(naturalWidth, naturalHeight) {\n        assign(_this2.imageData, {\n          naturalWidth: naturalWidth,\n          naturalHeight: naturalHeight,\n          aspectRatio: naturalWidth / naturalHeight\n        });\n        _this2.sizing = false;\n        _this2.sized = true;\n        _this2.build();\n      };\n\n      // Modern browsers (except Safari)\n      if (image.naturalWidth && !IS_SAFARI) {\n        done(image.naturalWidth, image.naturalHeight);\n        return;\n      }\n\n      var sizingImage = document.createElement('img');\n      var body = document.body || document.documentElement;\n\n      this.sizingImage = sizingImage;\n\n      sizingImage.onload = function () {\n        done(sizingImage.width, sizingImage.height);\n\n        if (!IS_SAFARI) {\n          body.removeChild(sizingImage);\n        }\n      };\n\n      sizingImage.src = image.src;\n\n      // iOS Safari will convert the image automatically\n      // with its orientation once append it into DOM (#279)\n      if (!IS_SAFARI) {\n        sizingImage.style.cssText = 'left:0;' + 'max-height:none!important;' + 'max-width:none!important;' + 'min-height:0!important;' + 'min-width:0!important;' + 'opacity:0;' + 'position:absolute;' + 'top:0;' + 'z-index:-1;';\n        body.appendChild(sizingImage);\n      }\n    }\n  }, {\n    key: 'stop',\n    value: function stop() {\n      var image = this.image;\n\n\n      image.onload = null;\n      image.onerror = null;\n      image.parentNode.removeChild(image);\n      this.image = null;\n    }\n  }, {\n    key: 'build',\n    value: function build() {\n      if (!this.sized || this.ready) {\n        return;\n      }\n\n      var element = this.element,\n          options = this.options,\n          image = this.image;\n\n      // Create cropper elements\n\n      var container = element.parentNode;\n      var template = document.createElement('div');\n\n      template.innerHTML = TEMPLATE;\n\n      var cropper = template.querySelector('.' + NAMESPACE + '-container');\n      var canvas = cropper.querySelector('.' + NAMESPACE + '-canvas');\n      var dragBox = cropper.querySelector('.' + NAMESPACE + '-drag-box');\n      var cropBox = cropper.querySelector('.' + NAMESPACE + '-crop-box');\n      var face = cropBox.querySelector('.' + NAMESPACE + '-face');\n\n      this.container = container;\n      this.cropper = cropper;\n      this.canvas = canvas;\n      this.dragBox = dragBox;\n      this.cropBox = cropBox;\n      this.viewBox = cropper.querySelector('.' + NAMESPACE + '-view-box');\n      this.face = face;\n\n      canvas.appendChild(image);\n\n      // Hide the original image\n      addClass(element, CLASS_HIDDEN);\n\n      // Inserts the cropper after to the current image\n      container.insertBefore(cropper, element.nextSibling);\n\n      // Show the image if is hidden\n      if (!this.isImg) {\n        removeClass(image, CLASS_HIDE);\n      }\n\n      this.initPreview();\n      this.bind();\n\n      options.initialAspectRatio = Math.max(0, options.initialAspectRatio) || NaN;\n      options.aspectRatio = Math.max(0, options.aspectRatio) || NaN;\n      options.viewMode = Math.max(0, Math.min(3, Math.round(options.viewMode))) || 0;\n\n      addClass(cropBox, CLASS_HIDDEN);\n\n      if (!options.guides) {\n        addClass(cropBox.getElementsByClassName(NAMESPACE + '-dashed'), CLASS_HIDDEN);\n      }\n\n      if (!options.center) {\n        addClass(cropBox.getElementsByClassName(NAMESPACE + '-center'), CLASS_HIDDEN);\n      }\n\n      if (options.background) {\n        addClass(cropper, NAMESPACE + '-bg');\n      }\n\n      if (!options.highlight) {\n        addClass(face, CLASS_INVISIBLE);\n      }\n\n      if (options.cropBoxMovable) {\n        addClass(face, CLASS_MOVE);\n        setData(face, DATA_ACTION, ACTION_ALL);\n      }\n\n      if (!options.cropBoxResizable) {\n        addClass(cropBox.getElementsByClassName(NAMESPACE + '-line'), CLASS_HIDDEN);\n        addClass(cropBox.getElementsByClassName(NAMESPACE + '-point'), CLASS_HIDDEN);\n      }\n\n      this.render();\n      this.ready = true;\n      this.setDragMode(options.dragMode);\n\n      if (options.autoCrop) {\n        this.crop();\n      }\n\n      this.setData(options.data);\n\n      if (isFunction(options.ready)) {\n        addListener(element, EVENT_READY, options.ready, {\n          once: true\n        });\n      }\n\n      dispatchEvent(element, EVENT_READY);\n    }\n  }, {\n    key: 'unbuild',\n    value: function unbuild() {\n      if (!this.ready) {\n        return;\n      }\n\n      this.ready = false;\n      this.unbind();\n      this.resetPreview();\n      this.cropper.parentNode.removeChild(this.cropper);\n      removeClass(this.element, CLASS_HIDDEN);\n    }\n  }, {\n    key: 'uncreate',\n    value: function uncreate() {\n      if (this.ready) {\n        this.unbuild();\n        this.ready = false;\n        this.cropped = false;\n      } else if (this.sizing) {\n        this.sizingImage.onload = null;\n        this.sizing = false;\n        this.sized = false;\n      } else if (this.reloading) {\n        this.xhr.abort();\n      } else if (this.image) {\n        this.stop();\n      }\n    }\n\n    /**\n     * Get the no conflict cropper class.\n     * @returns {Cropper} The cropper class.\n     */\n\n  }], [{\n    key: 'noConflict',\n    value: function noConflict() {\n      window.Cropper = AnotherCropper;\n      return Cropper;\n    }\n\n    /**\n     * Change the default options.\n     * @param {Object} options - The new default options.\n     */\n\n  }, {\n    key: 'setDefaults',\n    value: function setDefaults(options) {\n      assign(DEFAULTS, isPlainObject(options) && options);\n    }\n  }]);\n  return Cropper;\n}();\n\nassign(Cropper.prototype, render, preview, events, handlers, change, methods);\n\nexport default Cropper;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/cropperjs/dist/cropper.esm.js\n// module id = 2622\n// module chunks = 18 53","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/index.js??ref--1-oneOf-3-2!../../../../node_modules/postcss-loader/lib/index.js??postcss!../../../../node_modules/sass-loader/lib/loader.js!./EditorModal.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// Prepare cssTransformation\nvar transform;\n\nvar options = {\"hmr\":true}\noptions.transform = transform\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../../node_modules/css-loader/index.js??ref--1-oneOf-3-2!../../../../node_modules/postcss-loader/lib/index.js??postcss!../../../../node_modules/sass-loader/lib/loader.js!./EditorModal.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../../../node_modules/css-loader/index.js??ref--1-oneOf-3-2!../../../../node_modules/postcss-loader/lib/index.js??postcss!../../../../node_modules/sass-loader/lib/loader.js!./EditorModal.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/Shared/components/SingleImageUploader/EditorModal.scss\n// module id = 2623\n// module chunks = 18 53","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \".editor-modal-mobile__modal-buttons{margin-top:20px;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between}.editor-modal-mobile__modal-buttons .button{height:45px;line-height:45px;padding:0;text-align:center;width:100%}.editor-modal-mobile__modal-buttons .button+.button{margin-left:10px}\", \"\", {\"version\":3,\"sources\":[\"C:/projects/oliv-frontend/src/Shared/components/SingleImageUploader/EditorModal.scss\"],\"names\":[],\"mappings\":\"AAAA,oCACE,gBAAiB,AACjB,oBAAqB,AACrB,aAAc,AACd,sBAAuB,AACnB,6BAA+B,CAAE,AACrC,4CACE,YAAa,AACb,iBAAkB,AAClB,UAAW,AACX,kBAAmB,AACnB,UAAY,CAAE,AAChB,oDACE,gBAAkB,CAAE\",\"file\":\"EditorModal.scss\",\"sourcesContent\":[\".editor-modal-mobile__modal-buttons {\\n  margin-top: 20px;\\n  display: -ms-flexbox;\\n  display: flex;\\n  -ms-flex-pack: justify;\\n      justify-content: space-between; }\\n  .editor-modal-mobile__modal-buttons .button {\\n    height: 45px;\\n    line-height: 45px;\\n    padding: 0;\\n    text-align: center;\\n    width: 100%; }\\n  .editor-modal-mobile__modal-buttons .button + .button {\\n    margin-left: 10px; }\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader?{\"importLoaders\":1,\"minimize\":true,\"sourceMap\":true}!./node_modules/postcss-loader/lib?{\"ident\":\"postcss\",\"plugins\":[null,null]}!./node_modules/sass-loader/lib/loader.js!./src/Shared/components/SingleImageUploader/EditorModal.scss\n// module id = 2624\n// module chunks = 18 53","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport Dropzone from 'react-dropzone'\r\nimport { PrimaryButtonOutline } from 'Shared/components/Button'\r\nimport withTranslations from 'Shared/hoc/withTranslations/index'\r\nimport './UploadButton.scss'\r\n\r\nclass Uploader extends Component {\r\n  static propTypes = {\r\n    children: PropTypes.node,\r\n    onDrop: PropTypes.func,\r\n    onDropAccepted: PropTypes.func,\r\n    acceptedFormats: PropTypes.string,\r\n    maxFileSize: PropTypes.number\r\n  }\r\n\r\n  render () {\r\n    const { t, onDrop, onDropAccepted, acceptedFormats, maxFileSize, uploadButtonText, customButton, customButtonChildren } = this.props\r\n\r\n    const CustomButton = customButton\r\n\r\n    return (\r\n      <div className='single-file-uploader__button'>\r\n        <Dropzone\r\n          maxSize={maxFileSize}\r\n          accept={acceptedFormats}\r\n          onDropAccepted={onDropAccepted}\r\n          className='single-file-uploader__button'\r\n          activeClassName='single-file-uploader__button--active'\r\n          disableClick\r\n          ref={(node) => {\r\n            this.dropzoneRef = node\r\n          }}\r\n          onDrop={onDrop}\r\n        >\r\n          {\r\n            customButton ? (\r\n              <CustomButton onClick={() => this.dropzoneRef.open()}>{customButtonChildren}</CustomButton>\r\n            ) : (\r\n              <PrimaryButtonOutline onClick={() => this.dropzoneRef.open()}>{t(uploadButtonText)}</PrimaryButtonOutline>\r\n            )\r\n          }\r\n        </Dropzone>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default withTranslations(Uploader)\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/Shared/components/SingleImageUploader/UploadButton.js","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/index.js??ref--1-oneOf-3-2!../../../../node_modules/postcss-loader/lib/index.js??postcss!../../../../node_modules/sass-loader/lib/loader.js!./UploadButton.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// Prepare cssTransformation\nvar transform;\n\nvar options = {\"hmr\":true}\noptions.transform = transform\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../../node_modules/css-loader/index.js??ref--1-oneOf-3-2!../../../../node_modules/postcss-loader/lib/index.js??postcss!../../../../node_modules/sass-loader/lib/loader.js!./UploadButton.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../../../node_modules/css-loader/index.js??ref--1-oneOf-3-2!../../../../node_modules/postcss-loader/lib/index.js??postcss!../../../../node_modules/sass-loader/lib/loader.js!./UploadButton.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/Shared/components/SingleImageUploader/UploadButton.scss\n// module id = 2626\n// module chunks = 18 53","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \".single-file-uploader__button{display:inline-block}.file-input__button--upload{cursor:pointer;color:#4353ff;font-weight:700}\", \"\", {\"version\":3,\"sources\":[\"C:/projects/oliv-frontend/src/Shared/components/SingleImageUploader/UploadButton.scss\"],\"names\":[],\"mappings\":\"AAAA,8BACE,oBAAsB,CAAE,AAE1B,4BACE,eAAgB,AAChB,cAAe,AACf,eAAiB,CAAE\",\"file\":\"UploadButton.scss\",\"sourcesContent\":[\".single-file-uploader__button {\\n  display: inline-block; }\\n\\n.file-input__button--upload {\\n  cursor: pointer;\\n  color: #4353ff;\\n  font-weight: 700; }\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader?{\"importLoaders\":1,\"minimize\":true,\"sourceMap\":true}!./node_modules/postcss-loader/lib?{\"ident\":\"postcss\",\"plugins\":[null,null]}!./node_modules/sass-loader/lib/loader.js!./src/Shared/components/SingleImageUploader/UploadButton.scss\n// module id = 2627\n// module chunks = 18 53","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport Dropzone from 'react-dropzone'\r\nimport { Interpolate } from 'react-i18next'\r\nimport withTranslations from 'Shared/hoc/withTranslations/index'\r\nimport './Uploader.scss'\r\n\r\nclass Uploader extends Component {\r\n  static propTypes = {\r\n    children: PropTypes.node,\r\n    onDrop: PropTypes.func,\r\n    onDropAccepted: PropTypes.func,\r\n    acceptedFormats: PropTypes.string,\r\n    maxFileSize: PropTypes.number,\r\n    i18nContentKey: PropTypes.string,\r\n    uploadButtonText: PropTypes.string\r\n  }\r\n\r\n  static defaultProps = {\r\n    multiple: true\r\n  }\r\n\r\n  uploadButton = <span className='file-input__button--upload' onClick={() => this.dropzoneRef.open()}>{this.props.t('common.choose')}</span>\r\n\r\n  render () {\r\n    const { children, onDrop, onDropAccepted, acceptedFormats, maxFileSize, i18nContentKey, multiple } = this.props\r\n\r\n    return (\r\n      <div className='single-file-uploader'>\r\n        <Dropzone\r\n          {...this.props.input}\r\n          maxSize={maxFileSize}\r\n          multiple={multiple}\r\n          accept={acceptedFormats}\r\n          onDropAccepted={onDropAccepted}\r\n          className='file-input__dropzone'\r\n          activeClassName='file-input__dropzone--active'\r\n          disableClick\r\n          ref={(node) => {\r\n            this.dropzoneRef = node\r\n          }}\r\n          onDrop={onDrop}\r\n        >\r\n          <div className='file-input__container'>\r\n            <div className='file-input__drop-area'>\r\n              <i className='icon-im-upload' />\r\n              <Interpolate\r\n                parent='div'\r\n                i18nKey={i18nContentKey}\r\n                className='file-input__description'\r\n                uploadButton={this.uploadButton}\r\n              />\r\n            </div>\r\n          </div>\r\n        </Dropzone>\r\n        {children}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default withTranslations(Uploader)\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/Shared/components/SingleImageUploader/Uploader.js","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/index.js??ref--1-oneOf-3-2!../../../../node_modules/postcss-loader/lib/index.js??postcss!../../../../node_modules/sass-loader/lib/loader.js!./Uploader.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// Prepare cssTransformation\nvar transform;\n\nvar options = {\"hmr\":true}\noptions.transform = transform\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../../node_modules/css-loader/index.js??ref--1-oneOf-3-2!../../../../node_modules/postcss-loader/lib/index.js??postcss!../../../../node_modules/sass-loader/lib/loader.js!./Uploader.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../../../node_modules/css-loader/index.js??ref--1-oneOf-3-2!../../../../node_modules/postcss-loader/lib/index.js??postcss!../../../../node_modules/sass-loader/lib/loader.js!./Uploader.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/Shared/components/SingleImageUploader/Uploader.scss\n// module id = 3260\n// module chunks = 18","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \".file-input__container{display:-ms-flexbox;display:flex;position:relative;border:2px dashed #d7dde0;border-radius:4px;width:100%;padding:40px 24px 60px;-webkit-transition:all .3s ease;-o-transition:.3s all ease;transition:all .3s ease;-ms-flex:1 0 auto;flex:1 0 auto;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;text-align:center}.file-input__dropzone--active i{color:#4353ff}.file-input__dropzone--active .file-input__container{border-color:#4353ff;background-color:rgba(67,83,255,.05)}.file-input__drop-area{color:#c2c6c9;font-size:14px}.file-input__drop-area>i{font-size:48px;-webkit-transition:all .3s ease;-o-transition:.3s all ease;transition:all .3s ease;margin-bottom:16px;display:block}.file-input__description{max-width:280px}.single-file-uploader__wrapper--error .file-input__container{border:2px dashed #f5456e}.single-file-uploader__wrapper--error .single-file-uploader__label{color:#f5456e}\", \"\", {\"version\":3,\"sources\":[\"C:/projects/oliv-frontend/src/Shared/components/SingleImageUploader/Uploader.scss\"],\"names\":[],\"mappings\":\"AAAA,uBACE,oBAAqB,AACrB,aAAc,AACd,kBAAmB,AACnB,0BAA2B,AAC3B,kBAAmB,AACnB,WAAY,AACZ,uBAAwB,AACxB,gCAAiC,AACjC,2BAA4B,AAC5B,wBAAyB,AACzB,kBAAmB,AACf,cAAe,AACnB,sBAAuB,AACnB,mBAAoB,AACxB,qBAAsB,AAClB,uBAAwB,AAC5B,iBAAmB,CAAE,AAEvB,gCACE,aAAe,CAAE,AAEnB,qDACE,qBAAsB,AACtB,oCAA0C,CAAE,AAE9C,uBACE,cAAe,AACf,cAAgB,CAAE,AAClB,yBACE,eAAgB,AAChB,gCAAiC,AACjC,2BAA4B,AAC5B,wBAAyB,AACzB,mBAAoB,AACpB,aAAe,CAAE,AAErB,yBACE,eAAiB,CAAE,AAErB,6DACE,yBAA2B,CAAE,AAE/B,mEACE,aAAe,CAAE\",\"file\":\"Uploader.scss\",\"sourcesContent\":[\".file-input__container {\\n  display: -ms-flexbox;\\n  display: flex;\\n  position: relative;\\n  border: 2px dashed #d7dde0;\\n  border-radius: 4px;\\n  width: 100%;\\n  padding: 40px 24px 60px;\\n  -webkit-transition: .3s all ease;\\n  -o-transition: .3s all ease;\\n  transition: .3s all ease;\\n  -ms-flex: 1 0 auto;\\n      flex: 1 0 auto;\\n  -ms-flex-align: center;\\n      align-items: center;\\n  -ms-flex-pack: center;\\n      justify-content: center;\\n  text-align: center; }\\n\\n.file-input__dropzone--active i {\\n  color: #4353ff; }\\n\\n.file-input__dropzone--active .file-input__container {\\n  border-color: #4353ff;\\n  background-color: rgba(67, 83, 255, 0.05); }\\n\\n.file-input__drop-area {\\n  color: #c2c6c9;\\n  font-size: 14px; }\\n  .file-input__drop-area > i {\\n    font-size: 48px;\\n    -webkit-transition: .3s all ease;\\n    -o-transition: .3s all ease;\\n    transition: .3s all ease;\\n    margin-bottom: 16px;\\n    display: block; }\\n\\n.file-input__description {\\n  max-width: 280px; }\\n\\n.single-file-uploader__wrapper--error .file-input__container {\\n  border: 2px dashed #f5456e; }\\n\\n.single-file-uploader__wrapper--error .single-file-uploader__label {\\n  color: #f5456e; }\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader?{\"importLoaders\":1,\"minimize\":true,\"sourceMap\":true}!./node_modules/postcss-loader/lib?{\"ident\":\"postcss\",\"plugins\":[null,null]}!./node_modules/sass-loader/lib/loader.js!./src/Shared/components/SingleImageUploader/Uploader.scss\n// module id = 3261\n// module chunks = 18","import React, { Component } from 'react'\r\nimport cx from 'classnames'\r\nimport PropTypes from 'prop-types'\r\nimport withTranslations from 'Shared/hoc/withTranslations'\r\nimport Label from 'Shared/components/FormElements/Label'\r\nimport Button, { BigJustIconButton } from 'Shared/components/Button'\r\nimport { getAcceptedAvatarFormats, MAX_UPLOAD_FILE_SIZE } from 'Shared/constants/S3'\r\nimport UploadButton from './UploadButton'\r\nimport DeleteModal from 'Shared/components/DeleteModal'\r\nimport { CROP_SIZES } from 'Shared/constants/Files'\r\nimport './UploadedSingleFileWrapper.scss'\r\n\r\nclass UploadedSingleFileWrapper extends Component {\r\n  static propTypes = {\r\n    layout: PropTypes.string,\r\n    img: PropTypes.string.isRequired,\r\n    filename: PropTypes.string.isRequired,\r\n    onDelete: PropTypes.func.isRequired,\r\n    onDropAccepted: PropTypes.func.isRequired,\r\n    onDrop: PropTypes.func.isRequired,\r\n    deleteModalTitle: PropTypes.string.isRequired,\r\n    deleteModalContent: PropTypes.string.isRequired\r\n  }\r\n\r\n  static defaultProps = {\r\n    sizeConstraints: CROP_SIZES.AVATAR\r\n  }\r\n\r\n  constructor (props) {\r\n    super(props)\r\n    this.state = {\r\n      showDeleteModal: false\r\n    }\r\n  }\r\n\r\n  _openDeleteModal = () => this.setState({ showDeleteModal: true })\r\n  _hideDeleteModal = () => this.setState({ showDeleteModal: false })\r\n\r\n  renderUploadedFileByLayout = () => {\r\n    const {\r\n      t,\r\n      img,\r\n      filename,\r\n      onDropAccepted,\r\n      onDrop,\r\n      uploadButtonText,\r\n      layout\r\n    } = this.props\r\n\r\n    const [width, height] = this.props.sizeConstraints\r\n\r\n    const singleFileUploaderClass = cx({\r\n      'single-file-uploader__file-container': true,\r\n      'single-file-uploader__file-container--horizontal': layout === 'horizontal',\r\n      'single-file-uploader__file-container--vertical': layout === 'vertical'\r\n    })\r\n\r\n    const verticalImageStyles = {\r\n      backgroundImage: `url(${img})`,\r\n      paddingBottom: `${height / width * 100}%`\r\n    }\r\n\r\n    switch (true) {\r\n      case this.props.layout === 'horizontal':\r\n        return (\r\n          <div className={singleFileUploaderClass}>\r\n            <img className='single-file-uploader__file' src={img} alt='Uploaded image - Oliv' />\r\n            <div className='single-file-uploader__file-filename'>\r\n              <Label>{t('common.uploadedFile')}</Label>\r\n              <p className='single-file-uploader__file-name'>{filename}</p>\r\n            </div>\r\n            <div className='single-file-uploader__file-buttons'>\r\n              <Button onClick={this._openDeleteModal} justIcon><i className='ion-md-trash' /></Button>\r\n              <UploadButton\r\n                uploadButtonText={uploadButtonText}\r\n                onDrop={onDrop}\r\n                onDropAccepted={onDropAccepted}\r\n                acceptedFormats={getAcceptedAvatarFormats()}\r\n                maxFileSize={MAX_UPLOAD_FILE_SIZE}\r\n              />\r\n            </div>\r\n          </div>\r\n        )\r\n      case this.props.layout === 'profile':\r\n        return (\r\n          <div className='single-file-uploader__file-container--profile'>\r\n            <img\r\n              className='single-file-uploader__file--profile'\r\n              src={img}\r\n              alt='Uploaded image - Oliv'\r\n              style={{\r\n                width: '110px',\r\n                height: '110px',\r\n                borderRadius: '50%'\r\n              }}\r\n            />\r\n            <div className='single-file-uploader__file-buttons--profile'>\r\n              <UploadButton\r\n                customButton={BigJustIconButton}\r\n                customButtonChildren={<i className='icon-im-edit' />}\r\n                onDrop={onDrop}\r\n                onDropAccepted={onDropAccepted}\r\n                acceptedFormats={getAcceptedAvatarFormats()}\r\n                maxFileSize={MAX_UPLOAD_FILE_SIZE}\r\n              />\r\n              <BigJustIconButton onClick={this._openDeleteModal}><i className='ion-md-trash' /></BigJustIconButton>\r\n            </div>\r\n          </div>\r\n        )\r\n      default:\r\n        return (\r\n          <div className={singleFileUploaderClass}>\r\n            <div className='single-file-uploader__file' alt='Uploaded image - Oliv' style={verticalImageStyles} />\r\n            <div className='single-file-uploader__file-filename'>\r\n              <Label>{t('common.uploadedFile')}</Label>\r\n              <p className='single-file-uploader__file-name'>{filename}</p>\r\n            </div>\r\n            <div className='single-file-uploader__file-buttons'>\r\n              <Button onClick={this._openDeleteModal} justIcon><i className='ion-md-trash' /></Button>\r\n              <UploadButton\r\n                uploadButtonText={uploadButtonText}\r\n                onDrop={onDrop}\r\n                onDropAccepted={onDropAccepted}\r\n                acceptedFormats={getAcceptedAvatarFormats()}\r\n                maxFileSize={MAX_UPLOAD_FILE_SIZE}\r\n              />\r\n            </div>\r\n          </div>\r\n        )\r\n    }\r\n  }\r\n\r\n  render () {\r\n    const {\r\n      onDelete,\r\n      deleteModalTitle,\r\n      deleteModalContent\r\n    } = this.props\r\n\r\n    return (\r\n      <div>\r\n        {this.renderUploadedFileByLayout()}\r\n        <DeleteModal\r\n          title={deleteModalTitle}\r\n          content={deleteModalContent}\r\n          handleDelete={onDelete}\r\n          isModalVisible={this.state.showDeleteModal}\r\n          hideDeleteModal={this._hideDeleteModal}\r\n        />\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default withTranslations(UploadedSingleFileWrapper)\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/Shared/components/SingleImageUploader/UploadedSingleFileWrapper.js","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/index.js??ref--1-oneOf-3-2!../../../../node_modules/postcss-loader/lib/index.js??postcss!../../../../node_modules/sass-loader/lib/loader.js!./UploadedSingleFileWrapper.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// Prepare cssTransformation\nvar transform;\n\nvar options = {\"hmr\":true}\noptions.transform = transform\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../../node_modules/css-loader/index.js??ref--1-oneOf-3-2!../../../../node_modules/postcss-loader/lib/index.js??postcss!../../../../node_modules/sass-loader/lib/loader.js!./UploadedSingleFileWrapper.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../../../node_modules/css-loader/index.js??ref--1-oneOf-3-2!../../../../node_modules/postcss-loader/lib/index.js??postcss!../../../../node_modules/sass-loader/lib/loader.js!./UploadedSingleFileWrapper.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/Shared/components/SingleImageUploader/UploadedSingleFileWrapper.scss\n// module id = 3263\n// module chunks = 18","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \".single-file-uploader__file-container{position:relative;height:64px}.single-file-uploader__file-container--horizontal .single-file-uploader__file,.single-file-uploader__file-container--horizontal .single-file-uploader__file-buttons,.single-file-uploader__file-container--horizontal .single-file-uploader__file-filename{position:absolute;display:inline-block}.single-file-uploader__file-container--horizontal .single-file-uploader__file{height:64px;width:64px;border-radius:50%}.single-file-uploader__file-container--horizontal .single-file-uploader__file-buttons,.single-file-uploader__file-container--horizontal .single-file-uploader__file-filename{top:50%;-webkit-transform:translateY(-50%);-ms-transform:translateY(-50%);transform:translateY(-50%)}.single-file-uploader__file-container--horizontal .single-file-uploader__file-filename{padding-left:88px}.main--arabic .single-file-uploader__file-container--horizontal .single-file-uploader__file-filename{padding-right:88px;padding-left:0}.single-file-uploader__file-container--horizontal .single-file-uploader__file-filename p{overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis;white-space:nowrap;max-width:250px}.single-file-uploader__file-buttons{right:0}.main--arabic .single-file-uploader__file-buttons{right:auto;left:0}.single-file-uploader__file-buttons .button{margin-right:12px}.main--arabic .single-file-uploader__file-buttons .button{margin-right:0;margin-left:12px}.single-file-uploader__file-container--vertical{height:auto}.single-file-uploader__file-container--vertical .single-file-uploader__file-filename{margin-top:20px}.single-file-uploader__file-container--vertical .single-file-uploader__file{height:0;border-radius:4px;background-position:50%;background-size:cover}.form__group--has-error+div>.single-file-uploader .file-input__container--horizontal{border-color:#e85600}.single-file-uploader__file-container--profile{display:-ms-inline-flexbox;display:inline-flex;-ms-flex-pack:center;justify-content:center;-ms-flex-direction:column;flex-direction:column;-ms-flex-align:center;align-items:center;width:220px;height:220px;border-radius:4px;background-color:#f7f8fa;border:1px solid #dce1e4}.single-file-uploader__file--profile{width:110px;height:110px;border-radius:50%}.single-file-uploader__file-buttons--profile{display:-ms-inline-flexbox;display:inline-flex;width:110px;-ms-flex-pack:distribute;justify-content:space-around;margin-top:21px}\", \"\", {\"version\":3,\"sources\":[\"C:/projects/oliv-frontend/src/Shared/components/SingleImageUploader/UploadedSingleFileWrapper.scss\"],\"names\":[],\"mappings\":\"AAAA,sCACE,kBAAmB,AACnB,WAAa,CAAE,AAEjB,2PAGE,kBAAmB,AACnB,oBAAsB,CAAE,AAE1B,8EACE,YAAa,AACb,WAAY,AACZ,iBAAmB,CAAE,AAEvB,6KAEE,QAAS,AACT,mCAAoC,AAChC,+BAAgC,AAC5B,0BAA4B,CAAE,AAExC,uFACE,iBAAmB,CAAE,AACrB,qGACE,mBAAoB,AACpB,cAAgB,CAAE,AACpB,yFACE,gBAAiB,AACjB,0BAA2B,AACxB,uBAAwB,AAC3B,mBAAoB,AACpB,eAAiB,CAAE,AAEvB,oCACE,OAAS,CAAE,AACX,kDACE,WAAY,AACZ,MAAQ,CAAE,AACZ,4CACE,iBAAmB,CAAE,AACrB,0DACE,eAAgB,AAChB,gBAAkB,CAAE,AAE1B,gDACE,WAAa,CAAE,AACf,qFACE,eAAiB,CAAE,AACrB,4EACE,SAAU,AACV,kBAAmB,AACnB,wBAAyB,AACzB,qBAAuB,CAAE,AAE7B,qFACE,oBAAsB,CAAE,AAE1B,+CACE,2BAA4B,AAC5B,oBAAqB,AACrB,qBAAsB,AAClB,uBAAwB,AAC5B,0BAA2B,AACvB,sBAAuB,AAC3B,sBAAuB,AACnB,mBAAoB,AACxB,YAAa,AACb,aAAc,AACd,kBAAmB,AACnB,yBAA0B,AAC1B,wBAA0B,CAAE,AAE9B,qCACE,YAAa,AACb,aAAc,AACd,iBAAmB,CAAE,AAEvB,6CACE,2BAA4B,AAC5B,oBAAqB,AACrB,YAAa,AACb,yBAA0B,AACtB,6BAA8B,AAClC,eAAiB,CAAE\",\"file\":\"UploadedSingleFileWrapper.scss\",\"sourcesContent\":[\".single-file-uploader__file-container {\\n  position: relative;\\n  height: 64px; }\\n\\n.single-file-uploader__file-container--horizontal .single-file-uploader__file,\\n.single-file-uploader__file-container--horizontal .single-file-uploader__file-filename,\\n.single-file-uploader__file-container--horizontal .single-file-uploader__file-buttons {\\n  position: absolute;\\n  display: inline-block; }\\n\\n.single-file-uploader__file-container--horizontal .single-file-uploader__file {\\n  height: 64px;\\n  width: 64px;\\n  border-radius: 50%; }\\n\\n.single-file-uploader__file-container--horizontal .single-file-uploader__file-filename,\\n.single-file-uploader__file-container--horizontal .single-file-uploader__file-buttons {\\n  top: 50%;\\n  -webkit-transform: translateY(-50%);\\n      -ms-transform: translateY(-50%);\\n          transform: translateY(-50%); }\\n\\n.single-file-uploader__file-container--horizontal .single-file-uploader__file-filename {\\n  padding-left: 88px; }\\n  .main--arabic .single-file-uploader__file-container--horizontal .single-file-uploader__file-filename {\\n    padding-right: 88px;\\n    padding-left: 0; }\\n  .single-file-uploader__file-container--horizontal .single-file-uploader__file-filename p {\\n    overflow: hidden;\\n    -o-text-overflow: ellipsis;\\n       text-overflow: ellipsis;\\n    white-space: nowrap;\\n    max-width: 250px; }\\n\\n.single-file-uploader__file-buttons {\\n  right: 0; }\\n  .main--arabic .single-file-uploader__file-buttons {\\n    right: auto;\\n    left: 0; }\\n  .single-file-uploader__file-buttons .button {\\n    margin-right: 12px; }\\n    .main--arabic .single-file-uploader__file-buttons .button {\\n      margin-right: 0;\\n      margin-left: 12px; }\\n\\n.single-file-uploader__file-container--vertical {\\n  height: auto; }\\n  .single-file-uploader__file-container--vertical .single-file-uploader__file-filename {\\n    margin-top: 20px; }\\n  .single-file-uploader__file-container--vertical .single-file-uploader__file {\\n    height: 0;\\n    border-radius: 4px;\\n    background-position: 50%;\\n    background-size: cover; }\\n\\n.form__group--has-error + div > .single-file-uploader .file-input__container--horizontal {\\n  border-color: #e85600; }\\n\\n.single-file-uploader__file-container--profile {\\n  display: -ms-inline-flexbox;\\n  display: inline-flex;\\n  -ms-flex-pack: center;\\n      justify-content: center;\\n  -ms-flex-direction: column;\\n      flex-direction: column;\\n  -ms-flex-align: center;\\n      align-items: center;\\n  width: 220px;\\n  height: 220px;\\n  border-radius: 4px;\\n  background-color: #f7f8fa;\\n  border: 1px solid #dce1e4; }\\n\\n.single-file-uploader__file--profile {\\n  width: 110px;\\n  height: 110px;\\n  border-radius: 50%; }\\n\\n.single-file-uploader__file-buttons--profile {\\n  display: -ms-inline-flexbox;\\n  display: inline-flex;\\n  width: 110px;\\n  -ms-flex-pack: distribute;\\n      justify-content: space-around;\\n  margin-top: 21px; }\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader?{\"importLoaders\":1,\"minimize\":true,\"sourceMap\":true}!./node_modules/postcss-loader/lib?{\"ident\":\"postcss\",\"plugins\":[null,null]}!./node_modules/sass-loader/lib/loader.js!./src/Shared/components/SingleImageUploader/UploadedSingleFileWrapper.scss\n// module id = 3264\n// module chunks = 18","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/index.js??ref--1-oneOf-3-2!../../../../node_modules/postcss-loader/lib/index.js??postcss!../../../../node_modules/sass-loader/lib/loader.js!./SingleImageUploader.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// Prepare cssTransformation\nvar transform;\n\nvar options = {\"hmr\":true}\noptions.transform = transform\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../../node_modules/css-loader/index.js??ref--1-oneOf-3-2!../../../../node_modules/postcss-loader/lib/index.js??postcss!../../../../node_modules/sass-loader/lib/loader.js!./SingleImageUploader.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../../../node_modules/css-loader/index.js??ref--1-oneOf-3-2!../../../../node_modules/postcss-loader/lib/index.js??postcss!../../../../node_modules/sass-loader/lib/loader.js!./SingleImageUploader.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/Shared/components/SingleImageUploader/SingleImageUploader.scss\n// module id = 3265\n// module chunks = 18","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \"@media screen and (max-width:768px){.single-file-uploader__wrapper .single-file-uploader__file,.single-file-uploader__wrapper .single-file-uploader__file-buttons,.single-file-uploader__wrapper .single-file-uploader__file-filename{position:static}.single-file-uploader__wrapper .single-file-uploader__filename{margin-top:-20px}.single-file-uploader__wrapper .single-file-uploader__file-container{height:auto;position:relative;display:-ms-flexbox;display:flex;-ms-flex-flow:column nowrap;flex-flow:column nowrap}}.single-file-uploader__wrapper--error .file-input__container{border:2px dashed #f5456e}.single-file-uploader__wrapper--error .single-file-uploader__label{color:#f5456e}.form__group--has-error+div>.single-file-uploader .file-input__container--horizontal{border-color:#e85600}\", \"\", {\"version\":3,\"sources\":[\"C:/projects/oliv-frontend/src/Shared/components/SingleImageUploader/SingleImageUploader.scss\"],\"names\":[],\"mappings\":\"AAAA,oCACE,kMAGE,eAAkB,CAAE,AACtB,+DACE,gBAAkB,CAAE,AACtB,qEACE,YAAa,AACb,kBAAmB,AACnB,oBAAqB,AACrB,aAAc,AACd,4BAA6B,AACzB,uBAAyB,CAAE,CAAE,AAErC,6DACE,yBAA2B,CAAE,AAE/B,mEACE,aAAe,CAAE,AAEnB,qFACE,oBAAsB,CAAE\",\"file\":\"SingleImageUploader.scss\",\"sourcesContent\":[\"@media screen and (max-width: 768px) {\\n  .single-file-uploader__wrapper .single-file-uploader__file,\\n  .single-file-uploader__wrapper .single-file-uploader__file-filename,\\n  .single-file-uploader__wrapper .single-file-uploader__file-buttons {\\n    position: initial; }\\n  .single-file-uploader__wrapper .single-file-uploader__filename {\\n    margin-top: -20px; }\\n  .single-file-uploader__wrapper .single-file-uploader__file-container {\\n    height: auto;\\n    position: relative;\\n    display: -ms-flexbox;\\n    display: flex;\\n    -ms-flex-flow: column nowrap;\\n        flex-flow: column nowrap; } }\\n\\n.single-file-uploader__wrapper--error .file-input__container {\\n  border: 2px dashed #f5456e; }\\n\\n.single-file-uploader__wrapper--error .single-file-uploader__label {\\n  color: #f5456e; }\\n\\n.form__group--has-error + div > .single-file-uploader .file-input__container--horizontal {\\n  border-color: #e85600; }\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader?{\"importLoaders\":1,\"minimize\":true,\"sourceMap\":true}!./node_modules/postcss-loader/lib?{\"ident\":\"postcss\",\"plugins\":[null,null]}!./node_modules/sass-loader/lib/loader.js!./src/Shared/components/SingleImageUploader/SingleImageUploader.scss\n// module id = 3266\n// module chunks = 18"],"sourceRoot":""}