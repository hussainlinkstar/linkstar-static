webpackJsonp([21],{2017:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(9),r=a.n(n),o=a(10),i=a.n(o),c=a(0),s=a.n(c),l=a(100),m=a(28),u=a(19),p=a(23),f=a(3399),d=a(3403),b=a(2954),h=a(21),A=a(68),y=a(239),g=a(244),v=this,E=function(e){return{role:p.f.employer.name,countryCode:e.geolocation.currentLocation.countryCode,isValid:Object(l.q)(d.b)(e),signUp:function(){return s.a.createElement(d.a,null)},completeRegistration:function(e){return s.a.createElement(f.a,{email:e})},redirectLink:e.user.inviteRedirectLink}},C=function(e,t){return{registerUser:function(){function a(e){return n.apply(this,arguments)}var n=i()(r.a.mark(function a(n){return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e(Object(A.m)(n,"employer"));case 2:return a.abrupt("return",t.history.push("/employer/thanks/"+t.location.search));case 3:case"end":return a.stop()}},a,v)}));return a}(),fetchCurrentLocationIfNeeded:function(){return e(Object(y.c)())},removeInviteRedirectLink:function(){return e(Object(g.f)())}}};t.default=Object(u.g)(Object(m.b)(E,C)(Object(h.a)(b.a)))},2957:function(e,t,a){"use strict";a.d(t,"b",function(){return y}),a.d(t,"a",function(){return g});var n=a(9),r=a.n(n),o=a(10),i=a.n(o),c=a(800),s=a.n(c),l=a(2257),m=a(2163),u=a(17),p=a(846),f=a(6),d=a(244),b=a(102),h=this,A=new p.a,y=function(e){var t={};return["email","password","firstName","lastName","phoneNumber","companyName","industryId","size"].forEach(function(a){e[a]||(t[a]=Object(b.d)(Object(u.b)("forms."+a+".label")))}),e.industryId||(t.industryId=Object(b.d)(Object(u.b)("forms.industry.label"))),e.size||(t.size=Object(b.d)(Object(u.b)("forms.companySize.label"))),e.email&&!s()(e.email)&&(t.email={key:"errors.invalidEmail",options:{}}),e.phoneNumber&&!Object(l.a)(e.phoneNumber)&&(t.phoneNumber={key:"errors.invalidPhoneNumber",options:{}}),e.password&&e.password.length<m.b&&(t.password={key:"errors.passwordTooShort",options:{chars:m.b}}),!0!==e.hasAcceptedTermsAndPolicies&&(t.hasAcceptedTermsAndPolicies={key:"errors.termsAgree"}),t},g=function(){var e=i()(r.a.mark(function e(t,a){var n,o,i;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.email){e.next=18;break}return e.prev=1,e.next=4,A.verifyEmployerEmail(t.email);case 4:e.next=18;break;case 6:e.prev=6,e.t0=e.catch(1),n=f.pathOr([],["response","data","error","message"],e.t0),o=f.propOr("",["code"],n[0]),e.t1=o,e.next=400===e.t1?13:422===e.t1?14:403===e.t1?16:17;break;case 13:throw{email:{key:"errors.emailAlreadyTaken"}};case 14:return i=f.propOr(null,["inviteId"],n[0]),e.abrupt("return",a(Object(d.g)(i)));case 16:throw{email:{key:"errors.emailDomainBlackList"}};case 17:throw{email:{key:"errors.emailNotProvided"}};case 18:case"end":return e.stop()}},e,h,[[1,6]])}));return function(t,a){return e.apply(this,arguments)}}()},3399:function(e,t,a){"use strict";var n=a(100),r=a(28),o=a(2091),i=a(3400),c=a(2957),s=a(323),l=a(883),m=a(769),u=a(799),p=a(239),f="CompleteRegistration",d=Object(n.s)({form:f,onSubmitFail:o.a,validate:c.b})(i.a),b=function(e,t){return{formErrors:Object(n.j)(f)(e),formMeta:Object(n.h)(f)(e),sizeOptions:Object(s.c)(e),industriesOptions:Object(l.a)(e),initialValues:{email:t.email}}},h=function(e){return{fetchIndustries:function(){return e(Object(u.b)())},fetchCompanySize:function(){return e(Object(m.c)())},fetchCurrentLocationIfNeeded:function(){return e(Object(p.c)())}}};t.a=Object(r.b)(b,h)(d)},3400:function(e,t,a){"use strict";function n(e){var t=e.error,a=e.submitting,n=e.t,l=e.handleSubmit,d=e.registerUser;Object(r.useEffect)(function(){e.fetchIndustries(),e.fetchCompanySize(),e.fetchCurrentLocationIfNeeded()},[]);var b=m()({"label-error__first-name-or-last-name":Object(h.c)("lastName")||Object(h.c)("firstName")});return o.a.createElement(i.c,{className:"complete-registration",onSubmit:l(d),autocomplete:"off"},o.a.createElement(c.a,{text:n("authorization.createYourAccount")}),o.a.createElement("div",{className:"columns form__wrapper--inline"},o.a.createElement("div",null,o.a.createElement(i.a,{className:"complete-registration__hidden-field",component:p.f,name:"email",type:"email",autoComplete:"username"})),o.a.createElement("div",{className:"column col-6"},o.a.createElement(i.a,{component:p.f,label:n("forms.firstName.label"),name:"firstName",labelClassName:b,placeholder:n("forms.firstName.placeholder"),type:"text",autoComplete:"off"})),o.a.createElement("div",{className:"column col-6"},o.a.createElement(i.a,{component:p.f,label:n("forms.lastName.label"),labelClassName:b,name:"lastName",placeholder:n("forms.lastName.placeholder"),type:"text",autoComplete:"off"}))),o.a.createElement(i.a,{component:p.f,label:n("forms.companyName.label"),name:"companyName",placeholder:n("forms.companyName.placeholder"),type:"text",autoComplete:"off"}),o.a.createElement(i.a,{component:p.s,options:e.industriesOptions,label:n("forms.industry.label"),placeholder:n("common.select"),name:"industryId",withIcon:!0,autoComplete:"off"}),o.a.createElement(i.a,{component:p.s,options:e.sizeOptions,label:n("forms.companySize.label"),placeholder:n("common.select"),name:"size",withIcon:!0,autoComplete:"off"}),o.a.createElement(i.a,{component:p.n,className:"form-group",label:n("forms.phoneNumber.label"),name:"phoneNumber",autoComplete:"off"}),o.a.createElement(i.a,{component:p.j,iconClassName:"ion-md-lock",label:n("forms.password.label"),name:"password",placeholder:n("forms.password.placeholder"),type:"password",autoComplete:"password"}),o.a.createElement("div",null,o.a.createElement("h3",{className:"sign-up__subtitle"},n("terms.privacyNotice.title")),o.a.createElement(s.c,{i18nKey:"terms.privacyNotice.description",className:"sign-up__text",parent:"div"},"At Oliv, we take the privacy of our users very seriously. Our ",o.a.createElement(u.b,{to:"/privacy",target:"_blank"},o.a.createElement("strong",null,"privacy policy"))," has been updated in accordance with the EU's General Data Protection Regulation (GDPR). Please read through it carefully and accept our terms only if you agree.")),o.a.createElement(i.a,{component:p.c,text:o.a.createElement(s.c,{i18nKey:"terms.privacyNotice.agree",parent:"span"},"I agree to the ",o.a.createElement(u.b,{to:"/terms",target:"_blank"},o.a.createElement("strong",null,"terms and conditions")),"."),name:"hasAcceptedTermsAndPolicies"}),o.a.createElement(f.c,{className:"button--submit",disabled:t||a,onClick:function(){e.onClick},type:"submit",block:!0},n("authorization.joinInternsme")))}var r=a(0),o=a.n(r),i=a(100),c=a(824),s=a(111),l=a(11),m=a.n(l),u=a(19),p=a(766),f=a(91),d=a(21),b=a(3401),h=(a.n(b),a(102)),A=a(189);a.n(A);t.a=Object(u.g)(Object(d.a)(n))},3401:function(e,t,a){var n=a(3402);"string"===typeof n&&(n=[[e.i,n,""]]);var r={hmr:!0};r.transform=void 0;a(1999)(n,r);n.locals&&(e.exports=n.locals)},3402:function(e,t,a){t=e.exports=a(1998)(!0),t.push([e.i,".sign-up__subtitle{font-size:16px;line-height:19px;margin-top:32px}.sign-up__text{font-size:13px;line-height:19px;color:#2f3233;margin-top:8px}.label-error__first-name-or-last-name{height:24px}.complete-registration__hidden-field{display:inline-block;width:0;height:0;overflow:hidden;opacity:0}","",{version:3,sources:["C:/projects/oliv-frontend/src/Employer/forms/Registration/CompleteRegistration.scss"],names:[],mappings:"AAAA,mBACE,eAAgB,AAChB,iBAAkB,AAClB,eAAiB,CAAE,AAErB,eACE,eAAgB,AAChB,iBAAkB,AAClB,cAAe,AACf,cAAgB,CAAE,AAEpB,sCACE,WAAa,CAAE,AAEjB,qCACE,qBAAsB,AACtB,QAAS,AACT,SAAU,AACV,gBAAiB,AACjB,SAAW,CAAE",file:"CompleteRegistration.scss",sourcesContent:[".sign-up__subtitle {\n  font-size: 16px;\n  line-height: 19px;\n  margin-top: 32px; }\n\n.sign-up__text {\n  font-size: 13px;\n  line-height: 19px;\n  color: #2f3233;\n  margin-top: 8px; }\n\n.label-error__first-name-or-last-name {\n  height: 24px; }\n\n.complete-registration__hidden-field {\n  display: inline-block;\n  width: 0;\n  height: 0;\n  overflow: hidden;\n  opacity: 0; }\n"],sourceRoot:""}])},3403:function(e,t,a){"use strict";a.d(t,"b",function(){return s});var n=a(100),r=a(28),o=a(66),i=a(3404),c=a(2957),s="EmployerSignUpForm",l=Object(n.s)({form:s,validate:c.b,asyncValidate:c.a,shouldAsyncValidate:function(){return!0},asyncBlurFields:["email"]})(i.a),m=function(e){var t=Object(o.v)(["email"],window.location.search),a=t.email;return{initialValues:{email:a?decodeURIComponent(a):""}}};t.a=Object(r.b)(m)(l)},3404:function(e,t,a){"use strict";var n=a(0),r=a.n(n),o=a(100),i=a(766),c=a(91),s=a(21),l=a(327),m=a(2080),u=function(e){var t=e.error,a=e.submitting,n=e.t,s=e.handleSubmit,u=e.redirectToComplete,p=function(e){var t=window.location.pathname.includes("employer");t&&Object(m.d)("new_company_signup",t),l.c.startSignUp(e.email),u(e)};return r.a.createElement(o.c,{onSubmit:s(p)},r.a.createElement(i.z,{text:n("authorization.signUp")}),r.a.createElement("p",{className:"form__text form__text--sign-up"},n("authorization.signUpCTA")),r.a.createElement(o.a,{component:i.f,label:n("forms.email.label"),name:"email",type:"email",autoFocus:!0,placeholder:n("forms.email.placeholder")}),r.a.createElement(c.c,{className:"button--submit",disabled:t||a,type:"submit",block:!0},n("authorization.createAccount")))};t.a=Object(s.a)(u)}});
//# sourceMappingURL=EmployerRegistrationConnector.561af143.chunk.js.map