{"version":3,"sources":["../static/js/ThankYouPage.8b8bc86c.chunk.js","Shared/components/ThankYouPage/ThankYouPage.js","webpack:///./src/Shared/components/ThankYouPage/ThankYouPage.scss?a1b1","Shared/components/ThankYouPage/ThankYouPage.scss"],"names":["webpackJsonp","2040","module","__webpack_exports__","__webpack_require__","Object","defineProperty","value","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_get_prototype_of__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_get_prototype_of___default","n","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck__","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck___default","__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_createClass__","__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_createClass___default","__WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_possibleConstructorReturn__","__WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_possibleConstructorReturn___default","__WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_inherits__","__WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_inherits___default","__WEBPACK_IMPORTED_MODULE_5_react__","__WEBPACK_IMPORTED_MODULE_5_react___default","__WEBPACK_IMPORTED_MODULE_6_redux__","__WEBPACK_IMPORTED_MODULE_7_react_redux__","__WEBPACK_IMPORTED_MODULE_8_Shared_hoc_withTranslations__","__WEBPACK_IMPORTED_MODULE_9_react_router_dom__","__WEBPACK_IMPORTED_MODULE_10_Shared_constants_Global__","__WEBPACK_IMPORTED_MODULE_11_TrackingScripts__","__WEBPACK_IMPORTED_MODULE_12_TrackingScripts_scripts_candidate_vero__","__WEBPACK_IMPORTED_MODULE_13_ramda__","__WEBPACK_IMPORTED_MODULE_14_Shared_constants_User__","__WEBPACK_IMPORTED_MODULE_15_Shared_helpers_query_js__","__WEBPACK_IMPORTED_MODULE_16__ThankYouPage_scss__","ThankYouPage","_PureComponent","_ref","_temp","_this","_ret","this","_len","arguments","length","args","Array","_key","__proto__","call","apply","concat","state","ready","veroEventSent","secondsRemaining","countSeconds","setState","key","secondsInterval","setInterval","prevProps","prevState","clearInterval","redirectUser","document","getElementById","props","signUpConfirmed","history","location","id","isAuthenticated","userRole","employer","name","queryParams","search","checkoutParam","hasSelectedJobPosts","push","candidate","urlRole","match","path","split","t","a","createElement","className","mapStateToProps","user","role","3720","exports","content","i","options","hmr","transform","locals","3721","version","sources","names","mappings","file","sourcesContent","sourceRoot"],"mappings":"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","file":"static/js/ThankYouPage.8b8bc86c.chunk.js","sourcesContent":["webpackJsonp([27],{\n\n/***/ 2040:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_get_prototype_of__ = __webpack_require__(12);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_get_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_get_prototype_of__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck__ = __webpack_require__(4);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_createClass__ = __webpack_require__(5);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_createClass___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_createClass__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_possibleConstructorReturn__ = __webpack_require__(13);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_possibleConstructorReturn___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_possibleConstructorReturn__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_inherits__ = __webpack_require__(14);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_inherits___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_inherits__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_redux__ = __webpack_require__(78);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_react_redux__ = __webpack_require__(28);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_Shared_hoc_withTranslations__ = __webpack_require__(21);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9_react_router_dom__ = __webpack_require__(19);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10_Shared_constants_Global__ = __webpack_require__(2097);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11_TrackingScripts__ = __webpack_require__(2138);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12_TrackingScripts_scripts_candidate_vero__ = __webpack_require__(486);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13_ramda__ = __webpack_require__(6);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14_Shared_constants_User__ = __webpack_require__(23);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_15_Shared_helpers_query_js__ = __webpack_require__(463);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_16__ThankYouPage_scss__ = __webpack_require__(3720);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_16__ThankYouPage_scss___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_16__ThankYouPage_scss__);\nvar ThankYouPage=function(_PureComponent){__WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_inherits___default()(ThankYouPage,_PureComponent);function ThankYouPage(){var _ref;var _temp,_this,_ret;__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck___default()(this,ThankYouPage);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}return _ret=(_temp=(_this=__WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_possibleConstructorReturn___default()(this,(_ref=ThankYouPage.__proto__||__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_get_prototype_of___default()(ThankYouPage)).call.apply(_ref,[this].concat(args))),_this),_this.state={ready:false,veroEventSent:false,secondsRemaining:__WEBPACK_IMPORTED_MODULE_10_Shared_constants_Global__[\"b\" /* DEFAULT_REDIRECT_DELAY */]},_this.countSeconds=function(){return _this.setState({secondsRemaining:_this.state.secondsRemaining-1});},_temp),__WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_possibleConstructorReturn___default()(_this,_ret);}__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_createClass___default()(ThankYouPage,[{key:'componentDidMount',value:function componentDidMount(){this.setState({ready:true});this.secondsInterval=setInterval(this.countSeconds,1000);}},{key:'componentDidUpdate',value:function componentDidUpdate(prevProps,prevState){if(prevState.secondsRemaining===1&&this.state.secondsRemaining===0){clearInterval(this.secondsInterval);this.redirectUser();}var shouldTriggerVeroEvent=!!document.getElementById('script-vero')&&Object(__WEBPACK_IMPORTED_MODULE_13_ramda__[\"pathOr\"])(false,['history','location','state','id'],this.props)&&!this.state.veroEventSent;if(shouldTriggerVeroEvent){__WEBPACK_IMPORTED_MODULE_12_TrackingScripts_scripts_candidate_vero__[\"c\" /* veroEvents */].signUpConfirmed(this.props.history.location.state.id);this.setState({veroEventSent:true});}}},{key:'redirectUser',value:function redirectUser(){switch(true){case this.props.isAuthenticated&&this.props.userRole===__WEBPACK_IMPORTED_MODULE_14_Shared_constants_User__[\"f\" /* Roles */].employer.name:var queryParams=Object(__WEBPACK_IMPORTED_MODULE_15_Shared_helpers_query_js__[\"c\" /* getQueryKeys */])(this.props.location.search);var checkoutParam=Object(__WEBPACK_IMPORTED_MODULE_13_ramda__[\"propOr\"])('','selfCheckout',queryParams);var hasSelectedJobPosts=checkoutParam==='jobPosts';return this.props.history.push(hasSelectedJobPosts?'/pricing/job-posts/review':'/employer/job-offers');case this.props.isAuthenticated&&this.props.userRole===__WEBPACK_IMPORTED_MODULE_14_Shared_constants_User__[\"f\" /* Roles */].candidate.name:return this.props.history.push('/candidate/profile/complete');default:var urlRole=this.props.match.path.split('/')[1];return this.props.history.push('/'+urlRole+'/login');}}},{key:'render',value:function render(){var t=this.props.t;var urlRole=this.props.match.path.split('/')[1];return __WEBPACK_IMPORTED_MODULE_5_react___default.a.createElement('div',{className:'thank-you-page__container parsing--hidden'},__WEBPACK_IMPORTED_MODULE_5_react___default.a.createElement('div',{className:'thank-you-page'},__WEBPACK_IMPORTED_MODULE_5_react___default.a.createElement('div',{className:'thank-you-page__wrapper'},__WEBPACK_IMPORTED_MODULE_5_react___default.a.createElement('div',{className:'thank-you-page__content'},__WEBPACK_IMPORTED_MODULE_5_react___default.a.createElement('i',{className:'icon-im-success thank-you-page__icon'}),__WEBPACK_IMPORTED_MODULE_5_react___default.a.createElement('h2',{className:'thank-you-page__heading'},t('thankYouPage.'+urlRole+'.header')),__WEBPACK_IMPORTED_MODULE_5_react___default.a.createElement('p',{className:'thank-you-page__text'},t('thankYouPage.'+urlRole+'.description',{secondsRemaining:this.state.secondsRemaining}))))));}}]);return ThankYouPage;}(__WEBPACK_IMPORTED_MODULE_5_react__[\"PureComponent\"]);var mapStateToProps=function mapStateToProps(state){return{isAuthenticated:state.user.isAuthenticated,userRole:state.user.role};};/* harmony default export */ __webpack_exports__[\"default\"] = (Object(__WEBPACK_IMPORTED_MODULE_6_redux__[\"d\" /* compose */])(__WEBPACK_IMPORTED_MODULE_9_react_router_dom__[\"g\" /* withRouter */],__WEBPACK_IMPORTED_MODULE_11_TrackingScripts__[\"a\" /* default */],__WEBPACK_IMPORTED_MODULE_8_Shared_hoc_withTranslations__[\"a\" /* default */],Object(__WEBPACK_IMPORTED_MODULE_7_react_redux__[\"b\" /* connect */])(mapStateToProps))(ThankYouPage));\n\n/***/ }),\n\n/***/ 3720:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(3721);\nif(typeof content === 'string') content = [[module.i, content, '']];\n// Prepare cssTransformation\nvar transform;\n\nvar options = {\"hmr\":true}\noptions.transform = transform\n// add the styles to the DOM\nvar update = __webpack_require__(1999)(content, options);\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(false) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../../node_modules/css-loader/index.js??ref--1-oneOf-3-2!../../../../node_modules/postcss-loader/lib/index.js??postcss!../../../../node_modules/sass-loader/lib/loader.js!./ThankYouPage.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../../../node_modules/css-loader/index.js??ref--1-oneOf-3-2!../../../../node_modules/postcss-loader/lib/index.js??postcss!../../../../node_modules/sass-loader/lib/loader.js!./ThankYouPage.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n/***/ }),\n\n/***/ 3721:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1998)(true);\n// imports\n\n\n// module\nexports.push([module.i, \".thank-you-page__container{display:block!important}.thank-you-page{display:table;width:100%;height:calc(100vh - 183px)}@media (max-width:768px){.thank-you-page{height:calc(100vh - 271px)}}.thank-you-page__heading{font-size:21px;margin:29px 0 21px}.thank-you-page__text{color:#2f3233;font-weight:400}.thank-you-page__wrapper{display:table-cell;vertical-align:middle;padding-top:80px;padding-left:16px;padding-right:16px}.thank-you-page__content{text-align:center;max-width:568px;margin:0 auto;width:100%}.thank-you-page__icon{color:#4353ff;font-size:64px}\", \"\", {\"version\":3,\"sources\":[\"C:/projects/oliv-frontend/src/Shared/components/ThankYouPage/ThankYouPage.scss\"],\"names\":[],\"mappings\":\"AAAA,2BACE,uBAA0B,CAAE,AAE9B,gBACE,cAAe,AACf,WAAY,AACZ,0BAA4B,CAAE,AAC9B,yBACE,gBACE,0BAA4B,CAAE,CAAE,AAEtC,yBACE,eAAgB,AAChB,kBAAoB,CAAE,AAExB,sBACE,cAAe,AACf,eAAiB,CAAE,AAErB,yBACE,mBAAoB,AACpB,sBAAuB,AACvB,iBAAkB,AAClB,kBAAmB,AACnB,kBAAoB,CAAE,AAExB,yBACE,kBAAmB,AACnB,gBAAiB,AACjB,cAAe,AACf,UAAY,CAAE,AAEhB,sBACE,cAAe,AACf,cAAgB,CAAE\",\"file\":\"ThankYouPage.scss\",\"sourcesContent\":[\".thank-you-page__container {\\n  display: block !important; }\\n\\n.thank-you-page {\\n  display: table;\\n  width: 100%;\\n  height: calc(100vh - 183px); }\\n  @media (max-width: 768px) {\\n    .thank-you-page {\\n      height: calc(100vh - 271px); } }\\n\\n.thank-you-page__heading {\\n  font-size: 21px;\\n  margin: 29px 0 21px; }\\n\\n.thank-you-page__text {\\n  color: #2f3233;\\n  font-weight: 400; }\\n\\n.thank-you-page__wrapper {\\n  display: table-cell;\\n  vertical-align: middle;\\n  padding-top: 80px;\\n  padding-left: 16px;\\n  padding-right: 16px; }\\n\\n.thank-you-page__content {\\n  text-align: center;\\n  max-width: 568px;\\n  margin: 0 auto;\\n  width: 100%; }\\n\\n.thank-you-page__icon {\\n  color: #4353ff;\\n  font-size: 64px; }\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/ThankYouPage.8b8bc86c.chunk.js","import React, { PureComponent } from 'react'\r\nimport { compose } from 'redux'\r\nimport { connect } from 'react-redux'\r\nimport withTranslations from 'Shared/hoc/withTranslations'\r\nimport { withRouter } from 'react-router-dom'\r\nimport { DEFAULT_REDIRECT_DELAY } from 'Shared/constants/Global'\r\nimport withScripts from 'TrackingScripts'\r\nimport { veroEvents } from 'TrackingScripts/scripts/candidate/vero'\r\nimport { pathOr, propOr } from 'ramda'\r\nimport { Roles } from 'Shared/constants/User'\r\nimport { getQueryKeys } from 'Shared/helpers/query.js'\r\nimport './ThankYouPage.scss'\r\n\r\nclass ThankYouPage extends PureComponent {\r\n  state = {\r\n    ready: false,\r\n    veroEventSent: false,\r\n    secondsRemaining: DEFAULT_REDIRECT_DELAY\r\n  }\r\n\r\n  countSeconds = () => this.setState({ secondsRemaining: this.state.secondsRemaining - 1 })\r\n\r\n  componentDidMount () {\r\n    this.setState({ ready: true })\r\n    this.secondsInterval = setInterval(this.countSeconds, 1000)\r\n  }\r\n\r\n  componentDidUpdate (prevProps, prevState) {\r\n    if (prevState.secondsRemaining === 1 && this.state.secondsRemaining === 0) {\r\n      clearInterval(this.secondsInterval)\r\n      this.redirectUser()\r\n    }\r\n\r\n    const shouldTriggerVeroEvent = !!document.getElementById('script-vero') &&\r\n      pathOr(false, ['history', 'location', 'state', 'id'], this.props) &&\r\n      !this.state.veroEventSent\r\n\r\n    if (shouldTriggerVeroEvent) {\r\n      veroEvents.signUpConfirmed(this.props.history.location.state.id)\r\n      this.setState({ veroEventSent: true })\r\n    }\r\n  }\r\n\r\n  redirectUser () {\r\n    switch (true) {\r\n      case this.props.isAuthenticated && this.props.userRole === Roles.employer.name:\r\n        const queryParams = getQueryKeys(this.props.location.search)\r\n        const checkoutParam = propOr('', 'selfCheckout', queryParams)\r\n        const hasSelectedJobPosts = checkoutParam === 'jobPosts'\r\n        return this.props.history.push(hasSelectedJobPosts ? '/pricing/job-posts/review' : '/employer/job-offers')\r\n      case this.props.isAuthenticated && this.props.userRole === Roles.candidate.name:\r\n        return this.props.history.push('/candidate/profile/complete')\r\n      default:\r\n        const urlRole = this.props.match.path.split('/')[1]\r\n        return this.props.history.push(`/${urlRole}/login`)\r\n    }\r\n  }\r\n\r\n  render () {\r\n    const { t } = this.props\r\n    const urlRole = this.props.match.path.split('/')[1]\r\n\r\n    return (\r\n      <div className='thank-you-page__container parsing--hidden'>\r\n        <div className='thank-you-page'>\r\n          <div className='thank-you-page__wrapper'>\r\n            <div className='thank-you-page__content'>\r\n              <i className='icon-im-success thank-you-page__icon' />\r\n              <h2 className='thank-you-page__heading'>{t(`thankYouPage.${urlRole}.header`)}</h2>\r\n              <p className='thank-you-page__text'>{t(`thankYouPage.${urlRole}.description`, { secondsRemaining: this.state.secondsRemaining })}</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  isAuthenticated: state.user.isAuthenticated,\r\n  userRole: state.user.role\r\n})\r\n\r\nexport default compose(\r\n  withRouter,\r\n  withScripts,\r\n  withTranslations,\r\n  connect(mapStateToProps)\r\n)(ThankYouPage)\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/Shared/components/ThankYouPage/ThankYouPage.js","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/index.js??ref--1-oneOf-3-2!../../../../node_modules/postcss-loader/lib/index.js??postcss!../../../../node_modules/sass-loader/lib/loader.js!./ThankYouPage.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// Prepare cssTransformation\nvar transform;\n\nvar options = {\"hmr\":true}\noptions.transform = transform\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../../node_modules/css-loader/index.js??ref--1-oneOf-3-2!../../../../node_modules/postcss-loader/lib/index.js??postcss!../../../../node_modules/sass-loader/lib/loader.js!./ThankYouPage.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../../../node_modules/css-loader/index.js??ref--1-oneOf-3-2!../../../../node_modules/postcss-loader/lib/index.js??postcss!../../../../node_modules/sass-loader/lib/loader.js!./ThankYouPage.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/Shared/components/ThankYouPage/ThankYouPage.scss\n// module id = 3720\n// module chunks = 27","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \".thank-you-page__container{display:block!important}.thank-you-page{display:table;width:100%;height:calc(100vh - 183px)}@media (max-width:768px){.thank-you-page{height:calc(100vh - 271px)}}.thank-you-page__heading{font-size:21px;margin:29px 0 21px}.thank-you-page__text{color:#2f3233;font-weight:400}.thank-you-page__wrapper{display:table-cell;vertical-align:middle;padding-top:80px;padding-left:16px;padding-right:16px}.thank-you-page__content{text-align:center;max-width:568px;margin:0 auto;width:100%}.thank-you-page__icon{color:#4353ff;font-size:64px}\", \"\", {\"version\":3,\"sources\":[\"C:/projects/oliv-frontend/src/Shared/components/ThankYouPage/ThankYouPage.scss\"],\"names\":[],\"mappings\":\"AAAA,2BACE,uBAA0B,CAAE,AAE9B,gBACE,cAAe,AACf,WAAY,AACZ,0BAA4B,CAAE,AAC9B,yBACE,gBACE,0BAA4B,CAAE,CAAE,AAEtC,yBACE,eAAgB,AAChB,kBAAoB,CAAE,AAExB,sBACE,cAAe,AACf,eAAiB,CAAE,AAErB,yBACE,mBAAoB,AACpB,sBAAuB,AACvB,iBAAkB,AAClB,kBAAmB,AACnB,kBAAoB,CAAE,AAExB,yBACE,kBAAmB,AACnB,gBAAiB,AACjB,cAAe,AACf,UAAY,CAAE,AAEhB,sBACE,cAAe,AACf,cAAgB,CAAE\",\"file\":\"ThankYouPage.scss\",\"sourcesContent\":[\".thank-you-page__container {\\n  display: block !important; }\\n\\n.thank-you-page {\\n  display: table;\\n  width: 100%;\\n  height: calc(100vh - 183px); }\\n  @media (max-width: 768px) {\\n    .thank-you-page {\\n      height: calc(100vh - 271px); } }\\n\\n.thank-you-page__heading {\\n  font-size: 21px;\\n  margin: 29px 0 21px; }\\n\\n.thank-you-page__text {\\n  color: #2f3233;\\n  font-weight: 400; }\\n\\n.thank-you-page__wrapper {\\n  display: table-cell;\\n  vertical-align: middle;\\n  padding-top: 80px;\\n  padding-left: 16px;\\n  padding-right: 16px; }\\n\\n.thank-you-page__content {\\n  text-align: center;\\n  max-width: 568px;\\n  margin: 0 auto;\\n  width: 100%; }\\n\\n.thank-you-page__icon {\\n  color: #4353ff;\\n  font-size: 64px; }\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader?{\"importLoaders\":1,\"minimize\":true,\"sourceMap\":true}!./node_modules/postcss-loader/lib?{\"ident\":\"postcss\",\"plugins\":[null,null]}!./node_modules/sass-loader/lib/loader.js!./src/Shared/components/ThankYouPage/ThankYouPage.scss\n// module id = 3721\n// module chunks = 27"],"sourceRoot":""}