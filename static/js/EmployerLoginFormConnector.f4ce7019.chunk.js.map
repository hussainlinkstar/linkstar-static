{"version":3,"sources":["../static/js/EmployerLoginFormConnector.f4ce7019.chunk.js","Employer/connectors/Forms/EmployerLoginFormConnector.js"],"names":["webpackJsonp","2015","module","__webpack_exports__","__webpack_require__","Object","defineProperty","value","d","formName","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default","n","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_asyncToGenerator__","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_asyncToGenerator___default","__WEBPACK_IMPORTED_MODULE_2_redux_form__","__WEBPACK_IMPORTED_MODULE_3_react_redux__","__WEBPACK_IMPORTED_MODULE_4_react_router_dom__","__WEBPACK_IMPORTED_MODULE_5_Shared_constants_User__","__WEBPACK_IMPORTED_MODULE_6_Shared_ducks_user__","__WEBPACK_IMPORTED_MODULE_7_Shared_forms_Login__","__WEBPACK_IMPORTED_MODULE_8_Shared_validators_login__","__WEBPACK_IMPORTED_MODULE_9_Shared_helpers_string__","__WEBPACK_IMPORTED_MODULE_10_ramda__","__WEBPACK_IMPORTED_MODULE_11_Shared_helpers_query_js__","_this","this","Form","form","validate","shouldValidate","mapStateToProps","state","role","employer","name","userRole","user","authorizationError","isAuthenticated","formValues","displayCaptcha","initialValues","email","window","location","search","mapDispatchToProps","dispatch","ownProps","queryParams","checkoutParam","redirectPath","login","_x","_ref","apply","arguments","a","mark","_callee","values","hasSelectedJobPosts","wrap","_context","prev","next","t0","abrupt","history","push","stop"],"mappings":"AAAAA,cAAc,KAERC,KACA,SAAUC,EAAQC,EAAqBC,GAE7C,YACAC,QAAOC,eAAeH,EAAqB,cAAgBI,OAAO,IACnCH,EAAoBI,EAAEL,EAAqB,WAAY,WAAa,MAAOM,IACrF,IAAIC,GAA0DN,EAAoB,GAC9EO,EAAkEP,EAAoBQ,EAAEF,GACxFG,EAAuET,EAAoB,IAC3FU,EAA+EV,EAAoBQ,EAAEC,GACrGE,EAA2CX,EAAoB,KAC/DY,EAA4CZ,EAAoB,IAChEa,EAAiDb,EAAoB,IACrEc,EAAsDd,EAAoB,IAC1Ee,EAAkDf,EAAoB,IACtEgB,EAAmDhB,EAAoB,MACvEiB,EAAwDjB,EAAoB,MAC5EkB,EAAsDlB,EAAoB,IAC1EmB,EAAuCnB,EAAoB,GAC3DoB,EAAyDpB,EAAoB,KAClGqB,EAAMC,KCXGjB,EAAW,oBAEpBkB,EAAOtB,OAAAU,EAAA,IACTa,KAAMnB,EACNoB,SAFmBR,EAAA,EAGnBS,eAAgB,WAAM,OAAN,KACfV,EAAA,GAEGW,EAAkB,SAAAC,GAAA,OACtBC,KAAMf,EAAA,EAAMgB,SAASC,KACrBC,SAAUJ,EAAMK,KAAKJ,KACrBK,mBAAoBN,EAAMK,KAAKC,mBAC/BC,gBAAiBP,EAAMK,KAAKE,gBAC5BC,WAAYnC,OAAAU,EAAA,GAAcN,GAAUuB,GACpCS,eAAgBT,EAAMK,KAAKI,eAC3BC,eACEC,MAAOtC,OAAAiB,EAAA,GAAgBsB,OAAOC,SAASC,OAAQ,8BAI7CC,EAAqB,SAACC,EAAUC,GAC9B,GAAAC,GAAc7C,OAAAmB,EAAA,GAAayB,EAASJ,SAASC,QAC7CK,EAAgB9C,OAAAkB,EAAA,QAAO,GAAI,eAAgB2B,GAE3CE,EAAe/C,OAAAkB,EAAA,QAAO,MAAO,UAAW,WAAY,QAAS,OAAQ,YAAa0B,EAExF,QACEI,MAAA,mBAAAA,GAAAC,GAAA,MAAAC,GAAAC,MAAA9B,KAAA+B,WAAA,GAAAF,GAAAzC,IAAAH,EAAA+C,EAAAC,KAAO,QAAAC,GAAOC,GAAA,GAAAC,EAAA,OAAAnD,GAAA+C,EAAAK,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OACN,MADMF,GAAAE,KAAA,EACNlB,EAAS3C,OAAAc,EAAA,GAAc0C,GAAA,QACvBC,EAAwC,aAAlBX,EAAkBa,EAAAG,IAEtC,EAAAH,EAAAE,KAAAF,EAAAG,KACDL,EAAA,EAAAE,EAAAG,KAEA9D,OAAAkB,EAAA,KAAIlB,OAAAkB,EAAA,OAAM6B,IAAA,uBAAAY,GAAAI,OAAA,SADNnB,EAASoB,QAAQC,KAAK,2CAAAN,GAAAI,OAAA,SAEtBnB,EAASoB,QAAQC,KAAKlB,GAAA,cAAAY,GAAAI,OAAA,SAEtBnB,EAASoB,QAAQC,KAAK,gDAAAN,GAAAO,SAAAX,EAAAnC,KAVnC,OAAA4B,OAgBWlD,GAAA,QAAAE,OAAAY,EAAA,GAAWZ,OAAAW,EAAA,GAAQe,EAAiBgB,GAAoBpB","file":"static/js/EmployerLoginFormConnector.f4ce7019.chunk.js","sourcesContent":["webpackJsonp([42],{\n\n/***/ 2015:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"formName\", function() { return formName; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator__ = __webpack_require__(9);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_asyncToGenerator__ = __webpack_require__(10);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_asyncToGenerator___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_asyncToGenerator__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_redux_form__ = __webpack_require__(100);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_react_redux__ = __webpack_require__(28);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_react_router_dom__ = __webpack_require__(19);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_Shared_constants_User__ = __webpack_require__(23);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_Shared_ducks_user__ = __webpack_require__(68);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_Shared_forms_Login__ = __webpack_require__(2948);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_Shared_validators_login__ = __webpack_require__(2574);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9_Shared_helpers_string__ = __webpack_require__(66);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10_ramda__ = __webpack_require__(6);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11_Shared_helpers_query_js__ = __webpack_require__(463);\nvar _this=this;var formName='EmployerLoginForm';var Form=Object(__WEBPACK_IMPORTED_MODULE_2_redux_form__[\"s\" /* reduxForm */])({form:formName,validate:__WEBPACK_IMPORTED_MODULE_8_Shared_validators_login__[\"a\" /* default */],shouldValidate:function shouldValidate(){return true;}})(__WEBPACK_IMPORTED_MODULE_7_Shared_forms_Login__[\"a\" /* default */]);var mapStateToProps=function mapStateToProps(state){return{role:__WEBPACK_IMPORTED_MODULE_5_Shared_constants_User__[\"f\" /* Roles */].employer.name,userRole:state.user.role,authorizationError:state.user.authorizationError,isAuthenticated:state.user.isAuthenticated,formValues:Object(__WEBPACK_IMPORTED_MODULE_2_redux_form__[\"k\" /* getFormValues */])(formName)(state),displayCaptcha:state.user.displayCaptcha,initialValues:{email:Object(__WEBPACK_IMPORTED_MODULE_9_Shared_helpers_string__[\"r\" /* initializeEmail */])(window.location.search,'resend-activation-email')}};};var mapDispatchToProps=function mapDispatchToProps(dispatch,ownProps){var queryParams=Object(__WEBPACK_IMPORTED_MODULE_11_Shared_helpers_query_js__[\"c\" /* getQueryKeys */])(ownProps.location.search);var checkoutParam=Object(__WEBPACK_IMPORTED_MODULE_10_ramda__[\"propOr\"])('','selfCheckout',queryParams);var redirectPath=Object(__WEBPACK_IMPORTED_MODULE_10_ramda__[\"pathOr\"])(null,['history','location','state','from','pathname'],ownProps);return{login:function(){var _ref=__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_asyncToGenerator___default()(/*#__PURE__*/__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default.a.mark(function _callee(values){var hasSelectedJobPosts;return __WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return dispatch(Object(__WEBPACK_IMPORTED_MODULE_6_Shared_ducks_user__[\"h\" /* loginEmployer */])(values));case 2:hasSelectedJobPosts=checkoutParam==='jobPosts';_context.t0=true;_context.next=_context.t0===hasSelectedJobPosts?6:_context.t0===Object(__WEBPACK_IMPORTED_MODULE_10_ramda__[\"not\"])(Object(__WEBPACK_IMPORTED_MODULE_10_ramda__[\"isNil\"])(redirectPath))?7:8;break;case 6:return _context.abrupt('return',ownProps.history.push('/pricing/job-posts/review'));case 7:return _context.abrupt('return',ownProps.history.push(redirectPath));case 8:return _context.abrupt('return',ownProps.history.push('/employer/job-offers'));case 9:case'end':return _context.stop();}}},_callee,_this);}));function login(_x){return _ref.apply(this,arguments);}return login;}()};};/* harmony default export */ __webpack_exports__[\"default\"] = (Object(__WEBPACK_IMPORTED_MODULE_4_react_router_dom__[\"g\" /* withRouter */])(Object(__WEBPACK_IMPORTED_MODULE_3_react_redux__[\"b\" /* connect */])(mapStateToProps,mapDispatchToProps)(Form)));\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/EmployerLoginFormConnector.f4ce7019.chunk.js","import { getFormValues, reduxForm } from 'redux-form'\r\nimport { connect } from 'react-redux'\r\nimport { withRouter } from 'react-router-dom'\r\nimport { Roles } from 'Shared/constants/User'\r\nimport { loginEmployer } from 'Shared/ducks/user'\r\nimport EmployerLoginForm from 'Shared/forms/Login'\r\nimport validate from 'Shared/validators/login'\r\nimport { initializeEmail } from 'Shared/helpers/string'\r\nimport { propOr, pathOr, not, isNil } from 'ramda'\r\nimport { getQueryKeys } from 'Shared/helpers/query.js'\r\n\r\nexport const formName = 'EmployerLoginForm'\r\n\r\nlet Form = reduxForm({\r\n  form: formName,\r\n  validate,\r\n  shouldValidate: () => true\r\n})(EmployerLoginForm)\r\n\r\nconst mapStateToProps = state => ({\r\n  role: Roles.employer.name,\r\n  userRole: state.user.role,\r\n  authorizationError: state.user.authorizationError,\r\n  isAuthenticated: state.user.isAuthenticated,\r\n  formValues: getFormValues(formName)(state),\r\n  displayCaptcha: state.user.displayCaptcha,\r\n  initialValues: {\r\n    email: initializeEmail(window.location.search, 'resend-activation-email')\r\n  }\r\n})\r\n\r\nconst mapDispatchToProps = (dispatch, ownProps) => {\r\n  const queryParams = getQueryKeys(ownProps.location.search)\r\n  const checkoutParam = propOr('', 'selfCheckout', queryParams)\r\n\r\n  const redirectPath = pathOr(null, ['history', 'location', 'state', 'from', 'pathname'], ownProps)\r\n\r\n  return {\r\n    login: async (values) => {\r\n      await dispatch(loginEmployer(values))\r\n      const hasSelectedJobPosts = checkoutParam === 'jobPosts'\r\n\r\n      switch (true) {\r\n        case hasSelectedJobPosts:\r\n          return ownProps.history.push('/pricing/job-posts/review')\r\n        case not(isNil(redirectPath)):\r\n          return ownProps.history.push(redirectPath)\r\n        default:\r\n          return ownProps.history.push('/employer/job-offers')\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(Form))\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/Employer/connectors/Forms/EmployerLoginFormConnector.js"],"sourceRoot":""}