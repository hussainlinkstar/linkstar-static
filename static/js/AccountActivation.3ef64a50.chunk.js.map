{"version":3,"sources":["../static/js/AccountActivation.3ef64a50.chunk.js","Shared/components/Registration/AccountActivation.js"],"names":["webpackJsonp","2035","module","__webpack_exports__","__webpack_require__","Object","defineProperty","value","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default","n","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_asyncToGenerator__","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_asyncToGenerator___default","__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_get_prototype_of__","__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_get_prototype_of___default","__WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_classCallCheck__","__WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_classCallCheck___default","__WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_createClass__","__WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_createClass___default","__WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_possibleConstructorReturn__","__WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_possibleConstructorReturn___default","__WEBPACK_IMPORTED_MODULE_6_babel_runtime_helpers_inherits__","__WEBPACK_IMPORTED_MODULE_6_babel_runtime_helpers_inherits___default","__WEBPACK_IMPORTED_MODULE_7_react__","__WEBPACK_IMPORTED_MODULE_7_react___default","__WEBPACK_IMPORTED_MODULE_8_prop_types__","__WEBPACK_IMPORTED_MODULE_8_prop_types___default","__WEBPACK_IMPORTED_MODULE_9_react_router_dom__","__WEBPACK_IMPORTED_MODULE_10_ramda__","__WEBPACK_IMPORTED_MODULE_11_notie__","__WEBPACK_IMPORTED_MODULE_11_notie___default","__WEBPACK_IMPORTED_MODULE_12_Shared_hoc_withTranslations__","__WEBPACK_IMPORTED_MODULE_13_Shared_services_UserService__","__WEBPACK_IMPORTED_MODULE_14_Shared_constants_User__","userService","AccountActivation","_Component","_ref","_temp","_this","_ret","this","_len","arguments","length","args","Array","_key","__proto__","call","apply","concat","state","resolved","verificationSuccess","undefined","key","verifyAccountAttempt","_ref2","a","mark","_callee","_props","role","_props$match$params","id","token","wrap","_context","prev","next","props","match","params","abrupt","candidate","name","verifyCandidateAccount","verifyEmployerAccount","stop","componentDidMount","_ref3","_callee2","_context2","t0","verificationFail","update","setState","_props2","t","redirect","propTypes","string","isRequired","createElement","to","pathname","displayResultNotice","getNoticeData","alert","success","type","text","fail"],"mappings":"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","file":"static/js/AccountActivation.3ef64a50.chunk.js","sourcesContent":["webpackJsonp([35],{\n\n/***/ 2035:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator__ = __webpack_require__(9);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_asyncToGenerator__ = __webpack_require__(10);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_asyncToGenerator___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_asyncToGenerator__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_get_prototype_of__ = __webpack_require__(12);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_get_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_get_prototype_of__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_classCallCheck__ = __webpack_require__(4);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_classCallCheck___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_classCallCheck__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_createClass__ = __webpack_require__(5);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_createClass___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_createClass__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_possibleConstructorReturn__ = __webpack_require__(13);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_possibleConstructorReturn___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_possibleConstructorReturn__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_babel_runtime_helpers_inherits__ = __webpack_require__(14);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_babel_runtime_helpers_inherits___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_babel_runtime_helpers_inherits__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_7_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_prop_types__ = __webpack_require__(3);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_prop_types___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_8_prop_types__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9_react_router_dom__ = __webpack_require__(19);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10_ramda__ = __webpack_require__(6);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11_notie__ = __webpack_require__(125);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11_notie___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_11_notie__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12_Shared_hoc_withTranslations__ = __webpack_require__(21);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13_Shared_services_UserService__ = __webpack_require__(159);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14_Shared_constants_User__ = __webpack_require__(23);\nvar userService=new __WEBPACK_IMPORTED_MODULE_13_Shared_services_UserService__[\"a\" /* default */]();var AccountActivation=function(_Component){__WEBPACK_IMPORTED_MODULE_6_babel_runtime_helpers_inherits___default()(AccountActivation,_Component);function AccountActivation(){var _ref;var _temp,_this,_ret;__WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_classCallCheck___default()(this,AccountActivation);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}return _ret=(_temp=(_this=__WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_possibleConstructorReturn___default()(this,(_ref=AccountActivation.__proto__||__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_get_prototype_of___default()(AccountActivation)).call.apply(_ref,[this].concat(args))),_this),_this.state={resolved:false,verificationSuccess:undefined},_temp),__WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_possibleConstructorReturn___default()(_this,_ret);}__WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_createClass___default()(AccountActivation,[{key:'verifyAccountAttempt',value:function(){var _ref2=__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_asyncToGenerator___default()(/*#__PURE__*/__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default.a.mark(function _callee(){var _props,role,_props$match$params,id,token;return __WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_props=this.props,role=_props.role,_props$match$params=_props.match.params,id=_props$match$params.id,token=_props$match$params.token;return _context.abrupt('return',role===__WEBPACK_IMPORTED_MODULE_14_Shared_constants_User__[\"f\" /* Roles */].candidate.name?userService.verifyCandidateAccount(id,{token:token}):userService.verifyEmployerAccount(id,{token:token}));case 2:case'end':return _context.stop();}}},_callee,this);}));function verifyAccountAttempt(){return _ref2.apply(this,arguments);}return verifyAccountAttempt;}()},{key:'componentDidMount',value:function(){var _ref3=__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_asyncToGenerator___default()(/*#__PURE__*/__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default.a.mark(function _callee2(){return __WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default.a.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return this.verifyAccountAttempt();case 3:this.verificationSuccess();_context2.next=9;break;case 6:_context2.prev=6;_context2.t0=_context2['catch'](0);this.verificationFail();case 9:case'end':return _context2.stop();}}},_callee2,this,[[0,6]]);}));function componentDidMount(){return _ref3.apply(this,arguments);}return componentDidMount;}()},{key:'verificationSuccess',value:function verificationSuccess(){this.update(true);}},{key:'verificationFail',value:function verificationFail(){this.update(false);}},{key:'update',value:function update(verificationSuccess){this.setState({resolved:true,verificationSuccess:verificationSuccess});}},{key:'render',value:function render(){var _props2=this.props,t=_props2.t,role=_props2.role,id=_props2.match.params.id;return Object(__WEBPACK_IMPORTED_MODULE_10_ramda__[\"ifElse\"])(Object(__WEBPACK_IMPORTED_MODULE_10_ramda__[\"prop\"])('resolved'),redirect(t,role,id),Object(__WEBPACK_IMPORTED_MODULE_10_ramda__[\"always\"])(null))(this.state);}}]);return AccountActivation;}(__WEBPACK_IMPORTED_MODULE_7_react__[\"Component\"]);AccountActivation.propTypes={role:__WEBPACK_IMPORTED_MODULE_8_prop_types___default.a.string.isRequired};var redirect=function redirect(t,role,id){return function(state){var verificationSuccess=Object(__WEBPACK_IMPORTED_MODULE_10_ramda__[\"prop\"])('verificationSuccess',state);if(verificationSuccess){return __WEBPACK_IMPORTED_MODULE_7_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_9_react_router_dom__[\"d\" /* Redirect */],{to:{pathname:'/'+role+'/thanks',state:{id:id}}});}displayResultNotice(t)(verificationSuccess);return __WEBPACK_IMPORTED_MODULE_7_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_9_react_router_dom__[\"d\" /* Redirect */],{to:'/'+role+'/login'});};};var displayResultNotice=function displayResultNotice(t){return Object(__WEBPACK_IMPORTED_MODULE_10_ramda__[\"pipe\"])(getNoticeData(t),__WEBPACK_IMPORTED_MODULE_11_notie___default.a.alert);};var success=function success(t){return function(){return{type:'success',text:t('accountVerification.success')};};};var fail=function fail(t){return function(){return{type:'error',text:t('accountVerification.fail')};};};var getNoticeData=function getNoticeData(t){return Object(__WEBPACK_IMPORTED_MODULE_10_ramda__[\"ifElse\"])(Object(__WEBPACK_IMPORTED_MODULE_10_ramda__[\"equals\"])(true),success(t),fail(t));};/* harmony default export */ __webpack_exports__[\"default\"] = (Object(__WEBPACK_IMPORTED_MODULE_9_react_router_dom__[\"g\" /* withRouter */])(Object(__WEBPACK_IMPORTED_MODULE_12_Shared_hoc_withTranslations__[\"a\" /* default */])(AccountActivation)));\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/AccountActivation.3ef64a50.chunk.js","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { withRouter, Redirect } from 'react-router-dom'\r\nimport { ifElse, prop, always, pipe, equals } from 'ramda'\r\nimport notie from 'notie'\r\nimport withTranslations from 'Shared/hoc/withTranslations'\r\nimport UserService from 'Shared/services/UserService'\r\nimport { Roles } from 'Shared/constants/User'\r\n\r\nconst userService = new UserService()\r\n\r\nclass AccountActivation extends Component {\r\n  static propTypes = {\r\n    role: PropTypes.string.isRequired\r\n  }\r\n  state = {\r\n    resolved: false,\r\n    verificationSuccess: undefined\r\n  }\r\n\r\n  async verifyAccountAttempt () {\r\n    const { role, match: { params: { id, token } } } = this.props\r\n\r\n    return role === Roles.candidate.name\r\n      ? userService.verifyCandidateAccount(id, { token })\r\n      : userService.verifyEmployerAccount(id, { token })\r\n  }\r\n\r\n  async componentDidMount () {\r\n    try {\r\n      await this.verifyAccountAttempt()\r\n\r\n      this.verificationSuccess()\r\n    } catch (e) {\r\n      this.verificationFail()\r\n    }\r\n  }\r\n\r\n  verificationSuccess () {\r\n    this.update(true)\r\n  }\r\n\r\n  verificationFail () {\r\n    this.update(false)\r\n  }\r\n\r\n  update (verificationSuccess) {\r\n    this.setState({\r\n      resolved: true,\r\n      verificationSuccess\r\n    })\r\n  }\r\n\r\n  render () {\r\n    const { t, role, match: { params: { id } } } = this.props\r\n\r\n    return ifElse(\r\n      prop('resolved'),\r\n      redirect(t, role, id),\r\n      always(null)\r\n    )(this.state)\r\n  }\r\n}\r\n\r\nconst redirect = (t, role, id) => state => {\r\n  const verificationSuccess = prop('verificationSuccess', state)\r\n\r\n  if (verificationSuccess) {\r\n    return <Redirect to={{ pathname: `/${role}/thanks`, state: { id } }} />\r\n  }\r\n\r\n  displayResultNotice(t)(verificationSuccess)\r\n  return <Redirect to={`/${role}/login`} />\r\n}\r\n\r\nconst displayResultNotice = t => pipe(\r\n  getNoticeData(t),\r\n  notie.alert\r\n)\r\n\r\nconst success = t => () => ({ type: 'success', text: t('accountVerification.success') })\r\n\r\nconst fail = t => () => ({ type: 'error', text: t('accountVerification.fail') })\r\n\r\nconst getNoticeData = t => ifElse(\r\n  equals(true),\r\n  success(t),\r\n  fail(t)\r\n)\r\n\r\nexport default withRouter(withTranslations(AccountActivation))\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/Shared/components/Registration/AccountActivation.js"],"sourceRoot":""}